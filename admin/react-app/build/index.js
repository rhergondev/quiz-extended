(()=>{var e={2:(e,t,r)=>{var n=r(2199),o=r(4664),i=r(5950);e.exports=function(e){return n(e,i,o)}},79:(e,t,r)=>{var n=r(3702),o=r(80),i=r(4739),s=r(8655),a=r(1175);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},80:(e,t,r)=>{var n=r(6025),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():o.call(t,r,1),--this.size,0))}},270:(e,t,r)=>{var n=r(7068),o=r(346);e.exports=function e(t,r,i,s,a){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!=t&&r!=r:n(t,r,i,s,e,a))}},289:(e,t,r)=>{var n=r(2651);e.exports=function(e){return n(this,e).get(e)}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},317:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},659:(e,t,r)=>{var n=r(1873),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var o=s.call(e);return n&&(t?e[a]=r:delete e[a]),o}},689:(e,t,r)=>{var n=r(2),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,s,a){var l=1&r,c=n(e),u=c.length;if(u!=n(t).length&&!l)return!1;for(var d=u;d--;){var p=c[d];if(!(l?p in t:o.call(t,p)))return!1}var f=a.get(e),h=a.get(t);if(f&&h)return f==t&&h==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=l;++d<u;){var y=e[p=c[d]],v=t[p];if(i)var b=l?i(v,y,p,t,e,a):i(y,v,p,e,t,a);if(!(void 0===b?y===v||s(y,v,r,i,a):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var x=e.constructor,_=t.constructor;x==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _||(m=!1)}return a.delete(e),a.delete(t),m}},695:(e,t,r)=>{var n=r(8096),o=r(2428),i=r(6449),s=r(3656),a=r(361),l=r(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),u=!r&&o(e),d=!r&&!u&&s(e),p=!r&&!u&&!d&&l(e),f=r||u||d||p,h=f?n(e.length,String):[],m=h.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||h.push(g);return h}},938:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},945:(e,t,r)=>{var n=r(79),o=r(8223),i=r(3661);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(s)}return r.set(e,t),this.size=r.size,this}},1042:(e,t,r)=>{var n=r(6110)(Object,"create");e.exports=n},1175:(e,t,r)=>{var n=r(6025);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1420:(e,t,r)=>{var n=r(79);e.exports=function(){this.__data__=new n,this.size=0}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},1549:(e,t,r)=>{var n=r(2032),o=r(3862),i=r(6721),s=r(2749),a=r(5749);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},1574:function(e){var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),o=r(18),i=r(19),s=r(45),a=r(46),l=r(47),c=r(48),u=r(49),d=r(12),p=r(32),f=r(33),h=r(31),m=r(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:n.default,Format:o.default,Leaf:i.default,Embed:c.default,Scroll:s.default,Block:l.default,Inline:a.default,Text:u.default,Attributor:{Attribute:d.default,Class:p.default,Style:f.default,Store:h.default}};t.default=g},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return o(t,e),t}(Error);t.ParchmentError=i;var s,a={},l={},c={},u={};function d(e,t){var r;if(void 0===t&&(t=s.ANY),"string"==typeof e)r=u[e]||a[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=u.text;else if("number"==typeof e)e&s.LEVEL&s.BLOCK?r=u.block:e&s.LEVEL&s.INLINE&&(r=u.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var o in n)if(r=l[n[o]])break;r=r||c[e.tagName]}return null==r?null:t&s.LEVEL&r.scope&&t&s.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(s=t.Scope||(t.Scope={})),t.create=function(e,t){var r=d(e);if(null==r)throw new i("Unable to create "+e+" blot");var n=r,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t);return new n(o,t)},t.find=function e(r,n){return void 0===n&&(n=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:n?e(r.parentNode,n):null},t.query=d,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map(function(t){return e(t)});var n=t[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new i("Invalid definition");if("abstract"===n.blotName)throw new i("Cannot register abstract class");return u[n.blotName||n.attrName]=n,"string"==typeof n.keyName?a[n.keyName]=n:(null!=n.className&&(l[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(function(e){return e.toUpperCase()}):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(function(e){null!=c[e]&&null!=n.className||(c[e]=n)}))),n}},function(e,t,r){var n=r(51),o=r(11),i=r(3),s=r(20),a=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},l.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],r=[];return this.forEach(function(n){(e(n)?t:r).push(n)}),[t,r]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+s.length(t):t.delete?e-t.delete:e},0)},l.prototype.length=function(){return this.reduce(function(e,t){return e+s.length(t)},0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=s.iterator(this.ops),o=0;o<t&&n.hasNext();){var i;o<e?i=n.next(e-o):(i=n.next(t-o),r.push(i)),o+=s.length(i)}return new l(r)},l.prototype.compose=function(e){var t=s.iterator(this.ops),r=s.iterator(e.ops),n=[],i=r.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var a=i.retain;"insert"===t.peekType()&&t.peekLength()<=a;)a-=t.peekLength(),n.push(t.next());i.retain-a>0&&r.next(i.retain-a)}for(var c=new l(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())c.push(r.next());else if("delete"===t.peekType())c.push(t.next());else{var u=Math.min(t.peekLength(),r.peekLength()),d=t.next(u),p=r.next(u);if("number"==typeof p.retain){var f={};"number"==typeof d.retain?f.retain=u:f.insert=d.insert;var h=s.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(h&&(f.attributes=h),c.push(f),!r.hasNext()&&o(c.ops[c.ops.length-1],f)){var m=new l(t.rest());return c.concat(m).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&c.push(p)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var r=[this,e].map(function(t){return t.map(function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:a;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),i=new l,c=n(r[0],r[1],t),u=s.iterator(this.ops),d=s.iterator(e.ops);return c.forEach(function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case n.INSERT:r=Math.min(d.peekLength(),t),i.push(d.next(r));break;case n.DELETE:r=Math.min(t,u.peekLength()),u.next(r),i.delete(r);break;case n.EQUAL:r=Math.min(u.peekLength(),d.peekLength(),t);var a=u.next(r),l=d.next(r);o(a.insert,l.insert)?i.retain(r,s.attributes.diff(a.attributes,l.attributes)):i.push(l).delete(r)}t-=r}}),i.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var r=s.iterator(this.ops),n=new l,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),a=s.length(i)-r.peekLength(),c="string"==typeof i.insert?i.insert.indexOf(t,a)-a:-1;if(c<0)n.push(r.next());else if(c>0)n.push(r.next(c));else{if(!1===e(n,r.next(1).attributes||{},o))return;o+=1,n=new l}}n.length()>0&&e(n,{},o)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=s.iterator(this.ops),n=s.iterator(e.ops),o=new l;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),a=r.next(i),c=n.next(i);if(a.delete)continue;c.delete?o.push(c):o.retain(i,s.attributes.transform(a.attributes,c.attributes,t))}else o.retain(s.length(r.next()));return o.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var r=s.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=o),n+=o):e-=Math.min(o,e-n)}return e},e.exports=l},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},a=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,o=r.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(t in e);return void 0===t||r.call(e,t)},l=function(e,t){o&&"__proto__"===t.name?o(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,r,n,o,i,u,d=arguments[0],p=1,f=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<f;++p)if(null!=(t=arguments[p]))for(r in t)n=c(d,r),d!==(o=c(t,r))&&(h&&o&&(a(o)||(i=s(o)))?(i?(i=!1,u=n&&s(n)?n:[]):u=n&&a(n)?n:{},l(d,{name:r,newValue:e(h,u,o)})):void 0!==o&&l(d,{name:r,newValue:o}));return d}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},i=d(r(3)),s=d(r(2)),a=d(r(0)),l=d(r(16)),c=d(r(6)),u=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),n(t,[{key:"attach",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new a.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new s.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=a.default.query(e,a.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,n){this.format(r,n)}},{key:"insertAt",value:function(e,r,n){if("string"==typeof r&&r.endsWith("\n")){var i=a.default.create(g.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,r.slice(0,-1))}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n)}}]),t}(a.default.Embed);m.scope=a.default.Scope.BLOCK_BLOT;var g=function(e){function t(e){p(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cache={},r}return h(t,e),n(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(a.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),y(t))},new s.default).insert("\n",y(this))),this.cache.delta}},{key:"deleteAt",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),this.cache={}}},{key:"formatAt",value:function(e,r,n,i){r<=0||(a.default.query(n,a.default.Scope.BLOCK)?e+r===this.length()&&this.format(n,i):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),n,i),this.cache={})}},{key:"insertAt",value:function(e,r,n){if(null!=n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);if(0!==r.length){var i=r.split("\n"),s=i.shift();s.length>0&&(e<this.length()-1||null==this.children.tail?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});var a=this;i.reduce(function(e,t){return(a=a.split(e,!0)).insertAt(0,t),t.length},e+s.length)}}},{key:"insertBefore",value:function(e,r){var n=this.children.head;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r),n instanceof l.default&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,r),this.cache={}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var i=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,r);return this.cache={},i}}]),t}(a.default.Block);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:y(e.parent,t))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[c.default,a.default.Embed,u.default],t.bubbleFormats=y,t.BlockEmbed=m,t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],_n=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);_n=!0);}catch(e){n=!0,o=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(50);var s=g(r(2)),a=g(r(14)),l=g(r(8)),c=g(r(9)),u=g(r(0)),d=r(15),p=g(d),f=g(r(3)),h=g(r(10)),m=g(r(34));function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=(0,h.default)("quill"),b=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=x(t,n),this.container=this.options.container,null==this.container)return v.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e){e===l.default.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(e,t){var n=r.selection.lastRange,o=n&&0===n.length?n.index:void 0;_.call(r,function(){return r.editor.update(null,t,o)},e)});var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),h.default.level(e)}},{key:"find",value:function(e){return e.__quill||u.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&v.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var o=e.attrName||e.blotName;"string"==typeof o?this.register("formats/"+o,e,t):Object.keys(e).forEach(function(n){r.register(n,e[n],t)})}else null==this.imports[e]||n||v.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?u.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var n=this,i=w(e,t,r),s=o(i,4);return e=s[0],t=s[1],r=s[3],_.call(this,function(){return n.editor.deleteText(e,t)},r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return _.call(this,function(){var n=r.getSelection(!0),o=new s.default;if(null==n)return o;if(u.default.query(e,u.default.Scope.BLOCK))o=r.editor.formatLine(n.index,n.length,y({},e,t));else{if(0===n.length)return r.selection.format(e,t),o;o=r.editor.formatText(n.index,n.length,y({},e,t))}return r.setSelection(n,l.default.sources.SILENT),o},n)}},{key:"formatLine",value:function(e,t,r,n,i){var s,a=this,l=w(e,t,r,n,i),c=o(l,4);return e=c[0],t=c[1],s=c[2],i=c[3],_.call(this,function(){return a.editor.formatLine(e,t,s)},i,e,0)}},{key:"formatText",value:function(e,t,r,n,i){var s,a=this,l=w(e,t,r,n,i),c=o(l,4);return e=c[0],t=c[1],s=c[2],i=c[3],_.call(this,function(){return a.editor.formatText(e,t,s)},i,e,0)}},{key:"getBounds",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t="number"==typeof e?this.selection.getBounds(e,r):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:t.bottom-n.top,height:t.height,left:t.left-n.left,right:t.right-n.left,top:t.top-n.top,width:t.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),n=o(r,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),n=o(r,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,n){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return _.call(this,function(){return o.editor.insertEmbed(t,r,n)},i,t)}},{key:"insertText",value:function(e,t,r,n,i){var s,a=this,l=w(e,0,r,n,i),c=o(l,4);return e=c[0],s=c[2],i=c[3],_.call(this,function(){return a.editor.insertText(e,t,s)},i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var n=this,i=w(e,t,r),s=o(i,4);return e=s[0],t=s[1],r=s[3],_.call(this,function(){return n.editor.removeFormat(e,t)},r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return _.call(this,function(){e=new s.default(e);var r=t.getLength(),n=t.editor.deleteText(0,r),o=t.editor.applyDelta(e),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),o.delete(1)),n.compose(o)},r)}},{key:"setSelection",value:function(t,r,n){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var i=w(t,r,n),s=o(i,4);t=s[0],r=s[1],n=s[3],this.selection.setRange(new d.Range(t,r),n),n!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,r=(new s.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return _.call(this,function(){return e=new s.default(e),t.editor.applyDelta(e,r)},r,!0)}}]),e}();function x(e,t){if((t=(0,f.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=m.default;var r=(0,f.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var n=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var r=b.import("modules/"+t);return null==r?v.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,f.default)(!0,{},b.DEFAULTS,{modules:n},r,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e},{}),t}function _(e,t,r,n){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new s.default;var o=null==r?null:this.getSelection(),i=this.editor.delta,a=e();if(null!=o&&(!0===r&&(r=o.index),null==n?o=j(o,a,t):0!==n&&(o=j(o,r,n,t)),this.setSelection(o,l.default.sources.SILENT)),a.length()>0){var c,u,d=[l.default.events.TEXT_CHANGE,a,i,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return a}function w(e,t,r,o,i){var s={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=o,o=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=o,o=r,r=t,t=0),"object"===(void 0===r?"undefined":n(r))?(s=r,i=o):"string"==typeof r&&(null!=o?s[r]=o:i=r),[e,t,s,i=i||l.default.sources.API]}function j(e,t,r,n){if(null==e)return null;var i=void 0,a=void 0;if(t instanceof s.default){var c=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,n!==l.default.sources.USER)}),u=o(c,2);i=u[0],a=u[1]}else{var p=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&n===l.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)}),f=o(p,2);i=f[0],a=f[1]}return new d.Range(i,a-i)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=l.default.events,b.sources=l.default.sources,b.version="1.3.7",b.imports={delta:s.default,parchment:u.default,"core/module":c.default,"core/theme":m.default},t.expandConfig=x,t.overload=w,t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},i=a(r(7)),s=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"formatAt",value:function(e,r,n,i){if(t.compare(this.statics.blotName,n)<0&&s.default.query(n,s.default.Scope.BLOT)){var a=this.isolate(e,r);i&&a.wrap(n,i)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,i)}},{key:"optimize",value:function(e){if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(e,r){var n=t.order.indexOf(e),o=t.order.indexOf(r);return n>=0||o>=0?n-o:e===r?0:e<r?-1:1}}]),t}(s.default.Inline);l.allowedChildren=[l,s.default.Embed,i.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=r(0))&&n.__esModule?n:{default:n}).default.Text);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},i=s(r(54));function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,s(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)})})});var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",a.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(){a.log.apply(a,arguments),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach(function(t){var n=t.node,o=t.handler;(e.target===n||n.contains(e.target))&&o.apply(void 0,[e].concat(r))})}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),t}(i.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r};n.DEFAULTS={},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["error","warn","log","info"],o="warn";function i(e){if(n.indexOf(e)<=n.indexOf(o)){for(var t,r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];(t=console)[e].apply(t,i)}}function s(e){return n.reduce(function(t,r){return t[r]=i.bind(console,r,e),t},{})}i.level=s.level=function(e){o=e},t.default=s},function(e,t,r){var n=Array.prototype.slice,o=r(52),i=r(53),s=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var c,u;if(a(e)||a(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=n.call(e),t=n.call(t),s(e,t,r));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var d=o(e),p=o(t)}catch(e){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),c=d.length-1;c>=0;c--)if(d[c]!=p[c])return!1;for(c=d.length-1;c>=0;c--)if(u=d[c],!s(e[u],t[u],r))return!1;return typeof e==typeof t}(e,t,r))};function a(e){return null==e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var o=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&n.Scope.LEVEL|o:this.scope=n.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],_n=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);_n=!0);}catch(e){n=!0,o=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=d(r(2)),a=d(r(0)),l=d(r(4)),c=d(r(6)),u=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(c.default);m.blotName="code",m.tagName="CODE";var g=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),o(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,r){return t.insert(r).insert("\n",e.formats())},new s.default)}},{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r){var o=this.descendant(u.default,this.length()-1),s=n(o,1)[0];null!=s&&s.deleteAt(s.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}},{key:"formatAt",value:function(e,r,n,o){if(0!==r&&null!=a.default.query(n,a.default.Scope.BLOCK)&&(n!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+r)){var s=this.newlineIndex(e,!0)+1,l=i-s+1,c=this.isolate(s,l),u=c.next;c.format(n,o),u instanceof t&&u.formatAt(0,e-s+r-l,n,o)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var o=this.descendant(u.default,e),i=n(o,2),s=i[0],a=i[1];s.insertAt(a,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(a.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=a.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof a.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("spellcheck",!1),r}},{key:"formats",value:function(){return!0}}]),t}(l.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=m,t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],_n=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);_n=!0);}catch(e){n=!0,o=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=y(r(2)),a=y(r(20)),l=y(r(0)),c=y(r(13)),u=y(r(24)),d=r(4),p=y(d),f=y(r(16)),h=y(r(21)),m=y(r(11)),g=y(r(3));function y(e){return e&&e.__esModule?e:{default:e}}var v=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var r=(0,h.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,h.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)},new s.default)}(e)).reduce(function(e,s){var c=s.retain||s.delete||s.insert.length||1,u=s.attributes||{};if(null!=s.insert){if("string"==typeof s.insert){var f=s.insert;f.endsWith("\n")&&r&&(r=!1,f=f.slice(0,-1)),e>=i&&!f.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,f);var h=t.scroll.line(e),m=o(h,2),y=m[0],v=m[1],b=(0,g.default)({},(0,d.bubbleFormats)(y));if(y instanceof p.default){var x=y.descendant(l.default.Leaf,v),_=o(x,1)[0];b=(0,g.default)(b,(0,d.bubbleFormats)(_))}u=a.default.attributes.diff(b,u)||{}}else if("object"===n(s.insert)){var w=Object.keys(s.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,s.insert[w])}i+=c}return Object.keys(u).forEach(function(r){t.scroll.formatAt(e,c,r,u[r])}),e+c},0),e.reduce(function(e,r){return"number"==typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new s.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach(function(o){if(null==r.scroll.whitelist||r.scroll.whitelist[o]){var i=r.scroll.lines(e,Math.max(t,1)),s=t;i.forEach(function(t){var i=t.length();if(t instanceof c.default){var a=e-t.offset(r.scroll),l=t.newlineIndex(a+s)-a+1;t.formatAt(a,l,o,n[o])}else t.format(o,n[o]);s-=i})}}),this.scroll.optimize(),this.update((new s.default).retain(e).retain(t,(0,h.default)(n)))}},{key:"formatText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach(function(o){r.scroll.formatAt(e,t,o,n[o])}),this.update((new s.default).retain(e).retain(t,(0,h.default)(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new s.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=[];0===t?this.scroll.path(e).forEach(function(e){var t=o(e,1)[0];t instanceof p.default?r.push(t):t instanceof l.default.Leaf&&n.push(t)}):(r=this.scroll.lines(e,t),n=this.scroll.descendants(l.default.Leaf,e,t));var i=[r,n].map(function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=x((0,d.bubbleFormats)(r),t)}return t});return g.default.apply(g.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"==typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new s.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach(function(o){r.scroll.formatAt(e,t.length,o,n[o])}),this.update((new s.default).retain(e).insert(t,(0,h.default)(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof f.default}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),n=this.scroll.line(e+t),i=o(n,2),a=i[0],l=i[1],u=0,d=new s.default;null!=a&&(u=a instanceof c.default?a.newlineIndex(l)-l+1:a.length()-l,d=a.delta().slice(l,l+u-1).insert("\n"));var p=this.getContents(e,t+u).diff((new s.default).insert(r).concat(d)),f=(new s.default).retain(e).concat(p);return this.applyDelta(f)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(v)&&l.default.find(t[0].target)){var o=l.default.find(t[0].target),i=(0,d.bubbleFormats)(o),a=o.offset(this.scroll),c=t[0].oldValue.replace(u.default.CONTENTS,""),p=(new s.default).insert(c),f=(new s.default).insert(o.value());e=(new s.default).retain(a).concat(p.diff(f,r)).reduce(function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)},new s.default),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&(0,m.default)(n.compose(e),this.delta)||(e=n.diff(this.delta,r));return e}}]),e}();function x(e,t){return Object.keys(t).reduce(function(r,n){return null==e[n]||(t[n]===e[n]?r[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(r[n]=t[n].concat([e[n]])):r[n]=[t[n],e[n]]),r},{})}t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],_n=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);_n=!0);}catch(e){n=!0,o=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=c(r(0)),s=c(r(21)),a=c(r(11)),l=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,c(r(10)).default)("quill:selection"),f=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=r},h=function(){function e(t,r){var n=this;d(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){n.mouseDown||setTimeout(n.update.bind(n,l.default.sources.USER),1)}),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&n.update(l.default.sources.SILENT)}),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(l.default.events.SCROLL_UPDATE,function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}})}}),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var r=t.range,o=r.startNode,i=r.startOffset,s=r.endNode,a=r.endOffset;n.setNativeRange(o,i,s,a)}}),this.update(l.default.sources.SILENT)}return o(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(l.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var n=i.default.find(r.start.node,!1);if(null==n)return;if(n instanceof i.default.Leaf){var o=n.split(r.start.offset);n.parent.insertBefore(this.cursor,o)}else n.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var o=void 0,i=this.scroll.leaf(e),s=n(i,2),a=s[0],l=s[1];if(null==a)return null;var c=a.position(l,!0),u=n(c,2);o=u[0],l=u[1];var d=document.createRange();if(t>0){d.setStart(o,l);var p=this.scroll.leaf(e+t),f=n(p,2);if(a=f[0],l=f[1],null==a)return null;var h=a.position(l,!0),m=n(h,2);return o=m[0],l=m[1],d.setEnd(o,l),d.getBoundingClientRect()}var g="left",y=void 0;return o instanceof Text?(l<o.data.length?(d.setStart(o,l),d.setEnd(o,l+1)):(d.setStart(o,l-1),d.setEnd(o,l),g="right"),y=d.getBoundingClientRect()):(y=a.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:y.top+y.height,height:y.height,left:y[g],right:y[g],top:y.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return p.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var o=r.map(function(e){var r=n(e,2),o=r[0],s=r[1],a=i.default.find(o,!0),l=a.offset(t.scroll);return 0===s?l:a instanceof i.default.Container?l+a.length():l+a.index(o,s)}),s=Math.min(Math.max.apply(Math,u(o)),this.scroll.length()-1),a=Math.min.apply(Math,[s].concat(u(o)));return new f(a,s-a)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r}),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],o=[],i=this.scroll.length();return r.forEach(function(e,r){e=Math.min(i-1,e);var s,a=t.scroll.leaf(e),l=n(a,2),c=l[0],u=l[1],d=c.position(u,0!==r),p=n(d,2);s=p[0],u=p[1],o.push(s,u)}),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,o)),s=n(i,1)[0],a=s;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,o));a=n(l,1)[0]}if(null!=s&&null!=a){var c=e.getBoundingClientRect();r.top<c.top?e.scrollTop-=c.top-r.top:r.bottom>c.bottom&&(e.scrollTop+=r.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,r,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;if(null==s||o||e!==s.startContainer||t!==s.startOffset||r!==s.endContainer||n!==s.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(n=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var a=document.createRange();a.setStart(e,t),a.setEnd(r,n),i.removeAllRanges(),i.addRange(a)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t&&(r=t,t=!1),p.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,u(n).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,r=this.getRange(),o=n(r,2),i=o[0],c=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,a.default)(t,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[l.default.events.SELECTION_CHANGE,(0,s.default)(this.lastRange),(0,s.default)(t),e];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(p)),e!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),e}();function m(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=f,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"insertInto",value:function(e,r){0===e.children.length?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((n=r(0))&&n.__esModule?n:{default:n}).default.Embed);s.blotName="break",s.tagName="BR",t.default=s},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(44),s=r(30),a=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return o(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var r=c(t);e.insertBefore(r,e.children.head||void 0)}catch(e){if(e instanceof a.ParchmentError)return;throw e}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,r){e.deleteAt(t,r)})},t.prototype.descendant=function(e,r){var n=this.children.find(r),o=n[0],i=n[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,i]:o instanceof t?o.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=Number.MAX_VALUE);var o=[],i=n;return this.children.forEachAt(r,n,function(r,n,s){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&o.push(r),r instanceof t&&(o=o.concat(r.descendants(e,n,i))),i-=s}),o},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,n){this.children.forEachAt(e,t,function(e,t,o){e.formatAt(t,o,r,n)})},t.prototype.insertAt=function(e,t,r){var n=this.children.find(e),o=n[0],i=n[1];if(o)o.insertAt(i,t,r);else{var s=null==r?a.create("text",t):a.create(t,r);this.appendChild(s)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new a.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(r){e.insertBefore(r,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=a.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var n=this.children.find(e,r),o=n[0],i=n[1],s=[[this,e]];return o instanceof t?s.concat(o.path(i,r)):(null!=o&&s.push([o,i]),s)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),function(e,n,o){e=e.split(n,t),r.appendChild(e)}),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,n=[],o=[];e.forEach(function(e){e.target===r.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),o.push.apply(o,e.removedNodes))}),o.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=a.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}}),n.filter(function(e){return e.parentNode==r.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=a.find(e.nextSibling));var n=c(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(r),r.insertBefore(n,t||void 0))})},t}(s.default);function c(e){var t=a.find(e);if(null==t)try{t=a.create(e)}catch(r){t=a.create(a.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),s=r(31),a=r(17),l=r(1),c=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new s.default(r.domNode),r}return o(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=l.query(e);r instanceof i.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var n=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(n),n},t.prototype.update=function(t,r){var n=this;e.prototype.update.call(this,t,r),t.some(function(e){return e.target===n.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(r,n){var o=e.prototype.wrap.call(this,r,n);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(a.default);t.default=c},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(30),s=r(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=s.Scope.INLINE_BLOT,t}(i.default);t.default=a},function(e,t,r){var n=r(11),o=r(3),i={attributes:{compose:function(e,t,r){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=o(!0,{},t);for(var i in r||(n=Object.keys(n).reduce(function(e,t){return null!=n[t]&&(e[t]=n[t]),e},{})),e)void 0!==e[i]&&void 0===t[i]&&(n[i]=e[i]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce(function(r,o){return n(e[o],t[o])||(r[o]=void 0===t[o]?null:t[o]),r},{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce(function(r,n){return void 0===e[n]&&(r[n]=t[n]),r},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new s(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function s(e){this.ops=e,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=i.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e.exports=i},function(e,t){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(e){t=function(){}}try{r=Set}catch(e){r=function(){}}try{n=Promise}catch(e){n=function(){}}function o(i,a,l,c,u){"object"==typeof a&&(l=a.depth,c=a.prototype,u=a.includeNonEnumerable,a=a.circular);var d=[],p=[],f="undefined"!=typeof Buffer;return void 0===a&&(a=!0),void 0===l&&(l=1/0),function i(l,h){if(null===l)return null;if(0===h)return l;var m,g;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,r))m=new r;else if(e(l,n))m=new n(function(e,t){l.then(function(t){e(i(t,h-1))},function(e){t(i(e,h-1))})});else if(o.__isArray(l))m=[];else if(o.__isRegExp(l))m=new RegExp(l.source,s(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(o.__isDate(l))m=new Date(l.getTime());else{if(f&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):void 0===c?(g=Object.getPrototypeOf(l),m=Object.create(g)):(m=Object.create(c),g=c)}if(a){var y=d.indexOf(l);if(-1!=y)return p[y];d.push(l),p.push(m)}for(var v in e(l,t)&&l.forEach(function(e,t){var r=i(t,h-1),n=i(e,h-1);m.set(r,n)}),e(l,r)&&l.forEach(function(e){var t=i(e,h-1);m.add(t)}),l){var b;g&&(b=Object.getOwnPropertyDescriptor(g,v)),b&&null==b.set||(m[v]=i(l[v],h-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(l);for(v=0;v<x.length;v++){var _=x[v];(!(j=Object.getOwnPropertyDescriptor(l,_))||j.enumerable||u)&&(m[_]=i(l[_],h-1),j.enumerable||Object.defineProperty(m,_,{enumerable:!1}))}}if(u){var w=Object.getOwnPropertyNames(l);for(v=0;v<w.length;v++){var j,N=w[v];(j=Object.getOwnPropertyDescriptor(l,N))&&j.enumerable||(m[N]=i(l[N],h-1),Object.defineProperty(m,N,{enumerable:!1}))}}return m}(i,l)}function i(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=s,o}();"object"==typeof e&&e.exports&&(e.exports=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],_n=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);_n=!0);}catch(e){n=!0,o=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=f(r(0)),a=f(r(8)),l=r(4),c=f(l),u=f(r(16)),d=f(r(13)),p=f(r(25));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){return e instanceof c.default||e instanceof l.BlockEmbed}var m=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.emitter=r.emitter,Array.isArray(r.whitelist)&&(n.whitelist=r.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),n.domNode.addEventListener("DOMNodeInserted",function(){}),n.optimize(),n.enable(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,r){var o=this.line(e),s=n(o,2),a=s[0],c=s[1],p=this.line(e+r),f=n(p,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),null!=f&&a!==f&&c>0){if(a instanceof l.BlockEmbed||f instanceof l.BlockEmbed)return void this.optimize();if(a instanceof d.default){var h=a.newlineIndex(a.length(),!0);if(h>-1&&(a=a.split(h+1))===f)return void this.optimize()}else if(f instanceof d.default){var m=f.newlineIndex(0);m>-1&&f.split(m+1)}var g=f.children.head instanceof u.default?null:f.children.head;a.moveChildren(f,g),a.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,r,n,o){(null==this.whitelist||this.whitelist[n])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,o),this.optimize())}},{key:"insertAt",value:function(e,r,n){if(null==n||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==n||null==s.default.query(r,s.default.Scope.BLOCK)){var o=s.default.create(this.statics.defaultChild);this.appendChild(o),null==n&&r.endsWith("\n")&&(r=r.slice(0,-1)),o.insertAt(0,r,n)}else{var a=s.default.create(r,n);this.appendChild(a)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===s.default.Scope.INLINE_BLOT){var n=s.default.create(this.statics.defaultChild);n.appendChild(e),e=n}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(h,e)}},{key:"lines",value:function(){return function e(t,r,n){var o=[],i=n;return t.children.forEachAt(r,n,function(t,r,n){h(t)?o.push(t):t instanceof s.default.Container&&(o=o.concat(e(t,r,i))),i-=n}),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,r),e.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,e,r))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var r=a.default.sources.USER;"string"==typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,r,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,r,e)}}}]),t}(s.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[c.default,l.BlockEmbed,p.default],t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],_n=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);_n=!0);}catch(e){n=!0,o=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=m(r(21)),a=m(r(11)),l=m(r(3)),c=m(r(2)),u=m(r(20)),d=m(r(0)),p=m(r(5)),f=m(r(10)),h=m(r(9));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,f.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.bindings={},Object.keys(n.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])}),n.addBinding({key:t.keys.ENTER,shiftKey:null},N),n.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},_),n.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},_),n.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),n.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},j),n.addBinding({key:t.keys.DELETE},{collapsed:!1},j),n.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},_),n.listen(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"match",value:function(e,t){return t=E(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(r){return!!t[r]!==e[r]&&null!==t[r]})&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=E(e);if(null==n||null==n.key)return y.warn("Attempted to add invalid keyboard binding",n);"function"==typeof t&&(t={handler:t}),"function"==typeof r&&(r={handler:r}),n=(0,l.default)(n,t,r),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(r){if(!r.defaultPrevented){var i=r.which||r.keyCode,s=(e.bindings[i]||[]).filter(function(e){return t.match(r,e)});if(0!==s.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),u=o(c,2),p=u[0],f=u[1],h=e.quill.getLeaf(l.index),m=o(h,2),g=m[0],y=m[1],v=0===l.length?[g,y]:e.quill.getLeaf(l.index+l.length),b=o(v,2),x=b[0],_=b[1],w=g instanceof d.default.Text?g.value().slice(0,y):"",j=x instanceof d.default.Text?x.value().slice(_):"",N={collapsed:0===l.length,empty:0===l.length&&p.length()<=1,format:e.quill.getFormat(l),offset:f,prefix:w,suffix:j};s.some(function(t){if(null!=t.collapsed&&t.collapsed!==N.collapsed)return!1;if(null!=t.empty&&t.empty!==N.empty)return!1;if(null!=t.offset&&t.offset!==N.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==N.format[e]}))return!1}else if("object"===n(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=N.format[e]:!1===t.format[e]?null==N.format[e]:(0,a.default)(t.format[e],N.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(N.prefix)||null!=t.suffix&&!t.suffix.test(N.suffix)||!0===t.handler.call(e,l,N))})&&r.preventDefault()}}}})}}]),t}(h.default);function x(e,t){var r,n=e===b.keys.LEFT?"prefix":"suffix";return g(r={key:e,shiftKey:t,altKey:null},n,/^$/),g(r,"handler",function(r){var n=r.index;e===b.keys.RIGHT&&(n+=r.length+1);var i=this.quill.getLeaf(n);return!(o(i,1)[0]instanceof d.default.Embed&&(e===b.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,p.default.sources.USER):this.quill.setSelection(r.index-1,p.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,p.default.sources.USER):this.quill.setSelection(r.index+r.length+1,p.default.sources.USER),1))}),r}function _(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),n=o(r,1)[0],i={};if(0===t.offset){var s=this.quill.getLine(e.index-1),a=o(s,1)[0];if(null!=a&&a.length()>1){var l=n.formats(),c=this.quill.getFormat(e.index-1,1);i=u.default.attributes.diff(l,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-d,d,i,p.default.sources.USER),this.quill.focus()}}function w(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var n={},i=0,s=this.quill.getLine(e.index),a=o(s,1)[0];if(t.offset>=a.length()-1){var l=this.quill.getLine(e.index+1),c=o(l,1)[0];if(c){var d=a.formats(),f=this.quill.getFormat(e.index,1);n=u.default.attributes.diff(d,f)||{},i=c.length()}}this.quill.deleteText(e.index,r,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+i-1,r,n,p.default.sources.USER)}}function j(e){var t=this.quill.getLines(e),r={};if(t.length>1){var n=t[0].formats(),o=t[t.length-1].formats();r=u.default.attributes.diff(o,n)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function N(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce(function(e,r){return d.default.query(r,d.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e},{});this.quill.insertText(e.index,"\n",n,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],p.default.sources.USER))})}function k(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=d.default.query("code-block"),n=t.index,i=t.length,s=this.quill.scroll.descendant(r,n),a=o(s,2),l=a[0],c=a[1];if(null!=l){var u=this.quill.getIndex(l),f=l.newlineIndex(c,!0)+1,h=l.newlineIndex(u+c+i),m=l.domNode.textContent.slice(f,h).split("\n");c=0,m.forEach(function(t,o){e?(l.insertAt(f+c,r.TAB),c+=r.TAB.length,0===o?n+=r.TAB.length:i+=r.TAB.length):t.startsWith(r.TAB)&&(l.deleteAt(f+c,r.TAB.length),c-=r.TAB.length,0===o?n-=r.TAB.length:i-=r.TAB.length),c+=t.length+1}),this.quill.update(p.default.sources.USER),this.quill.setSelection(n,i,p.default.sources.SILENT)}}}}function C(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],p.default.sources.USER)}}}function E(e){if("string"==typeof e||"number"==typeof e)return E({key:e});if("object"===(void 0===e?"undefined":n(e))&&(e=(0,s.default)(e,!1)),"string"==typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[v]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:C("bold"),italic:C("italic"),underline:C("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=o(t,2),n=r[0],i=r[1],s=(0,l.default)({},n.formats(),{list:"checked"}),a=(new c.default).retain(e.index).insert("\n",s).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),n=o(r,2),i=n[0],s=n[1],a=(new c.default).retain(e.index).insert("\n",t.format).retain(i.length()-s-1).retain(1,{header:null});this.quill.updateContents(a,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,n=this.quill.getLine(e.index),i=o(n,2),s=i[0],a=i[1];if(a>r)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(e.index-a).delete(r+1).retain(s.length()-2-a).retain(1,{list:l});this.quill.updateContents(u,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,p.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=o(t,2),n=r[0],i=r[1],s=(new c.default).retain(e.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(s,p.default.sources.USER)}},"embed left":x(b.keys.LEFT,!1),"embed left shift":x(b.keys.LEFT,!0),"embed right":x(b.keys.RIGHT,!1),"embed right shift":x(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=a(r(0)),s=a(r(7));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selection=r,n.textNode=document.createTextNode(t.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"value",value:function(){}}]),o(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);for(var o=this,s=0;null!=o&&o.statics.scope!==i.default.Scope.BLOCK_BLOT;)s+=o.offset(o.parent),o=o.parent;null!=o&&(this._length=t.CONTENTS.length,o.optimize(),o.formatAt(s,t.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(e,r){return e===this.textNode?0:n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,r=this.selection.getNativeRange(),n=void 0,o=void 0,a=void 0;if(null!=r&&r.start.node===e&&r.end.node===e){var l=[e,r.start.offset,r.end.offset];n=l[0],o=l[1],a=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(n=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(i.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],_n=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);_n=!0);}catch(e){n=!0,o=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([o,a].map(function(e){return Math.max(0,Math.min(n.data.length,e-1))}),2);return o=u[0],a=u[1],{startNode:n,startOffset:o,endNode:n,endOffset:a}}}}},{key:"update",value:function(e,t){var r=this;if(e.some(function(e){return"characterData"===e.type&&e.target===r.textNode})){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),t}(i.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(0)),o=r(4),i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default.Container);a.allowedChildren=[i.default,o.BlockEmbed,a],t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=(n=r(0))&&n.__esModule?n:{default:n},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return r.startsWith("rgb(")?"#"+(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join(""):r}}]),t}(s.default.Attributor.Style),l=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),c=new a("color","color",{scope:s.default.Scope.INLINE});t.ColorAttributor=a,t.ColorClass=l,t.ColorStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return a(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((n=r(6))&&n.__esModule?n:{default:n}).default);function a(e,t){var r=document.createElement("a");r.href=e;var n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}s.blotName="link",s.tagName="A",s.SANITIZED_URL="about:blank",s.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=s,t.sanitize=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=a(r(23)),s=a(r(107));function a(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){r.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case i.default.keys.ENTER:r.togglePicker();break;case i.default.keys.ESCAPE:r.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return o(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",function(){t.selectItem(r,!0)}),r.addEventListener("keydown",function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=s.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(r){var n=e.buildItem(r);t.appendChild(n),!0===r.selected&&e.selectItem(n)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":n(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(0)),o=y(r(5)),i=r(4),s=y(i),a=y(r(16)),l=y(r(25)),c=y(r(24)),u=y(r(35)),d=y(r(6)),p=y(r(22)),f=y(r(7)),h=y(r(55)),m=y(r(42)),g=y(r(23));function y(e){return e&&e.__esModule?e:{default:e}}o.default.register({"blots/block":s.default,"blots/block/embed":i.BlockEmbed,"blots/break":a.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":f.default,"modules/clipboard":h.default,"modules/history":m.default,"modules/keyboard":g.default}),n.default.register(s.default,a.default,c.default,d.default,p.default,f.default),t.default=o.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,o){var i=this.isolate(e,t);if(null!=n.query(r,n.Scope.BLOT)&&o)i.wrap(r,o);else if(null!=n.query(r,n.Scope.ATTRIBUTE)){var s=n.create(this.statics.scope);i.wrap(s),s.format(r,o)}},e.prototype.insertAt=function(e,t,r){var o=null==r?n.create("text",t):n.create(t,r),i=this.split(e);this.parent.insertBefore(o,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"==typeof e?n.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"==typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=r(32),i=r(33),s=r(1),a=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),r=o.default.keys(this.domNode),a=i.default.keys(this.domNode);t.concat(r).concat(a).forEach(function(t){var r=s.query(t,s.Scope.ATTRIBUTE);r instanceof n.default&&(e.attributes[r.attrName]=r)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(r){var n=t.attributes[r].value(t.domNode);e.format(r,n)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,r){return t[r]=e.attributes[r].value(e.domNode),t},{})},e}();t.default=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=s},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});function i(e){var t=e.split("-"),r=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return n(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();o.DEFAULTS={modules:{}},o.themes={default:o},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},i=a(r(0)),s=a(r(7));function a(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach(function(e){r.contentNode.appendChild(e)}),r.leftGuard=document.createTextNode(l),r.rightGuard=document.createTextNode(l),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"index",value:function(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"restore",value:function(e){var t=void 0,r=void 0,n=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof s.default){var o=this.prev.length();this.prev.insertAt(o,n),t={startNode:this.prev.domNode,startOffset:o+n.length}}else r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this),t={startNode:r,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof s.default?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this.next),t={startNode:r,startOffset:n.length}));return e.data=l,t}},{key:"update",value:function(e,t){var r=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var n=r.restore(e.target);n&&(t.range=n)}})}}]),t}(i.default.Embed);t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new o.default.Attributor.Attribute("align","align",i),a=new o.default.Attributor.Class("align","ql-align",i),l=new o.default.Attributor.Style("align","text-align",i);t.AlignAttribute=s,t.AlignClass=a,t.AlignStyle=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(26),s=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),a=new i.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},s=new o.default.Attributor.Attribute("direction","dir",i),a=new o.default.Attributor.Class("direction","ql-direction",i),l=new o.default.Attributor.Style("direction","direction",i);t.DirectionAttribute=s,t.DirectionClass=a,t.DirectionStyle=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=(n=r(0))&&n.__esModule?n:{default:n},a={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},l=new s.default.Attributor.Class("font","ql-font",a),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(s.default.Attributor.Style),u=new c("font","font-family",a);t.FontStyle=u,t.FontClass=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=i,t.SizeStyle=s},function(e,t,r){"use strict";e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=s(r(0)),i=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(i.default.events.EDITOR_CHANGE,function(e,t,r,o){e!==i.default.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&o!==i.default.sources.USER?n.transform(t):n.record(t,r))}),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(n)),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(n)),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],i.default.sources.USER),this.ignoreChange=!1;var n=l(r[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var o=this.stack.undo.pop();r=r.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(s(r(9)).default);function l(e){var t=e.reduce(function(e,t){return e+(t.delete||0)},0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=o.default.query(e,o.default.Scope.BLOCK)}))}(e)&&(r-=1),r}a.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=a,t.getLastChangeIndex=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},i=h(r(3)),s=h(r(2)),a=h(r(8)),l=h(r(23)),c=h(r(34)),u=h(r(59)),d=h(r(60)),p=h(r(28)),f=h(r(61));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],x=[!1,"serif","monospace"],_=["1","2","3",!1],w=["small",!1,"large","huge"],j=function(e){function t(e,r){m(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.emitter.listenDOM("click",document.body,function t(r){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==n.tooltip||n.tooltip.root.contains(r.target)||document.activeElement===n.tooltip.textbox||n.quill.hasFocus()||n.tooltip.hide(),null!=n.pickers&&n.pickers.forEach(function(e){e.container.contains(r.target)||e.close()})}),n}return y(t,e),n(t,[{key:"addModule",value:function(e){var r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(r),r}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(r){if(r.startsWith("ql-")&&(r=r.slice(3),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"==typeof t[r])e.innerHTML=t[r];else{var n=e.value||"";null!=n&&t[r][n]&&(e.innerHTML=t[r][n])}})})}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&k(e,v),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&k(e,b,"background"===r?"#ffffff":"#000000"),new u.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?k(e,x):e.classList.contains("ql-header")?k(e,_):e.classList.contains("ql-size")&&k(e,w)),new p.default(e)}),this.quill.on(a.default.events.EDITOR_CHANGE,function(){r.pickers.forEach(function(e){e.update()})})}}]),t}(c.default);j.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var n=e.quill.getSelection(!0);e.quill.updateContents((new s.default).retain(n.index).delete(n.length).insert({image:r.target.result}),a.default.sources.USER),e.quill.setSelection(n.index+1,a.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var N=function(e){function t(e,r){m(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.textbox=n.root.querySelector('input[type="text"]'),n.listen(),n}return y(t,e),n(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,r=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var n=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",r,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",r,a.default.sources.USER)),this.quill.root.scrollTop=n;break;case"video":r=(t=(e=r).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!r)break;var o=this.quill.getSelection(!0);if(null!=o){var i=o.index+o.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),r,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",a.default.sources.USER),this.quill.setSelection(i+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(f.default);function k(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var n=document.createElement("option");t===r?n.setAttribute("selected","selected"):n.setAttribute("value",t),e.appendChild(n)})}t.BaseTooltip=N,t.default=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,n=this.iterator();r=n();){var o=r.length();if(e<o||t&&e===o&&(null==r.next||0!==r.next.length()))return[r,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var n,o=this.find(e),i=o[0],s=e-o[1],a=this.iterator(i);(n=a())&&s<e+t;){var l=n.length();e>s?r(n,e-s,Math.min(t,s+l-e)):r(n,0,Math.min(l,e+t-s)),s+=l}},e.prototype.map=function(e){return this.reduce(function(t,r){return t.push(e(r)),t},[])},e.prototype.reduce=function(e,t){for(var r,n=this.iterator();r=n();)t=e(t,r);return t},e}();t.default=n},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(17),s=r(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver(function(e){r.update(e)}),r.observer.observe(r.domNode,a),r.attach(),r}return o(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,n,o){this.update(),e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){this.update(),e.prototype.insertAt.call(this,t,r,n)},t.prototype.optimize=function(t,r){var n=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var a=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[s.DATA_KEY].mutations&&(e.domNode[s.DATA_KEY].mutations=[]),t&&a(e.parent))},l=function(e){null!=e.domNode[s.DATA_KEY]&&null!=e.domNode[s.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(l),e.optimize(r))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(e){var t=s.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(a(s.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=s.find(e,!1);a(t,!1),t instanceof i.default&&t.children.forEach(function(e){a(e,!1)})})):"attributes"===e.type&&a(t.prev)),a(t))}),this.children.forEach(l),o=(c=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,r){var n=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map(function(e){var t=s.find(e.target,!0);return null==t?null:null==t.domNode[s.DATA_KEY].mutations?(t.domNode[s.DATA_KEY].mutations=[e],t):(t.domNode[s.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==n&&null!=e.domNode[s.DATA_KEY]&&e.update(e.domNode[s.DATA_KEY].mutations||[],r)}),null!=this.domNode[s.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=l},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),s=r(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,n){var o=this;r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):(this.children.forEach(function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,r,n,o){null!=this.formats()[n]||s.query(n,s.Scope.ATTRIBUTE)?this.isolate(t,r).format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(n,o.formats())&&(o.moveChildren(this),o.remove())},t.blotName="inline",t.scope=s.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),s=r(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(r){var n=s.query(t.blotName).tagName;if(r.tagName!==n)return e.formats.call(this,r)},t.prototype.format=function(r,n){null!=s.query(r,s.Scope.BLOCK)&&(r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,n,o){null!=s.query(n,s.Scope.BLOCK)?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){if(null==n||null!=s.query(r,s.Scope.INLINE))e.prototype.insertAt.call(this,t,r,n);else{var o=this.split(t),i=s.create(r,n);o.parent.insertBefore(i,o)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,n,o){0===t&&r===this.length()?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(19).default);t.default=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(19),s=r(1),a=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return o(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,n){null==n?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=s.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some(function(e){return"characterData"===e.type&&e.target===r.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=s.Scope.INLINE_BLOT,t}(i.default);t.default=a},function(e,t,r){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:o.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;i<n;i++)if(t=r[i],e.call(o,t,i,r))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var r=-1;function n(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var u=i(e,t),d=e.substring(0,u);u=s(e=e.substring(u),t=t.substring(u));var p=e.substring(e.length-u),f=function(e,t){var a;if(!e)return[[1,t]];if(!t)return[[r,e]];var l=e.length>t.length?e:t,c=e.length>t.length?t:e,u=l.indexOf(c);if(-1!=u)return a=[[1,l.substring(0,u)],[0,c],[1,l.substring(u+c.length)]],e.length>t.length&&(a[0][0]=a[2][0]=r),a;if(1==c.length)return[[r,e],[1,t]];var d=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function o(e,t,r){for(var n,o,a,l,c=e.substring(r,r+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(c,u+1));){var p=i(e.substring(r),t.substring(u)),f=s(e.substring(0,r),t.substring(0,u));d.length<f+p&&(d=t.substring(u-f,u)+t.substring(u,u+p),n=e.substring(0,r-f),o=e.substring(r+p),a=t.substring(0,u-f),l=t.substring(u+p))}return 2*d.length>=e.length?[n,o,a,l,d]:null}var a,l,c,u,d,p=o(r,n,Math.ceil(r.length/4)),f=o(r,n,Math.ceil(r.length/2));return p||f?(a=f?p&&p[4].length>f[4].length?p:f:p,e.length>t.length?(l=a[0],c=a[1],u=a[2],d=a[3]):(u=a[0],d=a[1],l=a[2],c=a[3]),[l,c,u,d,a[4]]):null}(e,t);if(d){var p=d[0],f=d[1],h=d[2],m=d[3],g=d[4],y=n(p,h),v=n(f,m);return y.concat([[0,g]],v)}return function(e,t){for(var n=e.length,i=t.length,s=Math.ceil((n+i)/2),a=s,l=2*s,c=new Array(l),u=new Array(l),d=0;d<l;d++)c[d]=-1,u[d]=-1;c[a+1]=0,u[a+1]=0;for(var p=n-i,f=p%2!=0,h=0,m=0,g=0,y=0,v=0;v<s;v++){for(var b=-v+h;b<=v-m;b+=2){for(var x=a+b,_=(C=b==-v||b!=v&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-b;C<n&&_<i&&e.charAt(C)==t.charAt(_);)C++,_++;if(c[x]=C,C>n)m+=2;else if(_>i)h+=2;else if(f&&(N=a+p-b)>=0&&N<l&&-1!=u[N]&&C>=(j=n-u[N]))return o(e,t,C,_)}for(var w=-v+g;w<=v-y;w+=2){for(var j,N=a+w,k=(j=w==-v||w!=v&&u[N-1]<u[N+1]?u[N+1]:u[N-1]+1)-w;j<n&&k<i&&e.charAt(n-j-1)==t.charAt(i-k-1);)j++,k++;if(u[N]=j,j>n)y+=2;else if(k>i)g+=2;else if(!f){var C;if((x=a+p-w)>=0&&x<l&&-1!=c[x]&&(_=a+(C=c[x])-x,C>=(j=n-j)))return o(e,t,C,_)}}}return[[r,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-u),t=t.substring(0,t.length-u));return d&&f.unshift([0,d]),p&&f.push([0,p]),a(f),null!=l&&(f=function(e,t){var n=function(e,t){if(0===t)return[0,e];for(var n=0,o=0;o<e.length;o++){var i=e[o];if(i[0]===r||0===i[0]){var s=n+i[1].length;if(t===s)return[o+1,e];if(t<s){e=e.slice();var a=t-n,l=[i[0],i[1].slice(0,a)],c=[i[0],i[1].slice(a)];return e.splice(o,1,l,c),[o+1,e]}n=s}}throw new Error("cursor_pos is out of bounds!")}(e,t),o=n[1],i=n[0],s=o[i],a=o[i+1];if(null==s)return e;if(0!==s[0])return e;if(null!=a&&s[1]+a[1]===a[1]+s[1])return o.splice(i,2,a,s),c(o,i,2);if(null!=a&&0===a[1].indexOf(s[1])){o.splice(i,2,[a[0],s[1]],[0,s[1]]);var l=a[1].slice(s[1].length);return l.length>0&&o.splice(i+2,0,[a[0],l]),c(o,i,3)}return e}(f,l)),function(e){for(var t=!1,n=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},o=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},i=2;i<e.length;i+=1)0===e[i-2][0]&&o(e[i-2][1])&&e[i-1][0]===r&&n(e[i-1][1])&&1===e[i][0]&&n(e[i][1])&&(t=!0,e[i-1][1]=e[i-2][1].slice(-1)+e[i-1][1],e[i][1]=e[i-2][1].slice(-1)+e[i][1],e[i-2][1]=e[i-2][1].slice(0,-1));if(!t)return e;var s=[];for(i=0;i<e.length;i+=1)e[i][1].length>0&&s.push(e[i]);return s}(f)}function o(e,t,r,o){var i=e.substring(0,r),s=t.substring(0,o),a=e.substring(r),l=t.substring(o),c=n(i,s),u=n(a,l);return c.concat(u)}function i(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function a(e){e.push([0,""]);for(var t,n=0,o=0,l=0,c="",u="";n<e.length;)switch(e[n][0]){case 1:l++,u+=e[n][1],n++;break;case r:o++,c+=e[n][1],n++;break;case 0:o+l>1?(0!==o&&0!==l&&(0!==(t=i(u,c))&&(n-o-l>0&&0==e[n-o-l-1][0]?e[n-o-l-1][1]+=u.substring(0,t):(e.splice(0,0,[0,u.substring(0,t)]),n++),u=u.substring(t),c=c.substring(t)),0!==(t=s(u,c))&&(e[n][1]=u.substring(u.length-t)+e[n][1],u=u.substring(0,u.length-t),c=c.substring(0,c.length-t))),0===o?e.splice(n-l,o+l,[1,u]):0===l?e.splice(n-o,o+l,[r,c]):e.splice(n-o-l,o+l,[r,c],[1,u]),n=n-o-l+(o?1:0)+(l?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,l=0,o=0,c="",u=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),d=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),d=!0)),n++;d&&a(e)}var l=n;function c(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var o=e[n],i=e[n+1];o[0]===i[1]&&e.splice(n,2,[o[0],o[1]+i[1]])}return e}l.INSERT=1,l.DELETE=r,l.EQUAL=0,e.exports=l},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"==typeof Object.keys?Object.keys:r).shim=r},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function o(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?n:o).supported=n,t.unsupported=o},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function o(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)r.call(e,t)&&o.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e,t){var r=n?n+e:e,o=this._events[r];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,s=o.length,a=new Array(s);i<s;i++)a[i]=o[i].fn;return a},s.prototype.emit=function(e,t,r,o,i,s){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,o),!0;case 5:return u.fn.call(u.context,t,r,o,i),!0;case 6:return u.fn.call(u.context,t,r,o,i,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,o);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){var o=new i(t,r||this),s=n?n+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):(this._events[s]=o,this._eventsCount++),this},s.prototype.once=function(e,t,r){var o=new i(t,r||this,!0),s=n?n+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):(this._events[s]=o,this._eventsCount++),this},s.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return 0===--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||(0===--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[s]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new o:delete this._events[s]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new o:delete this._events[t])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=n,s.EventEmitter=s,void 0!==e&&(e.exports=s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],_n=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);_n=!0);}catch(e){n=!0,o=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=b(r(3)),a=b(r(2)),l=b(r(0)),c=b(r(5)),u=b(r(10)),d=b(r(9)),p=r(36),f=r(37),h=b(r(13)),m=r(26),g=r(38),y=r(39),v=r(40);function b(e){return e&&e.__esModule?e:{default:e}}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=(0,u.default)("quill:clipboard"),w="__ql-matcher",j=[[Node.TEXT_NODE,M],[Node.TEXT_NODE,I],["br",function(e,t){return S(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,function(e,t){var r={},n=e.style||{};return n.fontStyle&&"italic"===O(e).fontStyle&&(r.italic=!0),n.fontWeight&&(O(e).fontWeight.startsWith("bold")||parseInt(O(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=E(t,r)),parseFloat(n.textIndent||0)>0&&(t=(new a.default).insert("\t").concat(t)),t}],["li",function(e,t){var r=l.default.query(e);if(null==r||"list-item"!==r.blotName||!S(t,"\n"))return t;for(var n=-1,o=e.parentNode;!o.classList.contains("ql-clipboard");)"list"===(l.default.query(o)||{}).blotName&&(n+=1),o=o.parentNode;return n<=0?t:t.compose((new a.default).retain(t.length()-1).retain(1,{indent:n}))}],["b",A.bind(A,"bold")],["i",A.bind(A,"italic")],["style",function(){return new a.default}]],N=[p.AlignAttribute,g.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),k=[p.AlignStyle,f.BackgroundStyle,m.ColorStyle,g.DirectionStyle,y.FontStyle,v.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),C=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.root.addEventListener("paste",n.onPaste.bind(n)),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],j.concat(n.options.matchers).forEach(function(e){var t=o(e,2),i=t[0],s=t[1];(r.matchVisual||s!==R)&&n.addMatcher(i,s)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[h.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new a.default).insert(r,x({},h.default.blotName,t[h.default.blotName]))}var n=this.prepareMatching(),i=o(n,2),s=i[0],l=i[1],c=q(this.container,s,l);return S(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new a.default).retain(c.length()-1).delete(1))),_.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new a.default).retain(e).concat(n),r),this.quill.setSelection(e+n.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),n=(new a.default).retain(r.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){n=n.concat(t.convert()).delete(r.length),t.quill.updateContents(n,c.default.sources.USER),t.quill.setSelection(n.length()-r.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach(function(n){var i=o(n,2),s=i[0],a=i[1];switch(s){case Node.TEXT_NODE:r.push(a);break;case Node.ELEMENT_NODE:t.push(a);break;default:[].forEach.call(e.container.querySelectorAll(s),function(e){e[w]=e[w]||[],e[w].push(a)})}}),[t,r]}}]),t}(d.default);function E(e,t,r){return"object"===(void 0===t?"undefined":n(t))?Object.keys(t).reduce(function(e,r){return E(e,r,t[r])},e):e.reduce(function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,(0,s.default)({},x({},t,r),n.attributes))},new a.default)}function O(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function S(e,t){for(var r="",n=e.ops.length-1;n>=0&&r.length<t.length;--n){var o=e.ops[n];if("string"!=typeof o.insert)break;r=o.insert+r}return r.slice(-1*t.length)===t}function T(e){if(0===e.childNodes.length)return!1;var t=O(e);return["block","list-item"].indexOf(t.display)>-1}function q(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce(function(t,r){return r(e,t)},new a.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(n,o){var i=q(o,t,r);return o.nodeType===e.ELEMENT_NODE&&(i=t.reduce(function(e,t){return t(o,e)},i),i=(o[w]||[]).reduce(function(e,t){return t(o,e)},i)),n.concat(i)},new a.default):new a.default}function A(e,t,r){return E(r,e,!0)}function P(e,t){var r=l.default.Attributor.Attribute.keys(e),n=l.default.Attributor.Class.keys(e),o=l.default.Attributor.Style.keys(e),i={};return r.concat(n).concat(o).forEach(function(t){var r=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=r&&(i[r.attrName]=r.value(e),i[r.attrName])||(null==(r=N[t])||r.attrName!==t&&r.keyName!==t||(i[r.attrName]=r.value(e)||void 0),null==(r=k[t])||r.attrName!==t&&r.keyName!==t||(r=k[t],i[r.attrName]=r.value(e)||void 0))}),Object.keys(i).length>0&&(t=E(t,i)),t}function L(e,t){var r=l.default.query(e);if(null==r)return t;if(r.prototype instanceof l.default.Embed){var n={},o=r.value(e);null!=o&&(n[r.blotName]=o,t=(new a.default).insert(n,r.formats(e)))}else"function"==typeof r.formats&&(t=E(t,r.blotName,r.formats(e)));return t}function I(e,t){return S(t,"\n")||(T(e)||t.length()>0&&e.nextSibling&&T(e.nextSibling))&&t.insert("\n"),t}function R(e,t){if(T(e)&&null!=e.nextElementSibling&&!S(t,"\n\n")){var r=e.offsetHeight+parseFloat(O(e).marginTop)+parseFloat(O(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function M(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!O(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&T(e.parentNode)||null!=e.previousSibling&&T(e.previousSibling))&&(r=r.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&T(e.parentNode)||null!=e.nextSibling&&T(e.nextSibling))&&(r=r.replace(/\s+$/,n.bind(n,!1)))}return t.insert(r)}C.DEFAULTS={matchers:[],matchVisual:!0},t.default=C,t.matchAttributor=P,t.matchBlot=L,t.matchNewline=I,t.matchSpacing=R,t.matchText=M},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((n=r(6))&&n.__esModule?n:{default:n}).default);s.blotName="bold",s.tagName=["STRONG","B"],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],_n=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);_n=!0);}catch(e){n=!0,o=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(2)),s=u(r(0)),a=u(r(5)),l=u(r(10)),c=u(r(9));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,l.default)("quill:toolbar"),f=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(Array.isArray(i.options.container)){var s=document.createElement("div");m(s,i.options.container),e.container.parentNode.insertBefore(s,e.container),i.container=s}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach(function(e){i.addHandler(e,i.options.handlers[e])}),[].forEach.call(i.container.querySelectorAll("button, select"),function(e){i.attach(e)}),i.quill.on(a.default.events.EDITOR_CHANGE,function(e,t){e===a.default.events.SELECTION_CHANGE&&i.update(t)}),i.quill.on(a.default.events.SCROLL_OPTIMIZE,function(){var e=i.quill.selection.getRange(),t=n(e,1)[0];i.update(t)}),i):(o=p.error("Container required for toolbar",i.options),d(i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(r){if(r=r.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void p.warn("ignoring attaching to disabled format",r,e);if(null==s.default.query(r))return void p.warn("ignoring attaching to nonexistent format",r,e)}var o="SELECT"===e.tagName?"change":"click";e.addEventListener(o,function(o){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),o.preventDefault();t.quill.focus();var u=t.quill.selection.getRange(),d=n(u,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,l);else if(s.default.query(r).prototype instanceof s.default.Embed){if(!(l=prompt("Enter "+r)))return;t.quill.updateContents((new i.default).retain(d.index).delete(d.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,l)),a.default.sources.USER)}else t.quill.format(r,l,a.default.sources.USER);t.update(d)}),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(r){var o=n(r,2),i=o[0],s=o[1];if("SELECT"===s.tagName){var a=void 0;if(null==e)a=null;else if(null==t[i])a=s.querySelector("option[selected]");else if(!Array.isArray(t[i])){var l=t[i];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),a=s.querySelector('option[value="'+l+'"]')}null==a?(s.value="",s.selectedIndex=-1):a.selected=!0}else if(null==e)s.classList.remove("ql-active");else if(s.hasAttribute("value")){var c=t[i]===s.getAttribute("value")||null!=t[i]&&t[i].toString()===s.getAttribute("value")||null==t[i]&&!s.getAttribute("value");s.classList.toggle("ql-active",c)}else s.classList.toggle("ql-active",null!=t[i])})}}]),t}(c.default);function h(e,t,r){var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("ql-"+t),null!=r&&(n.value=r),e.appendChild(n)}function m(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(function(e){if("string"==typeof e)h(r,e);else{var t=Object.keys(e)[0],n=e[t];Array.isArray(n)?function(e,t,r){var n=document.createElement("select");n.classList.add("ql-"+t),r.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),n.appendChild(t)}),e.appendChild(n)}(r,t,n):h(r,t,n)}}),e.appendChild(r)})}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach(function(t){null!=s.default.query(t,s.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,a.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",a.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,a.default.sources.USER),this.quill.format("direction",e,a.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0);if("+1"===e||"-1"===e){var o="+1"===e?1:-1;"rtl"===r.direction&&(o*=-1),this.quill.format("indent",n+o,a.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,a.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,a.default.sources.USER):this.quill.format("list","unchecked",a.default.sources.USER):this.quill.format("list",e,a.default.sources.USER)}}},t.default=f,t.addControls=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.label.innerHTML=r,n.container.classList.add("ql-color-picker"),[].slice.call(n.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildItem",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return r.style.backgroundColor=e.getAttribute("value")||"",r}},{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r);var n=this.label.querySelector(".ql-color-label"),o=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=o:n.style.fill=o)}}]),t}(((n=r(28))&&n.__esModule?n:{default:n}).default);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container.classList.add("ql-icon-picker"),[].forEach.call(n.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=r[e.getAttribute("data-value")||""]}),n.defaultItem=n.container.querySelector(".ql-selected"),n.selectItem(n.defaultItem),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((n=r(28))&&n.__esModule?n:{default:n}).default);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"}),this.hide()}return n(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>n.right&&(i=n.right-o.right,this.root.style.left=t+i+"px"),o.left<n.left&&(i=n.left-o.left,this.root.style.left=t+i+"px"),o.bottom>n.bottom){var s=o.bottom-o.top,a=e.bottom-e.top+s;this.root.style.top=r-a+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=p(r(3)),s=p(r(8)),a=r(43),l=p(a),c=p(r(27)),u=r(15),d=p(r(41));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,r){f(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=g);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-snow"),n}return m(t,e),o(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default),this.tooltip=new v(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,r){e.handlers.link.call(e,!r.format.link)})}}]),t}(l.default);y.DEFAULTS=(0,i.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var v=function(e){function t(e,r){f(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.preview=n.root.querySelector("a.ql-preview"),n}return m(t,e),o(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(s.default.events.SELECTION_CHANGE,function(t,r,n){if(null!=t){if(0===t.length&&n===s.default.sources.USER){var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],_n=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);_n=!0);}catch(e){n=!0,o=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e.quill.scroll.descendant(c.default,t.index),2),i=o[0],a=o[1];if(null!=i){e.linkRange=new u.Range(t.index-a,i.length());var l=c.default.formats(i.domNode);return e.preview.textContent=l,e.preview.setAttribute("href",l),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(a.BaseTooltip);v.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=I(r(29)),o=r(36),i=r(38),s=r(64),a=I(r(65)),l=I(r(66)),c=r(67),u=I(c),d=r(37),p=r(26),f=r(39),h=r(40),m=I(r(56)),g=I(r(68)),y=I(r(27)),v=I(r(69)),b=I(r(70)),x=I(r(71)),_=I(r(72)),w=I(r(73)),j=r(13),N=I(j),k=I(r(74)),C=I(r(75)),E=I(r(57)),O=I(r(41)),S=I(r(28)),T=I(r(59)),q=I(r(60)),A=I(r(61)),P=I(r(108)),L=I(r(62));function I(e){return e&&e.__esModule?e:{default:e}}n.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":h.SizeStyle},!0),n.default.register({"formats/align":o.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":s.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":f.FontClass,"formats/size":h.SizeClass,"formats/blockquote":a.default,"formats/code-block":N.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":m.default,"formats/code":j.Code,"formats/italic":g.default,"formats/link":y.default,"formats/script":v.default,"formats/strike":b.default,"formats/underline":x.default,"formats/image":_.default,"formats/video":w.default,"formats/list/item":c.ListItem,"modules/formula":k.default,"modules/syntax":C.default,"modules/toolbar":E.default,"themes/bubble":P.default,"themes/snow":L.default,"ui/icons":O.default,"ui/picker":S.default,"ui/icon-picker":q.default,"ui/color-picker":T.default,"ui/tooltip":A.default},!0),t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=(n=r(0))&&n.__esModule?n:{default:n},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"add",value:function(e,r){if("+1"===r||"-1"===r){var n=this.value(e)||0;r="+1"===r?n+1:n-1}return 0===r?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(e,r){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,r)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(r))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class),l=new a("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=r(4))&&n.__esModule?n:{default:n}).default);o.blotName="blockquote",o.tagName="blockquote",t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((n=r(4))&&n.__esModule?n:{default:n}).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},i=l(r(0)),s=l(r(4)),a=l(r(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"format",value:function(e,r){e!==f.blotName||r?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,r){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,r),this):(this.parent.unwrap(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,r))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:o(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(s.default);p.blotName="list-item",p.tagName="LI";var f=function(e){function t(e){c(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=function(t){if(t.target.parentNode===e){var n=r.statics.formats(e),o=i.default.find(t.target);"checked"===n?o.format("list","unchecked"):"unchecked"===n&&o.format("list","checked")}};return e.addEventListener("touchstart",n),e.addEventListener("mousedown",n),r}return d(t,e),n(t,null,[{key:"create",value:function(e){var r="ordered"===e?"OL":"UL",n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return"checked"!==e&&"unchecked"!==e||n.setAttribute("data-checked","checked"===e),n}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,r){if(e instanceof p)o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r);else{var n=null==r?this.length():r.offset(this),i=this.split(n);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=i.default.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(a.default);f.blotName="list",f.scope=i.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[p],t.ListItem=p,t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=r(56))&&n.__esModule?n:{default:n}).default);o.blotName="italic",o.tagName=["EM","I"],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((n=r(6))&&n.__esModule?n:{default:n}).default);s.blotName="script",s.tagName=["SUB","SUP"],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=r(6))&&n.__esModule?n:{default:n}).default);o.blotName="strike",o.tagName="S",t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=r(6))&&n.__esModule?n:{default:n}).default);o.blotName="underline",o.tagName="U",t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=(n=r(0))&&n.__esModule?n:{default:n},a=r(27),l=["alt","height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){l.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return l.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,a.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);c.blotName="image",c.tagName="IMG",t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=r(4),a=(n=r(27))&&n.__esModule?n:{default:n},l=["height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){l.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return l.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"sanitize",value:function(e){return a.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.BlockEmbed);c.blotName="video",c.className="ql-video",c.tagName="IFRAME",t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},i=l(r(35)),s=l(r(5)),a=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,null,[{key:"create",value:function(e){var r=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(i.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var f=function(e){function t(){c(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),n(t,null,[{key:"register",value:function(){s.default.register(p,!0)}}]),t}(a.default);t.FormulaBlot=p,t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},i=l(r(0)),s=l(r(5)),a=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(r(13)).default);p.className="ql-syntax";var f=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),h=function(e){function t(e,r){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if("function"!=typeof n.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return n.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(o),o=setTimeout(function(){n.highlight(),o=null},n.options.interval)}),n.highlight(),n}return d(t,e),n(t,null,[{key:"register",value:function(){s.default.register(f,!0),s.default.register(p,!0)}}]),n(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(s.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(p).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(s.default.sources.SILENT),null!=t&&this.quill.setSelection(t,s.default.sources.SILENT)}}}]),t}(a.default);h.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=p,t.CodeToken=f,t.default=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var n=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=d(r(3)),s=d(r(8)),a=r(43),l=d(a),c=r(15),u=d(r(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(e){function t(e,r){p(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=m);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-bubble"),n}return h(t,e),o(t,[{key:"extendToolbar",value:function(e){this.tooltip=new y(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default)}}]),t}(l.default);g.DEFAULTS=(0,i.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var y=function(e){function t(e,r){p(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.on(s.default.events.EDITOR_CHANGE,function(e,t,r,o){if(e===s.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&o===s.default.sources.USER){n.show(),n.root.style.left="0px",n.root.style.width="",n.root.style.width=n.root.offsetWidth+"px";var i=n.quill.getLines(t.index,t.length);if(1===i.length)n.position(n.quill.getBounds(t));else{var a=i[i.length-1],l=n.quill.getIndex(a),u=Math.min(a.length()-1,t.index+t.length-l),d=n.quill.getBounds(new c.Range(l,u));n.position(d)}}else document.activeElement!==n.textbox&&n.quill.hasFocus()&&n.hide()}),n}return h(t,e),o(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===r)return r;o.style.marginLeft=-1*r-o.offsetWidth/2+"px"}}]),t}(a.BaseTooltip);y.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=y,t.default=g},function(e,t,r){e.exports=r(63)}]).default},e.exports=t()},1609:e=>{"use strict";e.exports=window.React},1873:(e,t,r)=>{var n=r(9325).Symbol;e.exports=n},1882:(e,t,r)=>{var n=r(2552),o=r(3805);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1986:(e,t,r)=>{var n=r(1873),o=r(7828),i=r(5288),s=r(5911),a=r(317),l=r(4247),c=n?n.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,d,p){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=a;case"[object Set]":var h=1&n;if(f||(f=l),e.size!=t.size&&!h)return!1;var m=p.get(e);if(m)return m==t;n|=2,p.set(e,t);var g=s(f(e),f(t),n,c,d,p);return p.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},2032:(e,t,r)=>{var n=r(1042);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},2199:(e,t,r)=>{var n=r(4528),o=r(6449);e.exports=function(e,t,r){var i=t(e);return o(e)?i:n(i,r(e))}},2404:(e,t,r)=>{var n=r(270);e.exports=function(e,t){return n(e,t)}},2428:(e,t,r)=>{var n=r(7534),o=r(346),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},2552:(e,t,r)=>{var n=r(1873),o=r(659),i=r(9350),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},2651:(e,t,r)=>{var n=r(4218);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},2749:(e,t,r)=>{var n=r(1042),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},2804:(e,t,r)=>{var n=r(6110)(r(9325),"Promise");e.exports=n},2949:(e,t,r)=>{var n=r(2651);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},3040:(e,t,r)=>{var n=r(1549),o=r(79),i=r(8223);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},3345:e=>{e.exports=function(){return[]}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},3650:(e,t,r)=>{var n=r(4335)(Object.keys,Object);e.exports=n},3656:(e,t,r)=>{e=r.nmd(e);var n=r(9325),o=r(9935),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i?n.Buffer:void 0,l=(a?a.isBuffer:void 0)||o;e.exports=l},3661:(e,t,r)=>{var n=r(3040),o=r(7670),i=r(289),s=r(4509),a=r(2949);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4247:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},4248:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},4335:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},4509:(e,t,r)=>{var n=r(2651);e.exports=function(e){return n(this,e).has(e)}},4528:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},4664:(e,t,r)=>{var n=r(9770),o=r(3345),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),n(s(e),function(t){return i.call(e,t)}))}:o;e.exports=a},4739:(e,t,r)=>{var n=r(6025);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},4840:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},4894:(e,t,r)=>{var n=r(1882),o=r(294);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},4901:(e,t,r)=>{var n=r(2552),o=r(294),i=r(346),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!s[n(e)]}},4915:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},5083:(e,t,r)=>{var n=r(1882),o=r(7296),i=r(3805),s=r(7473),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?p:a).test(s(e))}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5338:(e,t,r)=>{"use strict";var n=r(5795);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},5481:(e,t,r)=>{var n=r(9325)["__core-js_shared__"];e.exports=n},5527:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},5580:(e,t,r)=>{var n=r(6110)(r(9325),"DataView");e.exports=n},5708:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=a(r(1609)),c=a(r(5795)),u=a(r(2404)),d=a(r(1574)),p=function(e){function t(t){var r=e.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(e,t,n,o){var i,s,a,l;"text-change"===e?null===(s=(i=r).onEditorChangeText)||void 0===s||s.call(i,r.editor.root.innerHTML,t,o,r.unprivilegedEditor):"selection-change"===e&&(null===(l=(a=r).onEditorChangeSelection)||void 0===l||l.call(a,t,o,r.unprivilegedEditor))};var n=r.isControlled()?t.value:t.defaultValue;return r.value=null!=n?n:"",r}return o(t,e),t.prototype.validateProps=function(e){var t;if(l.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(l.default.Children.count(e.children)&&"textarea"===(null===(t=l.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var r,n=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var o=this.getEditorContents(),i=null!=(r=e.value)?r:"";this.isEqualValue(i,o)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),s(this.cleanProps,this.dirtyProps).some(function(t){return!u.default(e[t],n.props[t])})},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(r){return!u.default(e[r],t.props[r])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var r=this;if(this.editor&&this.shouldComponentRegenerate(e)){var n=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var i=this.regenerationSnapshot,s=(n=i.delta,i.selection);delete this.regenerationSnapshot,this.instantiateEditor();var a=this.editor;a.setContents(n),f(function(){return r.setEditorSelection(a,s)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var r=new d.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?u.default(e.ops,t.ops):u.default(e,t)},t.prototype.setEditorContents=function(e,t){var r=this;this.value=t;var n=this.getEditorSelection();"string"==typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),f(function(){return r.setEditorSelection(e,n)})},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var r,n;(null===(n=null===(r=e)||void 0===r?void 0:r.scroll)||void 0===n?void 0:n.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=c.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,r=t.children,n=t.preserveWhitespace,o={key:this.state.generation,ref:function(t){e.editingArea=t}};return l.default.Children.count(r)?l.default.cloneElement(l.default.Children.only(r),o):n?l.default.createElement("pre",i({},o)):l.default.createElement("div",i({},o))},t.prototype.render=function(){var e;return l.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!=e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,r,n){var o,i;if(this.editor){var s=this.isDelta(this.value)?n.getContents():n.getHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=s,null===(i=(o=this.props).onChange)||void 0===i||i.call(o,e,t,r,n))}},t.prototype.onEditorChangeSelection=function(e,t,r){var n,o,i,s,a,l;if(this.editor){var c=this.getEditorSelection(),d=!c&&e,p=c&&!e;u.default(e,c)||(this.selection=e,null===(o=(n=this.props).onChangeSelection)||void 0===o||o.call(n,e,t,r),d?null===(s=(i=this.props).onFocus)||void 0===s||s.call(i,e,t,r):p&&(null===(l=(a=this.props).onBlur)||void 0===l||l.call(a,c,t,r)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=d.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(l.default.Component);function f(e){Promise.resolve().then(e)}e.exports=p},5749:(e,t,r)=>{var n=r(1042);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},5795:e=>{"use strict";e.exports=window.ReactDOM},5861:(e,t,r)=>{var n=r(5580),o=r(8223),i=r(2804),s=r(6545),a=r(8303),l=r(2552),c=r(7473),u="[object Map]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",h="[object DataView]",m=c(n),g=c(o),y=c(i),v=c(s),b=c(a),x=l;(n&&x(new n(new ArrayBuffer(1)))!=h||o&&x(new o)!=u||i&&x(i.resolve())!=d||s&&x(new s)!=p||a&&x(new a)!=f)&&(x=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return h;case g:return u;case y:return d;case v:return p;case b:return f}return t}),e.exports=x},5911:(e,t,r)=>{var n=r(8859),o=r(4248),i=r(9219);e.exports=function(e,t,r,s,a,l){var c=1&r,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var p=l.get(e),f=l.get(t);if(p&&f)return p==t&&f==e;var h=-1,m=!0,g=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++h<u;){var y=e[h],v=t[h];if(s)var b=c?s(v,y,h,t,e,l):s(y,v,h,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!o(t,function(e,t){if(!i(g,t)&&(y===e||a(y,e,r,s,l)))return g.push(t)})){m=!1;break}}else if(y!==v&&!a(y,v,r,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},5950:(e,t,r)=>{var n=r(695),o=r(8984),i=r(4894);e.exports=function(e){return i(e)?n(e):o(e)}},6009:(e,t,r)=>{e=r.nmd(e);var n=r(4840),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o&&n.process,a=function(){try{return i&&i.require&&i.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},6025:(e,t,r)=>{var n=r(5288);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},6110:(e,t,r)=>{var n=r(5083),o=r(392);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},6449:e=>{var t=Array.isArray;e.exports=t},6545:(e,t,r)=>{var n=r(6110)(r(9325),"Set");e.exports=n},6721:(e,t,r)=>{var n=r(1042),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},7068:(e,t,r)=>{var n=r(7217),o=r(5911),i=r(1986),s=r(689),a=r(5861),l=r(6449),c=r(3656),u=r(7167),d="[object Arguments]",p="[object Array]",f="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,g,y){var v=l(e),b=l(t),x=v?p:a(e),_=b?p:a(t),w=(x=x==d?f:x)==f,j=(_=_==d?f:_)==f,N=x==_;if(N&&c(e)){if(!c(t))return!1;v=!0,w=!1}if(N&&!w)return y||(y=new n),v||u(e)?o(e,t,r,m,g,y):i(e,t,x,r,m,g,y);if(!(1&r)){var k=w&&h.call(e,"__wrapped__"),C=j&&h.call(t,"__wrapped__");if(k||C){var E=k?e.value():e,O=C?t.value():t;return y||(y=new n),g(E,O,r,m,y)}}return!!N&&(y||(y=new n),s(e,t,r,m,g,y))}},7167:(e,t,r)=>{var n=r(4901),o=r(7301),i=r(6009),s=i&&i.isTypedArray,a=s?o(s):n;e.exports=a},7217:(e,t,r)=>{var n=r(79),o=r(1420),i=r(938),s=r(3605),a=r(9817),l=r(945);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},7296:(e,t,r)=>{var n,o=r(5481),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7534:(e,t,r)=>{var n=r(2552),o=r(346);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},7670:(e,t,r)=>{var n=r(2651);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7828:(e,t,r)=>{var n=r(9325).Uint8Array;e.exports=n},8096:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},8223:(e,t,r)=>{var n=r(6110)(r(9325),"Map");e.exports=n},8303:(e,t,r)=>{var n=r(6110)(r(9325),"WeakMap");e.exports=n},8655:(e,t,r)=>{var n=r(6025);e.exports=function(e){return n(this.__data__,e)>-1}},8859:(e,t,r)=>{var n=r(3661),o=r(1380),i=r(1459);function s(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,e.exports=s},8984:(e,t,r)=>{var n=r(5527),o=r(3650),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},9219:e=>{e.exports=function(e,t){return e.has(t)}},9325:(e,t,r)=>{var n=r(4840),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9770:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[o++]=s)}return i}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},9935:e=>{e.exports=function(){return!1}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};r.r(e),r.d(e,{courseExists:()=>Br,create:()=>qr,createCourse:()=>Mr,delete:()=>Pr,deleteCourse:()=>zr,deleteFn:()=>Pr,duplicate:()=>Lr,duplicateCourse:()=>$r,getAll:()=>Sr,getCount:()=>Fr,getCourse:()=>Rr,getCourses:()=>Ir,getCoursesByCategory:()=>Yr,getCoursesByDifficulty:()=>Gr,getEnrolledUsersCount:()=>Ur,getFeaturedCourses:()=>Xr,getOne:()=>Tr,getPublishedCourses:()=>Zr,publishCourse:()=>Hr,searchCoursesByTitle:()=>Wr,toggleCourseFeatured:()=>Kr,unpublishCourse:()=>Vr,update:()=>Ar,updateCourse:()=>Dr,updateCourseStatus:()=>Qr});var t={};r.r(t),r.d(t,{createLesson:()=>Gn,deleteLesson:()=>Zn,duplicateLesson:()=>Jn,getLesson:()=>Yn,getLessonStatistics:()=>co,getLessons:()=>Kn,getLessonsByCourse:()=>Wn,getLessonsByType:()=>ao,getLessonsCount:()=>eo,getPublishedLessons:()=>lo,lessonExists:()=>to,moveLessonToCourse:()=>so,publishLesson:()=>no,unpublishLesson:()=>oo,updateLesson:()=>Xn,updateLessonOrder:()=>io,updateLessonStatus:()=>ro});var n={};r.r(n),r.d(n,{addQuestionToQuiz:()=>pa,create:()=>ra,createQuiz:()=>aa,deleteQuiz:()=>oa,duplicateQuiz:()=>ua,getAll:()=>ea,getOne:()=>ta,getQuiz:()=>sa,getQuizStatistics:()=>ma,getQuizzes:()=>ia,getQuizzesByCourse:()=>ca,getQuizzesCount:()=>da,removeQuestionFromQuiz:()=>fa,update:()=>na,updateQuiz:()=>la,updateQuizStatus:()=>ha});var o={};r.r(o),r.d(o,{bulkCreateQuestions:()=>wl,create:()=>nl,createQuestion:()=>ll,deleteQuestion:()=>il,duplicateQuestion:()=>dl,getAll:()=>tl,getOne:()=>rl,getPublishedQuestions:()=>xl,getQuestion:()=>al,getQuestionStatistics:()=>_l,getQuestions:()=>sl,getQuestionsByCategory:()=>vl,getQuestionsByDifficulty:()=>yl,getQuestionsByProvider:()=>bl,getQuestionsByQuiz:()=>ul,getQuestionsByType:()=>gl,getQuestionsCount:()=>pl,questionExists:()=>fl,update:()=>ol,updateQuestion:()=>cl,updateQuestionOrder:()=>ml,updateQuestionStatus:()=>hl});var i=r(1609),s=r.n(i),a=r(5338),l="popstate";function c(e={}){return function(e,t,r,n={}){let{window:o=document.defaultView,v5Compat:i=!1}=n,s=o.history,a="POP",c=null,d=m();function m(){return(s.state||{idx:null}).idx}function g(){a="POP";let e=m(),t=null==e?null:e-d;d=e,c&&c({action:a,location:v.location,delta:t})}function y(e){return function(e,t=!1){let r="http://localhost";"undefined"!=typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),u(r,"No window.location.(origin|href) available to create URL");let n="string"==typeof e?e:h(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}(e)}null==d&&(d=0,s.replaceState({...s.state,idx:d},""));let v={get action(){return a},get location(){return e(o,s)},listen(e){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(l,g),c=e,()=>{o.removeEventListener(l,g),c=null}},createHref:e=>t(o,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let n=f(v.location,e,t);r&&r(n,e),d=m()+1;let l=p(n,d),u=v.createHref(n);try{s.pushState(l,"",u)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;o.location.assign(u)}i&&c&&c({action:a,location:v.location,delta:1})},replace:function(e,t){a="REPLACE";let n=f(v.location,e,t);r&&r(n,e),d=m();let o=p(n,d),l=v.createHref(n);s.replaceState(o,"",l),i&&c&&c({action:a,location:v.location,delta:0})},go:e=>s.go(e)};return v}(function(e,t){let{pathname:r="/",search:n="",hash:o=""}=m(e.location.hash.substring(1));return r.startsWith("/")||r.startsWith(".")||(r="/"+r),f("",{pathname:r,search:n,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let r=e.document.querySelector("base"),n="";if(r&&r.getAttribute("href")){let t=e.location.href,r=t.indexOf("#");n=-1===r?t:t.slice(0,r)}return n+"#"+("string"==typeof t?t:h(t))},function(e,t){d("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},e)}function u(e,t){if(!1===e||null==e)throw new Error(t)}function d(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,r=null,n){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?m(t):t,state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function h({pathname:e="/",search:t="",hash:r=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function m(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function g(e,t,r="/"){return function(e,t,r,n){let o=T(("string"==typeof t?m(t):t).pathname||"/",r);if(null==o)return null;let i=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let e=0;null==s&&e<i.length;++e){let t=S(o);s=E(i[e],t,n)}return s}(e,t,r,!1)}function y(e,t=[],r=[],n="",o=!1){let i=(e,i,s=o,a)=>{let l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(n)&&s)return;u(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length)}let c=L([n,l.relativePath]),d=r.concat(l);e.children&&e.children.length>0&&(u(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),y(e.children,t,d,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:C(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of v(e.path))i(e,t,!0,r);else i(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,o=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return o?[i,""]:[i];let s=v(n.join("/")),a=[];return a.push(...s.map(e=>""===e?i:[i,e].join("/"))),o&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}new WeakMap;var b=/^:[\w-]+$/,x=3,_=2,w=1,j=10,N=-2,k=e=>"*"===e;function C(e,t){let r=e.split("/"),n=r.length;return r.some(k)&&(n+=N),t&&(n+=_),r.filter(e=>!k(e)).reduce((e,t)=>e+(b.test(t)?x:""===t?w:j),n)}function E(e,t,r=!1){let{routesMeta:n}=e,o={},i="/",s=[];for(let e=0;e<n.length;++e){let a=n[e],l=e===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=O({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c),d=a.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=O({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:L([i,u.pathname]),pathnameBase:I(L([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=L([i,u.pathnameBase]))}return s}function O(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t=!1,r=!0){d("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:n.reduce((e,{paramName:t,isOptional:r},n)=>{if("*"===t){let e=a[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const o=a[n];return e[t]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function S(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function q(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function P(e,t,r,n=!1){let o;"string"==typeof e?o=m(e):(o={...e},u(!o.pathname||!o.pathname.includes("?"),q("?","pathname","search",o)),u(!o.pathname||!o.pathname.includes("#"),q("#","pathname","hash",o)),u(!o.search||!o.search.includes("#"),q("#","search","hash",o)));let i,s=""===e||""===o.pathname,a=s?"/":o.pathname;if(null==a)i=r;else{let e=t.length-1;if(!n&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:r,search:n="",hash:o=""}="string"==typeof e?m(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:R(n),hash:M(o)}}(o,i),c=a&&"/"!==a&&a.endsWith("/"),d=(s||"."===a)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var L=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function D(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}var z=["POST","PUT","PATCH","DELETE"],$=(new Set(z),["GET",...z]);new Set($),Symbol("ResetLoaderData");var F=i.createContext(null);F.displayName="DataRouter";var B=i.createContext(null);B.displayName="DataRouterState";i.createContext(!1);var U=i.createContext({isTransitioning:!1});U.displayName="ViewTransition",i.createContext(new Map).displayName="Fetchers",i.createContext(null).displayName="Await";var Q=i.createContext(null);Q.displayName="Navigation";var H=i.createContext(null);H.displayName="Location";var V=i.createContext({outlet:null,matches:[],isDataRoute:!1});V.displayName="Route";var K=i.createContext(null);function W(){return null!=i.useContext(H)}function Y(){return u(W(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(H).location}K.displayName="RouteError";var G="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X(e){i.useContext(Q).static||i.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=i.useContext(V);return e?function(){let{router:e}=function(e){let t=i.useContext(F);return u(t,ie(e)),t}("useNavigate"),t=se("useNavigate"),r=i.useRef(!1);return X(()=>{r.current=!0}),i.useCallback(async(n,o={})=>{d(r.current,G),r.current&&("number"==typeof n?e.navigate(n):await e.navigate(n,{fromRouteId:t,...o}))},[e,t])}():function(){u(W(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(F),{basename:t,navigator:r}=i.useContext(Q),{matches:n}=i.useContext(V),{pathname:o}=Y(),s=JSON.stringify(A(n)),a=i.useRef(!1);return X(()=>{a.current=!0}),i.useCallback((n,i={})=>{if(d(a.current,G),!a.current)return;if("number"==typeof n)return void r.go(n);let l=P(n,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:L([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,s,o,e])}()}function J(e,{relative:t}={}){let{matches:r}=i.useContext(V),{pathname:n}=Y(),o=JSON.stringify(A(r));return i.useMemo(()=>P(e,JSON.parse(o),n,"path"===t),[e,o,n,t])}function ee(e,t,r,n,o){u(W(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=i.useContext(Q),{matches:a}=i.useContext(V),l=a[a.length-1],c=l?l.params:{},p=l?l.pathname:"/",f=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";le(p,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let y,v=Y();if(t){let e="string"==typeof t?m(t):t;u("/"===f||e.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${e.pathname}" was given in the \`location\` prop.`),y=e}else y=v;let b=y.pathname||"/",x=b;if("/"!==f){let e=f.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=g(e,{pathname:x});d(h||null!=_,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),d(null==_||void 0!==_[_.length-1].route.element||void 0!==_[_.length-1].route.Component||void 0!==_[_.length-1].route.lazy,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=function(e,t=[],r=null,n=null){if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let o=e,s=r?.errors;if(null!=s){let e=o.findIndex(e=>e.route.id&&void 0!==s?.[e.route.id]);u(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,l=-1;if(r)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){a=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}return o.reduceRight((e,c,u)=>{let d,p=!1,f=null,h=null;r&&(d=s&&c.route.id?s[c.route.id]:void 0,f=c.route.errorElement||re,a&&(l<0&&0===u?(le("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,h=null):l===u&&(p=!0,h=c.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,u+1)),g=()=>{let t;return t=d?f:p?h:c.route.Component?i.createElement(c.route.Component,null):c.route.element?c.route.element:e,i.createElement(oe,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?i.createElement(ne,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:n}):g()},null)}(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:L([f,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:L([f,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,r,n,o);return t&&w?i.createElement(H.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function te(){let e=function(){let e=i.useContext(K),t=function(e){let t=i.useContext(B);return u(t,ie(e)),t}("useRouteError"),r=se("useRouteError");return void 0!==e?e:t.errors?.[r]}(),t=D(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=i.createElement(i.Fragment,null,i.createElement("p",null," Hey developer "),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:s},"ErrorBoundary")," or"," ",i.createElement("code",{style:s},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),r?i.createElement("pre",{style:o},r):null,a)}i.createContext(null);var re=i.createElement(te,null),ne=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?i.createElement(V.Provider,{value:this.props.routeContext},i.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oe({routeContext:e,match:t,children:r}){let n=i.useContext(F);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),i.createElement(V.Provider,{value:e},r)}function ie(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function se(e){let t=function(e){let t=i.useContext(V);return u(t,ie(e)),t}(e),r=t.matches[t.matches.length-1];return u(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}var ae={};function le(e,t,r){t||ae[e]||(ae[e]=!0,d(!1,r))}function ce({to:e,replace:t,state:r,relative:n}){u(W(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=i.useContext(Q);d(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=i.useContext(V),{pathname:a}=Y(),l=Z(),c=P(e,A(s),a,"path"===n),p=JSON.stringify(c);return i.useEffect(()=>{l(JSON.parse(p),{replace:t,state:r,relative:n})},[l,p,n,t,r]),null}function ue(e){u(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function de({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:o,static:s=!1}){u(!W(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=i.useMemo(()=>({basename:a,navigator:o,static:s,future:{}}),[a,o,s]);"string"==typeof r&&(r=m(r));let{pathname:c="/",search:p="",hash:f="",state:h=null,key:g="default"}=r,y=i.useMemo(()=>{let e=T(c,a);return null==e?null:{location:{pathname:e,search:p,hash:f,state:h,key:g},navigationType:n}},[a,c,p,f,h,g,n]);return d(null!=y,`<Router basename="${a}"> is not able to match the URL "${c}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:i.createElement(Q.Provider,{value:l},i.createElement(H.Provider,{children:t,value:y}))}function pe({children:e,location:t}){return ee(fe(e),t)}function fe(e,t=[]){let r=[];return i.Children.forEach(e,(e,n)=>{if(!i.isValidElement(e))return;let o=[...t,n];if(e.type===i.Fragment)return void r.push.apply(r,fe(e.props.children,o));u(e.type===ue,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),u(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=fe(e.props.children,o)),r.push(s)}),r}i.memo(function({routes:e,future:t,state:r,unstable_onError:n}){return ee(e,void 0,r,n,t)}),i.Component;var he="get",me="application/x-www-form-urlencoded";function ge(e){return null!=e&&"string"==typeof e.tagName}var ye=null,ve=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function be(e){return null==e||ve.has(e)?e:(d(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${me}"`),null)}function xe(e,t){if(!1===e||null==e)throw new Error(t)}function _e(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function we(e,t,r,n,o,i){let s=(e,t)=>!r[t]||e.route.id!==r[t].route.id,a=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>s(e,t)||a(e,t)):"data"===i?t.filter((t,i)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||a(t,i))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof n)return n}return!0}):[]}function je(e,t,{includeHydrateFallback:r}={}){return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let o=[n.module];return n.clientActionModule&&(o=o.concat(n.clientActionModule)),n.clientLoaderModule&&(o=o.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(o=o.concat(n.hydrateFallbackModule)),n.imports&&(o=o.concat(n.imports)),o}).flat(1),[...new Set(n)];var n}function Ne(){let e=i.useContext(F);return xe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ke(){let e=i.useContext(B);return xe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0"),"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis,Symbol("SingleFetchRedirect");var Ce=i.createContext(void 0);function Ee(){let e=i.useContext(Ce);return xe(e,"You must render this element inside a <HydratedRouter> element"),e}function Oe(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Se({page:e,...t}){let{router:r}=Ne(),n=i.useMemo(()=>g(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?i.createElement(qe,{page:e,matches:n,...t}):null}function Te(e){let{manifest:t,routeModules:r}=Ee(),[n,o]=i.useState([]);return i.useEffect(()=>{let n=!1;return async function(e,t,r){return function(e,t){let r=new Set,n=new Set(t);return e.reduce((e,o)=>{if(t&&(null==(i=o)||"string"!=typeof i.page)&&"script"===o.as&&o.href&&n.has(o.href))return e;var i;let s=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(o));return r.has(s)||(r.add(s),e.push({key:s,link:o})),e},[])}((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(n,r);return e.links?e.links():[]}return[]}))).flat(1).filter(_e).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,r).then(e=>{n||o(e)}),()=>{n=!0}},[e,t,r]),n}function qe({page:e,matches:t,...r}){let n=Y(),{manifest:o,routeModules:s}=Ee(),{basename:a}=Ne(),{loaderData:l,matches:c}=ke(),u=i.useMemo(()=>we(e,t,c,o,n,"data"),[e,t,c,o,n]),d=i.useMemo(()=>we(e,t,c,o,n,"assets"),[e,t,c,o,n]),p=i.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let r=new Set,i=!1;if(t.forEach(e=>{let t=o.routes[e.route.id];t&&t.hasLoader&&(!u.some(t=>t.route.id===e.route.id)&&e.route.id in l&&s[e.route.id]?.shouldRevalidate||t.hasClientLoader?i=!0:r.add(e.route.id))}),0===r.size)return[];let c=function(e,t,r){let n="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname=`_root.${r}`:t&&"/"===T(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}(e,a,"data");return i&&r.size>0&&c.searchParams.set("_routes",t.filter(e=>r.has(e.route.id)).map(e=>e.route.id).join(",")),[c.pathname+c.search]},[a,l,n,o,u,t,e,s]),f=i.useMemo(()=>je(d,o),[d,o]),h=Te(d);return i.createElement(i.Fragment,null,p.map(e=>i.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...r})),f.map(e=>i.createElement("link",{key:e,rel:"modulepreload",href:e,...r})),h.map(({key:e,link:t})=>i.createElement("link",{key:e,nonce:r.nonce,...t})))}Ce.displayName="FrameworkContext";function Ae(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}i.Component;var Pe="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Pe&&(window.__reactRouterVersion="7.8.2")}catch(e){}function Le({basename:e,children:t,window:r}){let n=i.useRef();null==n.current&&(n.current=c({window:r,v5Compat:!0}));let o=n.current,[s,a]=i.useState({action:o.action,location:o.location}),l=i.useCallback(e=>{i.startTransition(()=>a(e))},[a]);return i.useLayoutEffect(()=>o.listen(l),[o,l]),i.createElement(de,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o})}var Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=i.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:n,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:p,viewTransition:f,...m},g){let y,{basename:v}=i.useContext(Q),b="string"==typeof c&&Ie.test(c),x=!1;if("string"==typeof c&&b&&(y=c,Pe))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),r=T(t.pathname,v);t.origin===e.origin&&null!=r?c=r+t.search+t.hash:x=!0}catch(e){d(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=function(e,{relative:t}={}){u(W(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=i.useContext(Q),{hash:o,pathname:s,search:a}=J(e,{relative:t}),l=s;return"/"!==r&&(l="/"===s?r:L([r,s])),n.createHref({pathname:l,search:a,hash:o})}(c,{relative:n}),[w,j,N]=function(e,t){let r=i.useContext(Ce),[n,o]=i.useState(!1),[s,a]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:p}=t,f=i.useRef(null);i.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),i.useEffect(()=>{if(n){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[n]);let h=()=>{o(!0)},m=()=>{o(!1),a(!1)};return r?"intent"!==e?[s,f,{}]:[s,f,{onFocus:Oe(l,h),onBlur:Oe(c,m),onMouseEnter:Oe(u,h),onMouseLeave:Oe(d,m),onTouchStart:Oe(p,h)}]:[!1,f,{}]}(r,m),k=function(e,{target:t,replace:r,state:n,preventScrollReset:o,relative:s,viewTransition:a}={}){let l=Z(),c=Y(),u=J(e,{relative:s});return i.useCallback(i=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(i,t)){i.preventDefault();let t=void 0!==r?r:h(c)===h(u);l(e,{replace:t,state:n,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,n,t,e,o,s,a])}(c,{replace:s,state:a,target:l,preventScrollReset:p,relative:n,viewTransition:f}),C=i.createElement("a",{...m,...N,href:y||_,onClick:x||o?e:function(t){e&&e(t),t.defaultPrevented||k(t)},ref:Ae(g,j),target:l,"data-discover":b||"render"!==t?void 0:"true"});return w&&!b?i.createElement(i.Fragment,null,C,i.createElement(Se,{page:_})):C});function Me(e){let t=i.useContext(F);return u(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}Re.displayName="Link",i.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:n=!1,style:o,to:s,viewTransition:a,children:l,...c},d){let p=J(s,{relative:c.relative}),f=Y(),h=i.useContext(B),{navigator:m,basename:g}=i.useContext(Q),y=null!=h&&function(e,{relative:t}={}){let r=i.useContext(U);u(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Me("useViewTransitionState"),o=J(e,{relative:t});if(!r.isTransitioning)return!1;let s=T(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=T(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=O(o.pathname,a)||null!=O(o.pathname,s)}(p)&&!0===a,v=m.encodeLocation?m.encodeLocation(p).pathname:p.pathname,b=f.pathname,x=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(b=b.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&g&&(x=T(x,g)||x);const _="/"!==v&&v.endsWith("/")?v.length-1:v.length;let w,j=b===v||!n&&b.startsWith(v)&&"/"===b.charAt(_),N=null!=x&&(x===v||!n&&x.startsWith(v)&&"/"===x.charAt(v.length)),k={isActive:j,isPending:N,isTransitioning:y},C=j?e:void 0;w="function"==typeof r?r(k):[r,j?"active":null,N?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E="function"==typeof o?o(k):o;return i.createElement(Re,{...c,"aria-current":C,className:w,ref:d,style:E,to:s,viewTransition:a},"function"==typeof l?l(k):l)}).displayName="NavLink",i.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:o,state:s,method:a=he,action:l,onSubmit:c,relative:d,preventScrollReset:p,viewTransition:f,...m},g)=>{let y=function(){let{router:e}=Me("useSubmit"),{basename:t}=i.useContext(Q),r=se("useRouteId");return i.useCallback(async(n,o={})=>{let{action:i,method:s,encType:a,formData:l,body:c}=function(e,t){let r,n,o,i,s;if(ge(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");n=s?T(s,t):null,r=e.getAttribute("method")||he,o=be(e.getAttribute("enctype"))||me,i=new FormData(e)}else if(function(e){return ge(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ge(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(n=a?T(a,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||he,o=be(e.getAttribute("formenctype"))||be(s.getAttribute("enctype"))||me,i=new FormData(s,e),!function(){if(null===ye)try{new FormData(document.createElement("form"),0),ye=!1}catch(e){ye=!0}return ye}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,n)}}else{if(ge(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=he,n=null,o=me,s=e}var a;return i&&"text/plain"===o&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:o,formData:i,body:s}}(n,t);if(!1===o.navigate){let t=o.fetcherKey||ze();await e.fetch(t,r,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,r])}(),v=function(e,{relative:t}={}){let{basename:r}=i.useContext(Q),n=i.useContext(V);u(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),s={...J(e||".",{relative:t})},a=Y();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();s.search=r?`?${r}`:""}}return e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(s.pathname="/"===s.pathname?r:L([r,s.pathname])),h(s)}(l,{relative:d}),b="get"===a.toLowerCase()?"get":"post",x="string"==typeof l&&Ie.test(l);return i.createElement("form",{ref:g,method:b,action:v,onSubmit:n?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let n=e.nativeEvent.submitter,i=n?.getAttribute("formmethod")||a;y(n||e.currentTarget,{fetcherKey:t,method:i,navigate:r,replace:o,state:s,relative:d,preventScrollReset:p,viewTransition:f})},...m,"data-discover":x||"render"!==e?void 0:"true"})}).displayName="Form";var De=0,ze=()=>`__${String(++De)}__`;r(4915),Object.create(null);const $e={},Fe=(e,t,r,n)=>{He(r)&&$e[r]||(He(r)&&($e[r]=new Date),((e,t,r,n)=>{const o=[r,{code:t,...n||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);He(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...o):console?.warn&&console.warn(...o)})(e,t,r,n))},Be=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},Ue=(e,t,r)=>{e.loadNamespaces(t,Be(e,r))},Qe=(e,t,r,n)=>{if(He(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Ue(e,r,n);r.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,Be(e,n))},He=e=>"string"==typeof e,Ve=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ke={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},We=e=>Ke[e];let Ye,Ge={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(Ve,We)};const Xe={type:"3rdParty",init(e){((e={})=>{Ge={...Ge,...e}})(e.options.react),(e=>{Ye=e})(e)}},Ze=(0,i.createContext)();class Je{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const et=(e,t,r,n)=>e.getFixedT(t,r,n),tt=(e,t={})=>{const{i18n:r}=t,{i18n:n,defaultNS:o}=(0,i.useContext)(Ze)||{},s=r||n||Ye;if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Je),!s){Fe(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return He(t)?t:"object"==typeof(r=t)&&null!==r&&He(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var r},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}s.options.react?.wait&&Fe(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Ge,...s.options.react,...t},{useSuspense:l,keyPrefix:c}=a;let u=e||o||s.options?.defaultNS;u=He(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces?.(u);const d=(s.isInitialized||s.initializedStoreOnce)&&u.every(e=>((e,t,r={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(t,n)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!n(t.isLanguageChangingTo,e))return!1}}):(Fe(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,s,a)),p=((e,t,r,n)=>(0,i.useCallback)(et(e,t,r,n),[e,t,r,n]))(s,t.lng||null,"fallback"===a.nsMode?u:u[0],c),f=()=>p,h=()=>et(s,t.lng||null,"fallback"===a.nsMode?u:u[0],c),[m,g]=(0,i.useState)(f);let y=u.join();t.lng&&(y=`${t.lng}${y}`);const v=((e,t)=>{const r=(0,i.useRef)();return(0,i.useEffect)(()=>{r.current=e},[e,t]),r.current})(y),b=(0,i.useRef)(!0);(0,i.useEffect)(()=>{const{bindI18n:e,bindI18nStore:r}=a;b.current=!0,d||l||(t.lng?Qe(s,t.lng,u,()=>{b.current&&g(h)}):Ue(s,u,()=>{b.current&&g(h)})),d&&v&&v!==y&&b.current&&g(h);const n=()=>{b.current&&g(h)};return e&&s?.on(e,n),r&&s?.store.on(r,n),()=>{b.current=!1,s&&e&&e?.split(" ").forEach(e=>s.off(e,n)),r&&s&&r.split(" ").forEach(e=>s.store.off(e,n))}},[s,y]),(0,i.useEffect)(()=>{b.current&&d&&g(f)},[s,c,d]);const x=[m,s,d];if(x.t=m,x.i18n=s,x.ready=d,d)return x;if(!d&&!l)return x;throw new Promise(e=>{t.lng?Qe(s,t.lng,u,()=>e()):Ue(s,u,()=>e())})};function rt({i18n:e,defaultNS:t,children:r}){const n=(0,i.useMemo)(()=>({i18n:e,defaultNS:t}),[e,t]);return(0,i.createElement)(Ze.Provider,{value:n},r)}function nt(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=nt(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}const ot=function(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=nt(e))&&(n&&(n+=" "),n+=t);return n};!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var it=e=>"number"==typeof e&&!isNaN(e),st=e=>"string"==typeof e,at=e=>"function"==typeof e,lt=e=>st(e)||at(e)?e:null,ct=(e,t)=>!1===e||it(e)&&e>0?e:t,ut=e=>(0,i.isValidElement)(e)||st(e)||at(e)||it(e);function dt({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:o=300}){return function({children:s,position:a,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:p}){let f=r?`${e}--${a}`:e,h=r?`${t}--${a}`:t,m=(0,i.useRef)(0);return(0,i.useLayoutEffect)(()=>{let e=u.current,t=f.split(" "),r=n=>{n.target===u.current&&(p(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===m.current&&"animationcancel"!==n.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)},[]),(0,i.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),n?function(e,t,r=300){let{scrollHeight:n,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=n+"px",o.transition=`all ${r}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,r)})})}(e,c,o):c()};d||(l?t():(m.current=1,e.className+=` ${h}`,e.addEventListener("animationend",t)))},[d]),i.createElement(i.Fragment,null,s)}}function pt(e,t){return{content:ft(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function ft(e,t,r=!1){return(0,i.isValidElement)(e)&&!st(e.type)?(0,i.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):at(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function ht({delay:e,isRunning:t,closeToast:r,type:n="default",hide:o,className:s,controlledProgress:a,progress:l,rtl:c,isIn:u,theme:d}){let p=o||a&&0===l,f={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};a&&(f.transform=`scaleX(${l})`);let h=ot("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),m=at(s)?s({rtl:c,type:n,defaultClassName:h}):ot(h,s),g={[a&&l>=1?"onTransitionEnd":"onAnimationEnd"]:a&&l<1?null:()=>{u&&r()}};return i.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},i.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),i.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:m,style:f,...g}))}var mt=1,gt=()=>""+mt++;var yt=new Map,vt=[],bt=new Set,xt=e=>bt.forEach(t=>t(e)),_t=()=>yt.size>0;function wt(e,t){var r;if(t)return!(null==(r=yt.get(t))||!r.isToastActive(e));let n=!1;return yt.forEach(t=>{t.isToastActive(e)&&(n=!0)}),n}function jt(e,t){ut(e)&&(_t()||vt.push({content:e,options:t}),yt.forEach(r=>{r.buildToast(e,t)}))}function Nt(e,t){yt.forEach(r=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===r.id)&&r.toggle(e,null==t?void 0:t.id)})}function kt(e){let t=e.containerId||1;return{subscribe(r){let n=function(e,t,r){let n=1,o=0,i=[],s=[],a=t,l=new Map,c=new Set,u=()=>{s=Array.from(l.values()),c.forEach(e=>e())},d=e=>{var t,r;null==(r=null==(t=e.props)?void 0:t.onClose)||r.call(t,e.removalReason),e.isActive=!1},p=e=>{if(null==e)l.forEach(d);else{let t=l.get(e);t&&d(t)}u()},f=e=>{var t,n;let{toastId:o,updateId:i}=e.props,s=null==i;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(o,e),u(),r(pt(e,s?"added":"updated")),s&&(null==(n=(t=e.props).onOpen)||n.call(t))};return{id:e,props:a,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach(r=>{var n;(null==t||t===r.props.toastId)&&(null==(n=r.toggle)||n.call(r,e))})},removeToast:p,toasts:l,clearQueue:()=>{o-=i.length,i=[]},buildToast:(t,s)=>{if((({containerId:t,toastId:r,updateId:n})=>{let o=t?t!==e:1!==e,i=l.has(r)&&null==n;return o||i})(s))return;let{toastId:c,updateId:d,data:h,staleId:m,delay:g}=s,y=null==d;y&&o++;let v={...a,style:a.toastStyle,key:n++,...Object.fromEntries(Object.entries(s).filter(([e,t])=>null!=t)),toastId:c,updateId:d,data:h,isIn:!1,className:lt(s.className||a.toastClassName),progressClassName:lt(s.progressClassName||a.progressClassName),autoClose:!s.isLoading&&ct(s.autoClose,a.autoClose),closeToast(e){l.get(c).removalReason=e,p(c)},deleteToast(){let e=l.get(c);if(null!=e){if(r(pt(e,"removed")),l.delete(c),o--,o<0&&(o=0),i.length>0)return void f(i.shift());u()}}};v.closeButton=a.closeButton,!1===s.closeButton||ut(s.closeButton)?v.closeButton=s.closeButton:!0===s.closeButton&&(v.closeButton=!ut(a.closeButton)||a.closeButton);let b={content:t,props:v,staleId:m};a.limit&&a.limit>0&&o>a.limit&&y?i.push(b):it(g)?setTimeout(()=>{f(b)},g):f(b)},setProps(e){a=e},setToggle:(e,t)=>{let r=l.get(e);r&&(r.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>s}}(t,e,xt);yt.set(t,n);let o=n.observe(r);return vt.forEach(e=>jt(e.content,e.options)),vt=[],()=>{o(),yt.delete(t)}},setProps(e){var r;null==(r=yt.get(t))||r.setProps(e)},getSnapshot(){var e;return null==(e=yt.get(t))?void 0:e.getSnapshot()}}}function Ct(e){return e&&(st(e.toastId)||it(e.toastId))?e.toastId:gt()}function Et(e,t){return jt(e,t),t.toastId}function Ot(e,t){return{...t,type:t&&t.type||e,toastId:Ct(t)}}function St(e){return(t,r)=>Et(t,Ot(e,r))}function Tt(e,t){return Et(e,Ot("default",t))}Tt.loading=(e,t)=>Et(e,Ot("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Tt.promise=function(e,{pending:t,error:r,success:n},o){let i;t&&(i=st(t)?Tt.loading(t,o):Tt.loading(t.render,{...o,...t}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(e,t,r)=>{if(null==t)return void Tt.dismiss(i);let n={type:e,...s,...o,data:r},a=st(t)?{render:t}:t;return i?Tt.update(i,{...n,...a}):Tt(a.render,{...n,...a}),r},l=at(e)?e():e;return l.then(e=>a("success",n,e)).catch(e=>a("error",r,e)),l},Tt.success=St("success"),Tt.info=St("info"),Tt.error=St("error"),Tt.warning=St("warning"),Tt.warn=Tt.warning,Tt.dark=(e,t)=>Et(e,Ot("default",{theme:"dark",...t})),Tt.dismiss=function(e){!function(e){if(_t()){if(null==e||(e=>st(e)||it(e))(e))yt.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=yt.get(e.containerId);t?t.removeToast(e.id):yt.forEach(t=>{t.removeToast(e.id)})}}else vt=vt.filter(t=>null!=e&&t.options.toastId!==e)}(e)},Tt.clearWaitingQueue=(e={})=>{yt.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},Tt.isActive=wt,Tt.update=(e,t={})=>{let r=((e,{containerId:t})=>{var r;return null==(r=yt.get(t||1))?void 0:r.toasts.get(e)})(e,t);if(r){let{props:n,content:o}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:gt()};i.toastId!==e&&(i.staleId=e);let s=i.render||o;delete i.render,Et(s,i)}},Tt.done=e=>{Tt.update(e,{progress:1})},Tt.onChange=function(e){return bt.add(e),()=>{bt.delete(e)}},Tt.play=e=>Nt(!0,e),Tt.pause=e=>Nt(!1,e);var qt="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,At=({theme:e,type:t,isLoading:r,...n})=>i.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===e?"currentColor":`var(--toastify-icon-color-${t})`,...n}),Pt={info:function(e){return i.createElement(At,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.createElement(At,{...e},i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.createElement(At,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.createElement(At,{...e},i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}};var Lt=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:o,playToast:s}=function(e){let[t,r]=(0,i.useState)(!1),[n,o]=(0,i.useState)(!1),s=(0,i.useRef)(null),a=(0,i.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:p}=e;function f(){r(!0)}function h(){r(!1)}function m(r){let n=s.current;if(a.canDrag&&n){a.didMove=!0,t&&h(),"x"===e.draggableDirection?a.delta=r.clientX-a.start:a.delta=r.clientY-a.start,a.start!==r.clientX&&(a.canCloseOnClick=!1);let o="x"===e.draggableDirection?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;n.style.transform=`translate3d(${o},0)`,n.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance))}}function g(){document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",g);let t=s.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return o(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=yt.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:r}),(0,i.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||h(),window.addEventListener("focus",f),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",h)}},[e.pauseOnFocusLoss]);let y={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){a.didMove=!1,document.addEventListener("pointermove",m),document.addEventListener("pointerup",g);let r=s.current;a.canCloseOnClick=!0,a.canDrag=!0,r.style.transition="none","x"===e.draggableDirection?(a.start=t.clientX,a.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(a.start=t.clientY,a.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:r,bottom:n,left:o,right:i}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=o&&t.clientX<=i&&t.clientY>=r&&t.clientY<=n?h():f()}};return l&&c&&(y.onMouseEnter=h,e.stacked||(y.onMouseLeave=f)),p&&(y.onClick=e=>{d&&d(e),a.canCloseOnClick&&u(!0)}),{playToast:f,pauseToast:h,isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:y}}(e),{closeButton:a,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:p,closeToast:f,transition:h,position:m,className:g,style:y,progressClassName:v,updateId:b,role:x,progress:_,rtl:w,toastId:j,deleteToast:N,isIn:k,isLoading:C,closeOnClick:E,theme:O,ariaLabel:S}=e,T=ot("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":w},{"Toastify__toast--close-on-click":E}),q=at(g)?g({rtl:w,position:m,type:d,defaultClassName:T}):ot(T,g),A=function({theme:e,type:t,isLoading:r,icon:n}){let o=null,s={theme:e,type:t};return!1===n||(at(n)?o=n({...s,isLoading:r}):(0,i.isValidElement)(n)?o=(0,i.cloneElement)(n,s):r?o=Pt.spinner():(e=>e in Pt)(t)&&(o=Pt[t](s))),o}(e),P=!!_||!c,L={closeToast:f,type:d,theme:O},I=null;return!1===a||(I=at(a)?a(L):(0,i.isValidElement)(a)?(0,i.cloneElement)(a,L):function({closeToast:e,theme:t,ariaLabel:r="close"}){return i.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:t=>{t.stopPropagation(),e(!0)},"aria-label":r},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(L)),i.createElement(h,{isIn:k,done:N,position:m,preventExitTransition:r,nodeRef:n,playToast:s},i.createElement("div",{id:j,tabIndex:0,onClick:u,"data-in":k,className:q,...o,style:y,ref:n,...k&&{role:x,"aria-label":S}},null!=A&&i.createElement("div",{className:ot("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},A),ft(l,e,!t),I,!e.customProgressBar&&i.createElement(ht,{...b&&!P?{key:`p-${b}`}:{},rtl:w,theme:O,delay:c,isRunning:t,isIn:k,closeToast:f,hide:p,type:d,className:v,controlledProgress:P,progress:_||0})))},It=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),Rt=dt(It("bounce",!0)),Mt=(dt(It("slide",!0)),dt(It("zoom")),dt(It("flip")),{position:"top-right",transition:Rt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Dt(e){let t={...Mt,...e},r=e.stacked,[n,o]=(0,i.useState)(!0),s=(0,i.useRef)(null),{getToastToRender:a,isToastActive:l,count:c}=function(e){var t;let{subscribe:r,getSnapshot:n,setProps:o}=(0,i.useRef)(kt(e)).current;o(e);let s=null==(t=(0,i.useSyncExternalStore)(r,n,n))?void 0:t.slice();return{getToastToRender:function(t){if(!s)return[];let r=new Map;return e.newestOnTop&&s.reverse(),s.forEach(e=>{let{position:t}=e.props;r.has(t)||r.set(t,[]),r.get(t).push(e)}),Array.from(r,e=>t(e[0],e[1]))},isToastActive:wt,count:null==s?void 0:s.length}}(t),{className:u,style:d,rtl:p,containerId:f,hotKeys:h}=t;function m(e){let t=ot("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":p});return at(u)?u({position:e,rtl:p,defaultClassName:t}):ot(t,lt(u))}function g(){r&&(o(!0),Tt.play())}return qt(()=>{var e;if(r){let r=s.current.querySelectorAll('[data-in="true"]'),o=12,i=null==(e=t.position)?void 0:e.includes("top"),a=0,l=0;Array.from(r).reverse().forEach((e,t)=>{let r=e;r.classList.add("Toastify__toast--stacked"),t>0&&(r.dataset.collapsed=`${n}`),r.dataset.pos||(r.dataset.pos=i?"top":"bot");let s=a*(n?.2:1)+(n?0:o*t);r.style.setProperty("--y",`${i?s:-1*s}px`),r.style.setProperty("--g",`${o}`),r.style.setProperty("--s",""+(1-(n?l:0))),a+=r.offsetHeight,l+=.025})}},[n,c,r]),(0,i.useEffect)(()=>{function e(e){var t;let r=s.current;h(e)&&(null==(t=r.querySelector('[tabIndex="0"]'))||t.focus(),o(!1),Tt.pause()),"Escape"===e.key&&(document.activeElement===r||null!=r&&r.contains(document.activeElement))&&(o(!0),Tt.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[h]),i.createElement("section",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{r&&(o(!1),Tt.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a((e,t)=>{let n=t.length?{...d}:{...d,pointerEvents:"none"};return i.createElement("div",{tabIndex:-1,className:m(e),"data-stacked":r,style:n,key:`c-${e}`},t.map(({content:e,props:t})=>i.createElement(Lt,{...t,stacked:r,collapseAll:g,isIn:l(t.toastId,t.containerId),key:`t-${t.key}`},e)))}))}const zt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},$t=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),Ft=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var Bt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ut=(0,i.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:s,iconNode:a,...l},c)=>(0,i.createElement)("svg",{ref:c,...Bt,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:$t("lucide",o),...!s&&!Ft(l)&&{"aria-hidden":"true"},...l},[...a.map(([e,t])=>(0,i.createElement)(e,t)),...Array.isArray(s)?s:[s]])),Qt=(e,t)=>{const r=(0,i.forwardRef)(({className:r,...n},o)=>{return(0,i.createElement)(Ut,{ref:o,iconNode:t,className:$t(`lucide-${s=zt(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...n});var s});return r.displayName=zt(e),r},Ht=Qt("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Vt=Qt("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Kt=Qt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Wt=Qt("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Yt=Qt("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Gt=Qt("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Xt=Qt("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Zt=Qt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Jt=({service:e,resourceName:t="resource",initialFilters:r={},debounceMs:n=500,autoFetch:o=!0,perPage:s=20,dataProcessor:a=null,computedValuesCalculator:l=null})=>{const[c,u]=(0,i.useState)([]),[d,p]=(0,i.useState)(!1),[f,h]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),[b,x]=(0,i.useState)(null),[_,w]=(0,i.useState)({currentPage:1,totalPages:1,total:0,perPage:s,hasMore:!1}),[j,N]=(0,i.useState)({search:"",...r}),k=(0,i.useRef)(null),C=(0,i.useRef)(!0),E=(0,i.useRef)(""),O=(0,i.useRef)(!0);(0,i.useEffect)(()=>(C.current=!0,()=>{C.current=!1,k.current&&clearTimeout(k.current)}),[]);const S=(0,i.useCallback)(async(r=!1)=>{try{if(!e||!e.getAll)return void console.error(` ${t}: Invalid service provided`);const n=JSON.stringify({reset:r,filters:j,page:_.currentPage});if(n===E.current&&!r)return void console.log(` ${t}: Skipping duplicate fetch`);E.current=n,r&&p(!0),x(null);const o=r?1:_.currentPage,i={};Object.keys(j).forEach(e=>{const t=j[e];t&&"all"!==t&&""!==t&&(i[e]=t)}),console.log(` Fetching ${t}s:`,{page:o,perPage:s,filters:i});const l=await e.getAll({...i,page:o,perPage:_.perPage});if(!C.current)return;let c=l.data||[];a&&"function"==typeof a&&(c=c.map(a)),u(r?c:e=>[...e,...c]),w(e=>({...e,currentPage:r?1:o,totalPages:l.pagination?.totalPages||1,total:l.pagination?.total||0,hasMore:l.pagination?.currentPage<l.pagination?.totalPages})),console.log(` ${t}s fetched:`,{count:c.length,total:l.pagination?.total||0})}catch(e){if(!C.current)return;console.error(` Error fetching ${t}s:`,e),x(e.message||`Failed to fetch ${t}s`)}finally{C.current&&p(!1)}},[e,t,j,_.currentPage,_.perPage,a]),T=(0,i.useCallback)(()=>{_.hasMore&&!d&&w(e=>({...e,currentPage:e.currentPage+1}))},[_.hasMore,d]),q=(0,i.useCallback)(async r=>{try{h(!0),x(null),console.log(` Creating ${t}:`,r);const n=await e.create(r);if(!C.current)return null;const o=a?a(n):n;return u(e=>[o,...e]),w(e=>({...e,total:e.total+1})),console.log(` ${t} created:`,o.id),o}catch(e){if(!C.current)return null;throw console.error(` Error creating ${t}:`,e),x(e.message||`Failed to create ${t}`),e}finally{C.current&&h(!1)}},[e,t,a]),A=(0,i.useCallback)(async(r,n)=>{try{g(!0),x(null),console.log(` Updating ${t} ${r}:`,n);const o=await e.update(r,n);if(!C.current)return null;const i=a?a(o):o;return u(e=>e.map(e=>e.id===r?i:e)),console.log(` ${t} ${r} updated`),i}catch(e){if(!C.current)return null;throw console.error(` Error updating ${t} ${r}:`,e),x(e.message||`Failed to update ${t}`),e}finally{C.current&&g(!1)}},[e,t,a]),P=(0,i.useCallback)(async(r,n={})=>{try{if(v(!0),x(null),console.log(` Deleting ${t} ${r}`),await e.delete(r,n),!C.current)return;u(e=>e.filter(e=>e.id!==r)),w(e=>({...e,total:Math.max(0,e.total-1)})),console.log(` ${t} ${r} deleted`)}catch(e){if(!C.current)return;throw console.error(` Error deleting ${t} ${r}:`,e),x(e.message||`Failed to delete ${t}`),e}finally{C.current&&v(!1)}},[e,t]),L=(0,i.useCallback)(async r=>{try{h(!0),x(null),console.log(` Duplicating ${t} ${r}`);const n=c.find(e=>e.id===r);if(!n)throw new Error(`${t} not found`);let o;if(e.duplicate)o=await e.duplicate(r);else{const t={...n,title:`${n.title||"Untitled"} (Copy)`,status:"draft"};delete t.id,delete t.date,delete t.modified,o=await e.create(t)}if(!C.current)return null;const i=a?a(o):o;return u(e=>[i,...e]),w(e=>({...e,total:e.total+1})),console.log(` ${t} ${r} duplicated:`,i.id),i}catch(e){if(!C.current)return null;throw console.error(` Error duplicating ${t} ${r}:`,e),x(e.message||`Failed to duplicate ${t}`),e}finally{C.current&&h(!1)}},[e,t,c,a]),I=(0,i.useCallback)((e,t)=>{N(r=>({...r,[e]:t}))},[]),R=(0,i.useCallback)(()=>{N({search:"",...r})},[r]),M=(0,i.useCallback)(()=>{E.current="",S(!0)},[S]);(0,i.useEffect)(()=>{if(o||!O.current)return O.current=!1,k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{S(!0)},n),()=>{k.current&&clearTimeout(k.current)};O.current=!1},[j,o,n,S]),(0,i.useEffect)(()=>{_.currentPage>1&&S(!1)},[_.currentPage]);const D=(0,i.useMemo)(()=>l&&"function"==typeof l?l(c):{total:c.length,published:c.filter(e=>"publish"===e.status).length,draft:c.filter(e=>"draft"===e.status).length,private:c.filter(e=>"private"===e.status).length},[c,l]);return{items:c,loading:d,creating:f,updating:m,deleting:y,error:b,pagination:_,computed:D,filters:j,updateFilter:I,resetFilters:R,setFilters:N,fetchItems:S,loadMore:T,createItem:q,updateItem:A,deleteItem:P,duplicateItem:L,refresh:M,hasMore:_.hasMore}},er=()=>{const e=window.qe_data||window.qeApiConfig||{},{api_url:t,nonce:r,endpoints:n}=e;if(console.log(" API Config Debug:",{hasQeData:!!window.qe_data,hasQeApiConfig:!!window.qeApiConfig,apiUrl:t,hasNonce:!!r,hasEndpoints:!!n}),!t||!r)throw new Error(`WordPress API configuration not found. \n      Ensure qe_data is properly localized in WordPress. \n      Available data: ${JSON.stringify(e,null,2)}`);const o={apiUrl:t,nonce:r,endpoints:n||{courses:`${t}/wp/v2/course`,lessons:`${t}/wp/v2/lesson`,quizzes:`${t}/wp/v2/quiz`,questions:`${t}/wp/v2/question`,books:`${t}/wp/v2/book`,categories:`${t}/wp/v2/qe_category`,topics:`${t}/wp/v2/qe_topic`,difficulties:`${t}/wp/v2/qe_difficulty`,courseTypes:`${t}/wp/v2/course_type`,media:`${t}/wp/v2/media`,users:`${t}/wp/v2/users`},debug:e.debug||!1,user:e.user||null};return console.log(" Final API Configuration:",o),o},tr=()=>{try{const{nonce:e}=er();return{"Content-Type":"application/json","X-WP-Nonce":e}}catch(e){return console.error(" Error getting default headers:",e),{"Content-Type":"application/json"}}},rr=()=>{const e=window.qe_data||{};if(!e.nonce)throw new Error("WordPress configuration not found. Ensure qe_data is loaded.");if(!e.endpoints)throw new Error("API endpoints not configured in WordPress");return e},nr=async(e,t={})=>{try{const r={headers:{"Content-Type":"application/json","X-WP-Nonce":rr().nonce},credentials:"same-origin",...t},n=await fetch(e,r);if(!n.ok){const e=await n.text();throw new Error(`API Error ${n.status}: ${n.statusText} - ${e}`)}return{data:await n.json(),headers:{"X-WP-Total":n.headers.get("X-WP-Total"),"X-WP-TotalPages":n.headers.get("X-WP-TotalPages")}}}catch(t){throw console.error(" API Request Failed:",e,t),t}},or=(e={})=>{const{page:t=1,perPage:r=20,status:n="publish,draft,private",search:o="",orderBy:i="date",order:s="desc",embed:a=!0}=e,l=new URLSearchParams({page:t.toString(),per_page:r.toString(),status:n,orderby:i,order:s});return a&&l.append("_embed","true"),o&&o.trim()&&l.append("search",o.trim()),l},ir=(e,t,r={})=>{const{sanitizer:n=e=>e,validator:o=()=>({isValid:!0,errors:[]}),transformer:i=e=>e,buildParams:s=or}=r,a=()=>{const e=rr();if(!e.endpoints[t])throw new Error(`Endpoint '${t}' not configured`);return e.endpoints[t]};return{getAll:async(t={})=>{try{const r=`${a()}?${s(t).toString()}`;console.log(` GET ${e}s:`,r);const o=await nr(r);return{data:Array.isArray(o.data)?o.data.map(n):[],pagination:{currentPage:t.page||1,totalPages:parseInt(o.headers["X-WP-TotalPages"]||"1"),total:parseInt(o.headers["X-WP-Total"]||"0"),perPage:t.perPage||20}}}catch(t){throw console.error(` Error fetching ${e}s:`,t),t}},getOne:async(t,r={})=>{try{if(!t||!Number.isInteger(t)||t<=0)throw new Error(`Invalid ${e} ID: ${t}`);const o=a(),i=new URLSearchParams;!1!==r.embed&&i.append("_embed","true");const s=`${o}/${t}?${i.toString()}`;console.log(` GET ${e}:`,s);const l=await nr(s);return n(l.data)}catch(r){if(console.error(` Error fetching ${e} ${t}:`,r),r.message.includes("404"))return null;throw r}},create:async t=>{try{const r=o(t);if(!r.isValid)throw new Error(`Validation failed: ${r.errors.join(", ")}`);const s=a(),l=i(t);console.log(` Creating ${e}:`,l);const c=await nr(s,{method:"POST",body:JSON.stringify(l)});return console.log(` ${e} created:`,c.data.id),n(c.data)}catch(t){throw console.error(` Error creating ${e}:`,t),t}},update:async(t,r)=>{try{if(!t||!Number.isInteger(t)||t<=0)throw new Error(`Invalid ${e} ID: ${t}`);const s=o(r);if(!s.isValid)throw new Error(`Validation failed: ${s.errors.join(", ")}`);const l=a(),c=i(r);console.log(` Updating ${e} ${t}:`,c);const u=`${l}/${t}`,d=await nr(u,{method:"POST",body:JSON.stringify(c)});return console.log(` ${e} updated:`,t),n(d.data)}catch(r){throw console.error(` Error updating ${e} ${t}:`,r),r}},delete:async(t,r={})=>{try{if(!t||!Number.isInteger(t)||t<=0)throw new Error(`Invalid ${e} ID: ${t}`);const n=a(),o=new URLSearchParams;r.force&&o.append("force","true");const i=`${n}/${t}?${o.toString()}`;return console.log(` Deleting ${e} ${t}`),await nr(i,{method:"DELETE"}),console.log(` ${e} deleted:`,t),!0}catch(r){throw console.error(` Error deleting ${e} ${t}:`,r),r}},getCount:async(t={})=>{try{return(await service.getAll({...t,perPage:1})).pagination.total}catch(t){return console.error(` Error getting ${e} count:`,t),0}}}},sr=["publish","draft","private","pending","future","trash"],ar={true:["true","yes","1",1,!0],false:["false","no","0",0,!1,"",null,void 0]},lr=(e,t="")=>null==e?t:String(e).trim(),cr=(e,t=0,r=0)=>{const n=parseInt(e);return isNaN(n)||n<r?t:n},ur=(e,t=1)=>{if(""===e||null==e)return null;const r=parseInt(e);return isNaN(r)||r<t?null:r},dr=(e,t=!1)=>!!ar.true.includes(e)||!ar.false.includes(e)&&t,pr=e=>((e,t=0,r=2,n=0)=>{const o=parseFloat(e);return isNaN(o)||o<n?t:Math.round(o*Math.pow(10,r))/Math.pow(10,r)})(e,0,2,0),fr=e=>((e,t=2,r=.01)=>{if(""===e||null==e)return null;const n=parseFloat(e);return isNaN(n)||n<r?null:Math.round(n*Math.pow(10,t))/Math.pow(10,t)})(e,2,.01),hr=e=>{if(!e||"string"!=typeof e)return"";const t=e.trim();try{return new URL(t),t}catch{return""}},mr=e=>{if(!e||""===e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const t=new Date(e);if(!isNaN(t.getTime()))return e}const t=new Date(e);return isNaN(t.getTime())?"":t.toISOString().split("T")[0]},gr=e=>Array.isArray(e)?e.map(e=>parseInt(e)).filter(e=>!isNaN(e)&&e>0):[],yr=e=>{if(!e)return[];if(Array.isArray(e))return gr(e);const t=parseInt(e);return!isNaN(t)&&t>0?[t]:[]},vr=(e,t="draft")=>{const r=lr(e,t).toLowerCase();return sr.includes(r)?r:t},br=(e,t,r)=>{const n=lr(e,r).toLowerCase();return t.includes(n)?n:r},xr=e=>e?"object"==typeof e&&e.rendered?lr(e.rendered):lr(e):"",_r=(e,t)=>null==e||""===e?`${t} is required`:null,wr=e=>{const t=e._embedded?.["wp:featuredmedia"]?.[0];return t&&(t.source_url||t.media_details?.sizes?.medium?.source_url||t.media_details?.sizes?.thumbnail?.source_url)||""},jr=(e=[])=>({isValid:0===e.length,errors:e}),Nr={_start_date:"",_end_date:"",_price:0,_sale_price:null,_duration_weeks:null,_max_students:null,_difficulty_level:"medium",_product_type:"free",_woocommerce_product_id:0,_lesson_ids:[],_lesson_count:0,_student_count:0,_instructor_id:null,_certificate_template:null,_course_requirements:"",_course_objectives:"",_target_audience:""},kr=["publish","draft","private","pending"],Cr=["easy","medium","hard","beginner","intermediate","advanced"],Er=["free","paid"],Or=ir("course","courses",{sanitizer:e=>{if(!e)return console.warn(" sanitizeCourseData - No data provided"),null;const t=xr(e.title),r=xr(e.content),n=xr(e.excerpt);return{id:e.id||0,title:t,content:r,excerpt:n,status:vr(e.status,"draft"),date:e.date||"",modified:e.modified||"",slug:e.slug||"",author:e.author||0,featured_media:e.featured_media||0,featured_media_url:wr(e),qe_category:yr(e.qe_category),qe_difficulty:yr(e.qe_difficulty),qe_topic:yr(e.qe_topic),course_type:yr(e.course_type),meta:{...Nr,...e.meta},enrolled_users_count:e.enrolled_users_count||0,lessons_count:e.lessons_count||0,is_free:void 0===e.is_free||e.is_free,_embedded:e._embedded||{},_links:e._links||{}}},validator:e=>{const t=[],r=_r(e.title,"Course title");r&&t.push(r),e.status&&!kr.includes(e.status)&&t.push(`Invalid status. Must be one of: ${kr.join(", ")}`),["qe_category","qe_difficulty","qe_topic","course_type"].forEach(r=>{void 0!==e[r]&&(Array.isArray(e[r])||t.push(`${r} must be an array`))});const n=e.meta||e;if(void 0!==n._price&&""!==n._price&&isNaN(parseFloat(n._price))&&t.push("Price must be a valid number"),void 0!==n._sale_price&&""!==n._sale_price&&null!==n._sale_price&&isNaN(parseFloat(n._sale_price))&&t.push("Sale price must be a valid number"),n._price&&n._sale_price&&parseFloat(n._sale_price)>=parseFloat(n._price)&&t.push("Sale price must be less than regular price"),void 0!==n._duration_weeks&&""!==n._duration_weeks&&null!==n._duration_weeks){const e=parseInt(n._duration_weeks);(isNaN(e)||e<=0)&&t.push("Duration must be a positive number")}if(void 0!==n._max_students&&""!==n._max_students&&null!==n._max_students){const e=parseInt(n._max_students);(isNaN(e)||e<=0)&&t.push("Max students must be a positive number")}if(n._difficulty_level&&!Cr.includes(n._difficulty_level)&&t.push(`Invalid difficulty level. Must be one of: ${Cr.join(", ")}`),n._product_type&&!Er.includes(n._product_type)&&t.push(`Invalid product type. Must be one of: ${Er.join(", ")}`),n._start_date&&n._end_date){const e=((e,t)=>{if(!e||!t)return null;const r=new Date(e),n=new Date(t);return isNaN(r.getTime())||isNaN(n.getTime())?"Invalid date format":r>=n?"End date must be after start date":null})(n._start_date,n._end_date);e&&t.push(e)}return jr(t)},transformer:e=>{console.log(" transformCourseDataForApi - Input:",e);const t={title:lr(e.title),content:lr(e.content||""),excerpt:lr(e.excerpt||""),status:vr(e.status,"publish")};return void 0!==e.featured_media&&(t.featured_media=ur(e.featured_media,1)),void 0!==e.qe_category&&(t.qe_category=yr(e.qe_category)),void 0!==e.qe_difficulty&&(t.qe_difficulty=yr(e.qe_difficulty)),void 0!==e.qe_topic&&(t.qe_topic=yr(e.qe_topic)),void 0!==e.course_type&&(t.course_type=yr(e.course_type)),t.meta={},void 0!==e._start_date?t.meta._start_date=mr(e._start_date):void 0!==e.startDate?t.meta._start_date=mr(e.startDate):void 0!==e.meta?._start_date&&(t.meta._start_date=mr(e.meta._start_date)),void 0!==e._end_date?t.meta._end_date=mr(e._end_date):void 0!==e.endDate?t.meta._end_date=mr(e.endDate):void 0!==e.meta?._end_date&&(t.meta._end_date=mr(e.meta._end_date)),void 0!==e._price?t.meta._price=pr(e._price):void 0!==e.price?t.meta._price=pr(e.price):void 0!==e.meta?._price&&(t.meta._price=pr(e.meta._price)),void 0!==e._sale_price?t.meta._sale_price=fr(e._sale_price):void 0!==e.salePrice?t.meta._sale_price=fr(e.salePrice):void 0!==e.meta?._sale_price&&(t.meta._sale_price=fr(e.meta._sale_price)),void 0!==e._duration_weeks?t.meta._duration_weeks=ur(e._duration_weeks,1):void 0!==e.durationWeeks?t.meta._duration_weeks=ur(e.durationWeeks,1):void 0!==e.meta?._duration_weeks&&(t.meta._duration_weeks=ur(e.meta._duration_weeks,1)),void 0!==e._max_students?t.meta._max_students=ur(e._max_students,1):void 0!==e.maxStudents?t.meta._max_students=ur(e.maxStudents,1):void 0!==e.meta?._max_students&&(t.meta._max_students=ur(e.meta._max_students,1)),void 0!==e._difficulty_level?t.meta._difficulty_level=br(e._difficulty_level,Cr,"medium"):void 0!==e.difficulty?t.meta._difficulty_level=br(e.difficulty,Cr,"medium"):void 0!==e.meta?._difficulty_level&&(t.meta._difficulty_level=br(e.meta._difficulty_level,Cr,"medium")),void 0!==e._product_type?t.meta._product_type=br(e._product_type,Er,"free"):void 0!==e.productType?t.meta._product_type=br(e.productType,Er,"free"):void 0!==e.meta?._product_type&&(t.meta._product_type=br(e.meta._product_type,Er,"free")),void 0!==e._woocommerce_product_id?t.meta._woocommerce_product_id=cr(e._woocommerce_product_id,0,0):void 0!==e.woocommerceProductId?t.meta._woocommerce_product_id=cr(e.woocommerceProductId,0,0):void 0!==e.meta?._woocommerce_product_id&&(t.meta._woocommerce_product_id=cr(e.meta._woocommerce_product_id,0,0)),void 0!==e._lesson_ids?t.meta._lesson_ids=gr(e._lesson_ids):void 0!==e.lessonIds?t.meta._lesson_ids=gr(e.lessonIds):void 0!==e.meta?._lesson_ids&&(t.meta._lesson_ids=gr(e.meta._lesson_ids)),void 0!==e._instructor_id?t.meta._instructor_id=ur(e._instructor_id,1):void 0!==e.instructorId?t.meta._instructor_id=ur(e.instructorId,1):void 0!==e.meta?._instructor_id&&(t.meta._instructor_id=ur(e.meta._instructor_id,1)),void 0!==e._course_requirements?t.meta._course_requirements=lr(e._course_requirements):void 0!==e.requirements?t.meta._course_requirements=lr(e.requirements):void 0!==e.meta?._course_requirements&&(t.meta._course_requirements=lr(e.meta._course_requirements)),void 0!==e._course_objectives?t.meta._course_objectives=lr(e._course_objectives):void 0!==e.objectives?t.meta._course_objectives=lr(e.objectives):void 0!==e.meta?._course_objectives&&(t.meta._course_objectives=lr(e.meta._course_objectives)),void 0!==e._target_audience?t.meta._target_audience=lr(e._target_audience):void 0!==e.targetAudience?t.meta._target_audience=lr(e.targetAudience):void 0!==e.meta?._target_audience&&(t.meta._target_audience=lr(e.meta._target_audience)),t.meta={...Nr,...t.meta},console.log(" transformCourseDataForApi - Output:",t),t}}),Sr=async(e={})=>Or.getAll(e),Tr=async(e,t={})=>Or.getOne(e,t),qr=async e=>Or.create(e),Ar=async(e,t)=>Or.update(e,t),Pr=async(e,t={})=>Or.delete(e,t),Lr=async e=>{try{const t=await Tr(e);if(!t)throw new Error("Course not found");const r={title:`${t.title?.rendered||t.title||"Untitled"} (Copy)`,description:t.content?.rendered||t.content||"",excerpt:t.excerpt?.rendered||t.excerpt||"",status:"draft",price:t.meta?._course_price||"0",salePrice:t.meta?._sale_price||"",difficulty:t.meta?._course_difficulty||"intermediate",category:t.meta?._course_category||"general",duration:t.meta?._course_duration||0,maxStudents:t.meta?._max_students||0,featured:!1,startDate:"",endDate:""};console.log(" Duplicating course:",e);const n=await qr(r);return console.log(" Course duplicated:",n.id),n}catch(t){throw console.error(` Error duplicating course ${e}:`,t),t}},Ir=Sr,Rr=Tr,Mr=qr,Dr=Ar,zr=Pr,$r=Lr,Fr=async(e={})=>Or.getCount(e),Br=async e=>{try{return!!await Tr(e)}catch(e){return!1}},Ur=async e=>{try{const t=await Tr(e);return parseInt(t.meta?.enrolled_users_count||"0")}catch(t){return console.error(` Error getting enrolled users for course ${e}:`,t),0}},Qr=async(e,t)=>{if(!["publish","draft","private"].includes(t))throw new Error(`Invalid status: ${t}`);return Ar(e,{status:t})},Hr=async e=>Qr(e,"publish"),Vr=async e=>Qr(e,"draft"),Kr=async(e,t)=>Ar(e,{featured:t}),Wr=async(e,t={})=>Sr({...t,search:e}),Yr=async(e,t={})=>Sr({...t,category:e}),Gr=async(e,t={})=>Sr({...t,difficulty:e}),Xr=async(e={})=>Sr({...e,featured:!0}),Zr=async(e={})=>Sr({...e,status:"publish"}),Jr=(t={})=>{const{search:r="",category:n=null,difficulty:o=null,status:s=null,autoFetch:a=!0,perPage:l=20}=t,c=(0,i.useMemo)(()=>e=>({...e,lesson_count:e.meta?._lesson_count||0,student_count:e.meta?._student_count||0,enrolled_users_count:e.meta?.enrolled_users_count||0,price:parseFloat(e.meta?._course_price||0),sale_price:parseFloat(e.meta?._sale_price||0),difficulty:e.meta?._course_difficulty||"intermediate",category:e.meta?._course_category||"general",completion_rate:parseInt(e.meta?._completion_rate||"0"),duration_hours:parseInt(e.meta?._course_duration||"0"),featured:"yes"===e.meta?._featured,on_sale:e.meta?._sale_price&&parseFloat(e.meta._sale_price)<parseFloat(e.meta._course_price||0),has_lessons:(e.meta?._lesson_count||0)>0,has_students:(e.meta?._student_count||0)>0}),[]),u=(0,i.useMemo)(()=>e=>{const t=e.length;if(0===t)return{total:0,published:0,draft:0,private:0,totalStudents:0,totalLessons:0,averagePrice:0,averageDuration:0,averageCompletionRate:0,byCategory:{},byDifficulty:{},featuredCount:0,onSaleCount:0};let r=0,n=0,o=0,i=0,s=0,a=0;const l={},c={};let u=0,d=0;return e.forEach(e=>{r+=e.student_count||0,n+=e.lesson_count||0;const t=e.price||0;t>0&&(o+=t,a++),i+=e.duration_hours||0,s+=e.completion_rate||0;const p=e.category||"uncategorized";l[p]=(l[p]||0)+1;const f=e.difficulty||"intermediate";c[f]=(c[f]||0)+1,e.featured&&u++,e.on_sale&&d++}),{total:t,published:e.filter(e=>"publish"===e.status).length,draft:e.filter(e=>"draft"===e.status).length,private:e.filter(e=>"private"===e.status).length,totalStudents:r,totalLessons:n,averagePrice:a>0?Math.round(o/a):0,averageDuration:t>0?Math.round(i/t):0,averageCompletionRate:t>0?Math.round(s/t):0,byCategory:l,byDifficulty:c,featuredCount:u,onSaleCount:d}},[]),{items:d,loading:p,creating:f,updating:h,deleting:m,error:g,pagination:y,computed:v,filters:b,updateFilter:x,resetFilters:_,setFilters:w,fetchItems:j,loadMore:N,createItem:k,updateItem:C,deleteItem:E,duplicateItem:O,refresh:S,hasMore:T}=Jt({service:e,resourceName:"course",initialFilters:{search:r,category:n,difficulty:o,status:s||"publish,draft,private"},debounceMs:500,autoFetch:a,perPage:l,dataProcessor:c,computedValuesCalculator:u});return{courses:d,loading:p,creating:f,updating:h,deleting:m,error:g,pagination:y,computed:v,filters:b,updateFilter:x,resetFilters:_,setFilters:w,fetchCourses:j,loadMoreCourses:N,createCourse:k,updateCourse:C,deleteCourse:E,duplicateCourse:O,refresh:S,publishCourse:async e=>C(e,{status:"publish"}),unpublishCourse:async e=>C(e,{status:"draft"}),toggleFeatured:async(e,t)=>C(e,{featured:t}),updatePrice:async(e,t,r=null)=>C(e,{price:t,...null!==r&&{salePrice:r}}),hasMore:T}},en=Jr,tn=(e,t,r=[])=>{const n=(0,i.useRef)(null),o=(0,i.useRef)(e);return(0,i.useEffect)(()=>{o.current=e},[e]),(0,i.useEffect)(()=>()=>{n.current&&clearTimeout(n.current)},[]),(0,i.useCallback)((...e)=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{o.current(...e)},t)},[t,...r])},rn=(e="",t,r=500)=>{const[n,o]=(0,i.useState)(e),[s,a]=(0,i.useState)(!1),l=tn(async e=>{a(!0);try{await t(e)}finally{a(!1)}},r,[t]);return{searchValue:n,isSearching:s,handleSearchChange:(0,i.useCallback)(e=>{o(e),l(e)},[l]),clearSearch:(0,i.useCallback)(()=>{o(""),l("")},[l]),setSearchValue:o}},nn=(e={},t,r=300)=>{const[n,o]=(0,i.useState)(e),[s,a]=(0,i.useState)(!1),l=tn(async e=>{a(!0);try{await t(e)}finally{a(!1)}},r,[t]);return{filters:n,isFiltering:s,updateFilter:(0,i.useCallback)((e,t)=>{o(r=>{const n={...r,[e]:t};return l(n),n})},[l]),updateFilters:(0,i.useCallback)(e=>{o(t=>{const r={...t,...e};return l(r),r})},[l]),resetFilters:(0,i.useCallback)(()=>{o(e),l(e)},[e,l])}},on=Qt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),sn=window.ReactJSXRuntime,an=({label:e,value:t,icon:r,iconColor:n="text-gray-500",bgColor:o="bg-gray-50"})=>(0,sn.jsx)("div",{className:`${o} rounded-lg p-4 shadow-sm border border-gray-100`,children:(0,sn.jsxs)("div",{className:"flex items-center",children:[r&&(0,sn.jsx)("div",{className:"flex-shrink-0",children:(0,sn.jsx)(r,{className:`h-6 w-6 ${n}`})}),(0,sn.jsxs)("div",{className:"ml-4 flex-1 min-w-0",children:[(0,sn.jsx)("p",{className:"text-sm font-medium text-gray-600 truncate",children:e}),(0,sn.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:t})]})]})}),ln=({stats:e=[],className:t=""})=>{if(!e||0===e.length)return null;const r=`grid-cols-2 md:grid-cols-3 lg:grid-cols-${Math.min(e.length,6)}`;return(0,sn.jsx)("div",{className:`grid ${r} gap-4 ${t}`,children:e.map((e,t)=>(0,sn.jsx)(an,{label:e.label,value:e.value,icon:e.icon,iconColor:e.iconColor,bgColor:e.bgColor},t))})},cn=({currentMode:e,onModeChange:t,modes:r=[],className:n="",size:o="sm"})=>{if(!r.length)return null;const i={xs:"p-1 text-xs",sm:"p-2 text-sm",md:"p-3 text-base",lg:"p-4 text-lg"},s={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return(0,sn.jsx)("div",{className:`flex items-center border border-gray-200 rounded-lg p-1 ${n}`,children:r.map(r=>{const n=r.icon,a=e===r.value;return(0,sn.jsxs)("button",{onClick:()=>t(r.value),className:`${i[o]} rounded flex items-center space-x-1 transition-colors ${a?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,title:`Switch to ${r.label} view`,children:[n&&(0,sn.jsx)(n,{className:s[o]}),(0,sn.jsx)("span",{children:r.label})]},r.value)})})},un=Qt("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),dn=({size:e="default",message:t,variant:r="default",centered:n=!0,className:o="",fullScreen:i=!1,overlay:s=!1})=>{const a={xs:{spinner:"h-3 w-3",text:"text-xs"},sm:{spinner:"h-4 w-4",text:"text-sm"},default:{spinner:"h-6 w-6",text:"text-base"},lg:{spinner:"h-8 w-8",text:"text-lg"},xl:{spinner:"h-12 w-12",text:"text-xl"}}[e],l={default:{spinner:"text-gray-400",text:"text-gray-600"},primary:{spinner:"text-indigo-600",text:"text-indigo-600"},white:{spinner:"text-white",text:"text-white"}}[r],c=[n&&"flex flex-col items-center justify-center",i&&"fixed inset-0 z-50",i&&s&&"bg-black bg-opacity-50",!i&&n&&"py-8",o].filter(Boolean).join(" "),u=["flex flex-col items-center justify-center",t?"space-y-3":"",i&&"bg-white rounded-lg p-8 shadow-lg"].filter(Boolean).join(" ");return(0,sn.jsx)("div",{className:c,children:(0,sn.jsxs)("div",{className:u,children:[(0,sn.jsx)(un,{className:`${a.spinner} ${l.spinner} animate-spin`}),t&&(0,sn.jsx)("p",{className:`${a.text} ${l.text} font-medium`,children:t})]})})},pn={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},fn={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-indigo-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},hn=s().forwardRef(({children:e,variant:t="primary",size:r="md",type:n="button",className:o="",isLoading:i=!1,loadingText:s,iconLeft:a,iconRight:l,...c},u)=>{const{t:d}=tt(),p=s||d("common.loading"),f=`inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-75 disabled:cursor-not-allowed ${pn[r]} ${fn[t]} ${o}`;return(0,sn.jsx)("button",{ref:u,type:n,className:f,disabled:i||c.disabled,...c,children:i?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(un,{className:"animate-spin h-4 w-4 "+(p?"mr-2":"")}),p]}):(0,sn.jsxs)(sn.Fragment,{children:[a&&(0,sn.jsx)(a,{className:"h-4 w-4 mr-2"}),e,l&&(0,sn.jsx)(l,{className:"h-4 w-4 ml-2"})]})})}),mn=({icon:e,title:t,description:r,actionText:n,onAction:o,actionVariant:i="primary",size:s="default",className:a="",children:l})=>{const c={small:{container:"py-6",icon:"h-8 w-8",title:"text-lg",description:"text-sm",spacing:"space-y-3"},default:{container:"py-12",icon:"h-12 w-12",title:"text-xl",description:"text-base",spacing:"space-y-4"},large:{container:"py-20",icon:"h-16 w-16",title:"text-2xl",description:"text-lg",spacing:"space-y-6"}}[s];return(0,sn.jsx)("div",{className:`text-center ${c.container} ${a}`,children:(0,sn.jsxs)("div",{className:`mx-auto ${c.spacing}`,children:[e&&(0,sn.jsx)("div",{className:"mx-auto flex items-center justify-center",children:(0,sn.jsx)(e,{className:`${c.icon} text-gray-400`,strokeWidth:1.5})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h3",{className:`${c.title} font-semibold text-gray-900`,children:t}),r&&(0,sn.jsx)("p",{className:`mt-2 ${c.description} text-gray-500 max-w-sm mx-auto`,children:r})]}),l,n&&o&&(0,sn.jsx)("div",{children:(0,sn.jsx)(hn,{variant:i,onClick:o,className:"inline-flex items-center",children:n})})]})})},gn=({title:e="Items",description:t,createButtonText:r="Create Item",onCreateClick:n,statistics:o=[],items:i=[],loading:s=!1,viewMode:a="cards",onViewModeChange:l,viewModes:c=[{value:"cards",label:"Cards"},{value:"list",label:"List"}],children:u,emptyStateComponent:d,filtersComponent:p,emptyState:f,className:h="",showStatistics:m=!0,showViewToggle:g=!0,showCreateButton:y=!0,showItemCount:v=!0})=>{const b=e||"Item",x=b.toLowerCase(),_={title:`No ${x} found`,description:`You haven't created any ${x} yet.`,actionText:r||`Create ${b}`,...f};return(0,sn.jsxs)("div",{className:`space-y-6 ${h}`,children:[(0,sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:b}),t&&(0,sn.jsx)("p",{className:"text-gray-600 mt-1",children:t})]}),y&&(0,sn.jsx)("div",{className:"flex items-center space-x-3",children:(0,sn.jsxs)("button",{onClick:n,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,sn.jsx)(on,{className:"h-4 w-4 mr-2"}),r||`Create ${b}`]})})]}),p&&(0,sn.jsx)("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:p}),m&&o.length>0&&(0,sn.jsx)(ln,{stats:o}),(0,sn.jsxs)("div",{className:"flex justify-between items-center",children:[v&&(0,sn.jsx)("div",{className:"text-sm text-gray-600",children:s?"Loading...":`${i.length} ${x}${1!==i.length?"s":""} found`}),g&&l&&(0,sn.jsx)(cn,{currentMode:a,onModeChange:l,modes:c})]}),s&&0===i.length?(0,sn.jsx)("div",{className:"text-center py-12",children:(0,sn.jsx)(dn,{size:"lg",message:`Loading ${x}...`})}):0===i.length?d||(0,sn.jsx)(mn,{icon:_.icon,title:_.title,description:_.description,actionText:_.actionText,onAction:n}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"cards"===a?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u}),s&&i.length>0&&(0,sn.jsx)("div",{className:"text-center py-4",children:(0,sn.jsx)(dn,{size:"sm",message:`Loading more ${x}...`})})]})]})},yn=Qt("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),vn=Qt("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),bn=Qt("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),xn=Qt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),wn=Qt("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),jn=({viewMode:e="cards",actions:t=[],onClick:r,header:n,stats:o,children:s,footer:a,className:l=""})=>{const[c,u]=(0,i.useState)(!1),d=`bg-white border border-gray-200 transition-shadow relative ${r?"cursor-pointer hover:shadow-lg":"shadow-sm"} ${l}`;return"list"===e?(0,sn.jsxs)("div",{onClick:r,className:`${d} rounded-lg p-4 flex items-center gap-4`,children:[(0,sn.jsx)("div",{className:"flex-1 min-w-0",children:s}),t.length>0&&(0,sn.jsx)("div",{className:"relative flex-shrink-0"})]}):(0,sn.jsxs)("div",{onClick:r,className:`${d} rounded-lg flex flex-col`,children:[t.length>0&&(0,sn.jsxs)("div",{className:"absolute top-4 right-4 z-10",children:[(0,sn.jsx)("button",{onClick:e=>{e.stopPropagation(),u(e=>!e)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:(0,sn.jsx)(wn,{className:"h-5 w-5"})}),c&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"fixed inset-0 z-10",onClick:e=>{e.stopPropagation(),u(!1)}}),(0,sn.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-20",children:(0,sn.jsx)("div",{className:"py-1",children:t.map((e,t)=>(0,sn.jsxs)("button",{onClick:t=>((e,t)=>{e.stopPropagation(),u(!1),t&&t()})(t,e.onClick),className:"w-full text-left px-4 py-2 text-sm flex items-center gap-3 text-gray-700 hover:bg-gray-50",children:[e.icon&&(0,sn.jsx)(e.icon,{className:`h-4 w-4 ${e.color||""}`}),(0,sn.jsx)("span",{children:e.label})]},t))})})]})]}),n&&(0,sn.jsx)("div",{className:"p-6 border-b border-gray-100",children:n}),(0,sn.jsx)("div",{className:"p-6 flex-1",children:s}),o&&(0,sn.jsx)("div",{className:"p-6 bg-gray-50/75 border-t border-gray-100",children:o}),a&&(0,sn.jsx)("div",{className:"p-4 border-t border-gray-100",children:a})]})},Nn=({course:e,viewMode:t,onEdit:r,onDelete:n,onDuplicate:o,onClick:i})=>{const{t:s}=tt(),{title:a={rendered:s("courses.noCourses")},excerpt:l={rendered:""},meta:c={},featured_media:u=0,qe_category:d=[],_embedded:p={}}=e,{_price:f=0,_start_date:h,_end_date:m}=c,g=e.lessons_count||0,y=e.enrolled_users_count||0,v=p?.["wp:featuredmedia"]?.[0],b=v?.source_url||v?.media_details?.sizes?.medium?.source_url||null,x=v?.alt_text||a.rendered||a,_=p?.["wp:term"]?.[0]?.[0],w=_?.name||null,j=_?.slug||null,N=(l?.rendered||l||"").replace(/<[^>]*>/g,"").trim(),k=[{label:s("common.edit"),icon:yn,onClick:()=>r(e)},{label:s("common.duplicate"),icon:vn,onClick:()=>o(e)},{label:s("common.delete"),icon:bn,onClick:()=>n(e),color:"text-red-500"}],C=(0,sn.jsxs)(sn.Fragment,{children:[b&&(0,sn.jsx)("div",{className:"mb-4 -mx-6 -mt-6 overflow-hidden rounded-t-lg",children:(0,sn.jsx)("img",{src:b,alt:x,className:"w-full h-48 object-cover transition-transform duration-300 hover:scale-105",loading:"lazy"})}),(0,sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 pr-10 mb-3",children:a.rendered||a}),w&&(0,sn.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,sn.jsx)("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${E=j,{programming:"bg-purple-100 text-purple-800",design:"bg-pink-100 text-pink-800",business:"bg-indigo-100 text-indigo-800",marketing:"bg-yellow-100 text-yellow-800",photography:"bg-cyan-100 text-cyan-800",development:"bg-blue-100 text-blue-800",normal:"bg-gray-100 text-gray-800"}[E]||"bg-gray-100 text-gray-800"} capitalize`,children:w})})]});var E;const O=(0,sn.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:N||s("courses.noDescription")}),S=(0,sn.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4 text-sm",children:[(0,sn.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,sn.jsx)(Ht,{className:"w-4 h-4"}),(0,sn.jsxs)("span",{children:[g," ",s(1===g?"courses.units.lesson":"courses.units.lessons")]})]}),(0,sn.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,sn.jsx)(Kt,{className:"w-4 h-4"}),(0,sn.jsxs)("span",{children:[y," ",s(1===y?"courses.units.student":"courses.units.students")]})]}),(0,sn.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,sn.jsx)(xn,{className:"w-4 h-4"}),(0,sn.jsx)("span",{children:m?(e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(e){return"Invalid Date"}})(m):s("courses.noEndDate")})]}),(0,sn.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,sn.jsx)(Wt,{className:"w-4 h-4"}),(0,sn.jsx)("span",{className:"font-medium",children:(e=>{const t=Number(e);return isNaN(t)||0===t?s("courses.units.free"):`$${t.toFixed(2)}`})(f)})]})]});return(0,sn.jsx)(jn,{viewMode:t,actions:k,onClick:()=>i(e),header:C,stats:S,children:O})},kn=Qt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cn=Qt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),En=Qt("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),On=Qt("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Sn=Qt("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Tn=Qt("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),qn=({label:e,value:t,onChange:r,options:n,fetchOptions:o,placeholder:s="Select an option",isLoading:a=!1,showSearch:l=!1,className:c="",refreshTrigger:u})=>{const[d,p]=(0,i.useState)(!1),[f,h]=(0,i.useState)(n||[]),[m,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)(null),[b,x]=(0,i.useState)(""),_=(0,i.useRef)(null);(0,i.useEffect)(()=>{o&&"function"==typeof o?(g(!0),v(null),o().then(e=>{Array.isArray(e)&&h(e)}).catch(e=>{console.error("Error fetching options:",e),v("Could not load options.")}).finally(()=>g(!1))):n&&h(n)},[o,n,u]),(0,i.useEffect)(()=>{const e=e=>{_.current&&!_.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const w=(0,i.useMemo)(()=>{const e=f.find(e=>e.value===t);return e?e.label:s},[t,f,s]),j=(0,i.useMemo)(()=>b?f.filter(e=>e.label.toLowerCase().includes(b.toLowerCase())):f,[b,f]),N=a||m;return(0,sn.jsxs)("div",{className:`relative w-full ${c}`,ref:_,children:[e&&(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,sn.jsxs)("button",{type:"button",onClick:()=>p(!d),disabled:N,className:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",children:[(0,sn.jsx)("span",{className:"block truncate",children:N?"Loading...":w}),(0,sn.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,sn.jsx)(Tn,{className:"h-5 w-5 text-gray-400 transition-transform "+(d?"rotate-180":"")})})]}),d&&(0,sn.jsxs)("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md border border-gray-200 max-h-60 overflow-auto",children:[l&&(0,sn.jsx)("div",{className:"p-2 border-b",children:(0,sn.jsxs)("div",{className:"relative",children:[(0,sn.jsx)("input",{type:"text",placeholder:"Search...",value:b,onChange:e=>x(e.target.value),className:"w-full pl-3 pr-8 py-1.5 text-sm border-gray-300 rounded-md focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"}),(0,sn.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2.5",children:b?(0,sn.jsx)("button",{type:"button",onClick:()=>x(""),className:"text-gray-500 hover:text-gray-700",children:(0,sn.jsx)(kn,{className:"h-4 w-4"})}):(0,sn.jsx)(Zt,{className:"h-4 w-4 text-gray-400"})})]})}),(0,sn.jsx)("ul",{className:"py-1",children:y?(0,sn.jsx)("li",{className:"text-red-500 text-sm px-4 py-2",children:y}):0===j.length?(0,sn.jsx)("li",{className:"text-gray-500 text-sm px-4 py-2",children:"No options found."}):j.map(e=>(0,sn.jsx)("li",{onClick:()=>{return t=e.value,r(t),p(!1),void x("");var t},className:"px-4 py-2 text-sm cursor-pointer hover:bg-indigo-50 hover:text-indigo-900 "+(t===e.value?"bg-indigo-100 text-indigo-900":"text-gray-900"),children:e.label},e.value))})]})]})},An=()=>{const e=window.qe_data||{};if(!e.nonce)throw new Error("WordPress configuration not found. Ensure qe_data is loaded.");if(!e.api_url)throw new Error("API URL not configured in WordPress");return e},Pn=async(e,t={})=>{const r={headers:{"Content-Type":"application/json","X-WP-Nonce":An().nonce},credentials:"same-origin",...t},n=await fetch(e,r);if(!n.ok){const e=await n.text();throw new Error(`API Error ${n.status}: ${n.statusText} - ${e}`)}return n},Ln=({isOpen:e,onClose:t,onSave:r,course:n=null,mode:o="create",isLoading:s=!1})=>{const{t:a}=tt(),[l,c]=(0,i.useState)({title:"",content:"",featured_media:null,status:"draft",_course_position:"0",_product_type:"free",_price:"0",_sale_price:"0",_start_date:"",_end_date:"",qe_category:[]}),[u,d]=(0,i.useState)({}),[p,f]=(0,i.useState)(null),[h,m]=(0,i.useState)(null),[g,y]=(0,i.useState)(!1),[v,b]=(0,i.useState)(""),[x,_]=(0,i.useState)(!1),[w,j]=(0,i.useState)(!1),[N,k]=(0,i.useState)(0),[C,E]=(0,i.useState)([]),[O,S]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(n&&"create"!==o){const e=n.meta||{};let t="";if(n.content?.rendered?t=n.content.rendered:n.content?t=n.content:n.description?.rendered?t=n.description.rendered:n.description?t=n.description:e._course_description&&(t=e._course_description),c({title:n.title?.rendered||n.title||"",content:t,featured_media:n.featured_media||null,status:n.status||"draft",_course_position:e._course_position||"0",_product_type:e._product_type||"free",_price:e._price||"0",_sale_price:e._sale_price||"0",_start_date:e._start_date||"",_end_date:e._end_date||"",qe_category:n.qe_category||[]}),n.featured_media&&n._embedded?.["wp:featuredmedia"]?.[0]){const e=n._embedded["wp:featuredmedia"][0].source_url;m(e)}else n.featured_media&&m(null)}},[n,o]),(0,i.useEffect)(()=>{e||(d({}),f(null),y(!1),b(""))},[e]),(0,i.useEffect)(()=>{e&&T()},[e]);const T=async()=>{S(!0);try{console.log(" Fetching categories...");const e=(await(async(e,t={})=>{try{const r=An(),{perPage:n=100,search:o="",hideEmpty:i=!1}=t,s=new URLSearchParams({per_page:n.toString(),hide_empty:i.toString(),_fields:"id,name,slug,description,count,parent"});o&&s.append("search",o);const a=`${r.api_url}/wp/v2/${e}?${s}`;console.log(` Fetching ${e} terms:`,a);const l=await Pn(a),c=await l.json();return console.log(` Fetched ${c.length} ${e} terms`),c}catch(t){throw console.error(` Error fetching ${e} terms:`,t),t}})("qe_category")).map(e=>({value:e.id,label:e.name}));console.log(" Categories loaded:",e.length),E(e)}catch(e){console.error(" Error fetching categories:",e),E([])}finally{S(!1)}},q=async()=>{if(v.trim()){_(!0);try{const e=await(async(e,t)=>{try{const r=`${An().api_url}/wp/v2/${e}`;console.log(` Creating ${e} term:`,t.name);const n=await Pn(r,{method:"POST",body:JSON.stringify(t)}),o=await n.json();return console.log(` Created ${e} term:`,o.name,`(ID: ${o.id})`),o}catch(t){throw console.error(` Error creating ${e} term:`,t),t}})("qe_category",{name:v.trim()}),t={value:e.id,label:e.name};E(e=>[...e,t]),c(t=>({...t,qe_category:[e.id]})),b(""),y(!1)}catch(e){console.error(" Error creating category:",e)}finally{_(!1)}}},A=(e,t)=>{c(r=>({...r,[e]:t})),u[e]&&d(t=>({...t,[e]:void 0})),p&&f(null)},P=e=>{A("_product_type",e),"free"===e&&(A("_price","0"),A("_sale_price",""))},L=async(e="close")=>{if(f(null),(()=>{const e={};if(l.title.trim()||(e.title=a("courses.validation.titleRequired")),l.content.trim()||(e.content=a("courses.validation.contentRequired")),"paid"===l._product_type){const t=parseFloat(l._price);(isNaN(t)||t<=0)&&(e._price=a("courses.validation.priceInvalid"));const r=parseFloat(l._sale_price);!isNaN(r)&&r>=t&&(e._sale_price="Sale price must be less than the regular price.")}return l._start_date&&l._end_date&&new Date(l._end_date)<new Date(l._start_date)&&(e._end_date=a("courses.validation.endDateInvalid")),d(e),0===Object.keys(e).length})())try{const t={title:l.title,content:l.content,status:l.status,featured_media:l.featured_media||0,qe_category:l.qe_category.filter(e=>e),meta:{_course_position:parseInt(l._course_position)||0,_product_type:l._product_type,_price:"paid"===l._product_type&&parseFloat(l._price)||0,_sale_price:"paid"===l._product_type&&l._sale_price?parseFloat(l._sale_price):"",_start_date:l._start_date||"",_end_date:l._end_date||""}};await r(t,e),"create"===e&&(c({title:"",content:"",featured_media:null,status:"draft",_course_position:"0",_product_type:"free",_price:"0",_sale_price:"",_start_date:"",_end_date:"",qe_category:[]}),m(null))}catch(e){console.error(" Error saving course:",e),f(e.message||"An unexpected error occurred. Please try again.")}};if(!e)return null;const I="view"===o,R="create"===o,M=s||w||x,D=a(R?"courses.createCourse":"edit"===o?"courses.editCourse":"courses.viewCourse");return(0,sn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,sn.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,sn.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,sn.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:D}),(0,sn.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,sn.jsx)(kn,{className:"h-5 w-5"})})]}),(0,sn.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,sn.jsxs)("div",{className:"space-y-6",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a("courses.fields.title")," *"]}),(0,sn.jsx)("input",{type:"text",value:l.title,onChange:e=>A("title",e.target.value),disabled:I,placeholder:a("courses.placeholders.title"),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${u.title?"border-red-500":"border-gray-300"} ${I?"bg-gray-100":"bg-white"}`}),u.title&&(0,sn.jsxs)("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[(0,sn.jsx)(Cn,{className:"h-4 w-4"}),u.title]})]}),(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("courses.fields.image")}),h?(0,sn.jsxs)("div",{className:"relative w-full h-48 border-2 border-gray-300 rounded-lg overflow-hidden",children:[(0,sn.jsx)("img",{src:h,alt:"Preview",className:"w-full h-full object-cover"}),w&&(0,sn.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center",children:[(0,sn.jsx)("div",{className:"w-3/4 bg-gray-200 rounded-full h-2 mb-2",children:(0,sn.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${N}%`}})}),(0,sn.jsxs)("span",{className:"text-white text-sm",children:[a("common.uploading")," ",N,"%"]})]}),!I&&!w&&(0,sn.jsx)("button",{type:"button",onClick:()=>{m(null),A("featured_media",null)},className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:(0,sn.jsx)(kn,{className:"h-4 w-4"})})]}):(0,sn.jsx)("div",{className:"w-full h-48 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center hover:border-indigo-400 transition-colors",children:w?(0,sn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,sn.jsx)(En,{className:"h-12 w-12 text-indigo-600 mb-2 animate-pulse"}),(0,sn.jsxs)("span",{className:"text-sm text-gray-600",children:[a("common.uploading")," ",N,"%"]})]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(On,{className:"h-12 w-12 text-gray-400 mb-2"}),!I&&(0,sn.jsxs)("label",{className:"cursor-pointer text-indigo-600 hover:text-indigo-700",children:[(0,sn.jsx)("span",{className:"text-sm font-medium",children:a("courses.actions.uploadImage")}),(0,sn.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files?.[0];if(!t)return;const r=((e,t={})=>{const{maxSize:r=5242880,allowedTypes:n=["image/jpeg","image/jpg","image/png","image/gif","image/webp"]}=t;return e?e.size>r?{isValid:!1,error:`File size exceeds ${(r/1048576).toFixed(2)}MB limit`}:n.includes(e.type)?{isValid:!0}:{isValid:!1,error:`File type ${e.type} is not allowed. Allowed types: ${n.join(", ")}`}:{isValid:!1,error:"No file provided"}})(t,{maxSize:5242880,allowedTypes:["image/jpeg","image/jpg","image/png","image/gif","image/webp"]});if(r.isValid)try{const e=await(e=>new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{t(n.result)},n.onerror=()=>{r(new Error("Failed to read file"))},n.readAsDataURL(e)}))(t);m(e),j(!0),k(0);const r=await(async(e,t={})=>{try{const r=(()=>{const e=window.qe_data||{};if(!e.nonce)throw new Error("WordPress configuration not found. Ensure qe_data is loaded.");if(!e.api_url)throw new Error("API URL not configured in WordPress");return e})(),{title:n=e.name,alt_text:o="",caption:i="",onProgress:s=null}=t;console.log(" Uploading media:",e.name,`(${(e.size/1024).toFixed(2)} KB)`);const a=new FormData;a.append("file",e),n&&a.append("title",n),o&&a.append("alt_text",o),i&&a.append("caption",i);const l=new XMLHttpRequest,c=new Promise((e,t)=>{s&&l.upload.addEventListener("progress",e=>{if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);s(t)}}),l.addEventListener("load",()=>{if(l.status>=200&&l.status<300)try{const t=JSON.parse(l.responseText);console.log(" Media uploaded successfully:",t.id),e(t)}catch(e){t(new Error("Failed to parse upload response"))}else t(new Error(`Upload failed with status ${l.status}: ${l.statusText}`))}),l.addEventListener("error",()=>{t(new Error("Network error during upload"))}),l.addEventListener("abort",()=>{t(new Error("Upload cancelled"))}),l.open("POST",`${r.api_url}/wp/v2/media`),l.setRequestHeader("X-WP-Nonce",r.nonce),l.send(a)}),u=await c;return{id:u.id,url:u.source_url,title:u.title?.rendered||u.title,alt:u.alt_text||"",caption:u.caption?.rendered||u.caption,mediaDetails:u.media_details,mimeType:u.mime_type}}catch(e){throw console.error(" Error uploading media:",e),e}})(t,{title:l.title||t.name,alt_text:l.title||"",onProgress:k});A("featured_media",r.id),m(r.url),u.featured_media&&d(e=>({...e,featured_media:void 0}))}catch(e){console.error(" Error uploading image:",e),d(t=>({...t,featured_media:e.message||"Failed to upload image"})),A("featured_media",null)}finally{j(!1),k(0)}else d(e=>({...e,featured_media:r.error}))},className:"hidden",disabled:w})]})]})}),u.featured_media&&(0,sn.jsxs)("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[(0,sn.jsx)(Cn,{className:"h-4 w-4"}),u.featured_media]}),(0,sn.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:a("courses.hints.image")})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("courses.fields.position")}),(0,sn.jsx)("input",{type:"number",value:l._course_position,onChange:e=>A("_course_position",e.target.value),disabled:I,min:"0",placeholder:"0",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${u._course_position?"border-red-500":"border-gray-300"} ${I?"bg-gray-100":"bg-white"}`}),u._course_position&&(0,sn.jsxs)("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[(0,sn.jsx)(Cn,{className:"h-4 w-4"}),u._course_position]}),(0,sn.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:a("courses.hints.position")})]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:a("courses.fields.category")}),!I&&!g&&(0,sn.jsxs)("button",{onClick:()=>y(!0),type:"button",className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[(0,sn.jsx)(on,{className:"h-4 w-4"}),a("courses.actions.addCategory")]})]}),g&&(0,sn.jsx)("div",{className:"mb-3 p-3 bg-indigo-50 border border-indigo-200 rounded-md",children:(0,sn.jsxs)("div",{className:"flex gap-2",children:[(0,sn.jsx)("input",{type:"text",value:v,onChange:e=>b(e.target.value),placeholder:a("courses.placeholders.newCategory"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),q())},disabled:x}),(0,sn.jsx)(hn,{size:"sm",onClick:q,disabled:!v.trim()||x,isLoading:x,children:a("common.save")}),(0,sn.jsx)(hn,{size:"sm",variant:"secondary",onClick:()=>{y(!1),b("")},disabled:x,children:a("common.cancel")})]})}),(0,sn.jsx)(qn,{label:"",value:l.qe_category[0]||"",onChange:e=>{c(t=>({...t,qe_category:[e]}))},options:C,placeholder:a("courses.category.all"),isLoading:O,showSearch:!0})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:a("courses.fields.productType")}),(0,sn.jsxs)("div",{className:"flex gap-4",children:[(0,sn.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,sn.jsx)("input",{type:"radio",name:"product_type",value:"free",checked:"free"===l._product_type,onChange:()=>P("free"),disabled:I,className:"text-indigo-600 focus:ring-indigo-500"}),(0,sn.jsx)("span",{className:"text-sm text-gray-700",children:a("courses.priceFilter.free")})]}),(0,sn.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,sn.jsx)("input",{type:"radio",name:"product_type",value:"paid",checked:"paid"===l._product_type,onChange:()=>P("paid"),disabled:I,className:"text-indigo-600 focus:ring-indigo-500"}),(0,sn.jsx)("span",{className:"text-sm text-gray-700",children:a("courses.priceFilter.paid")})]})]})]}),"paid"===l._product_type&&(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a("courses.fields.price")," *"]}),(0,sn.jsxs)("div",{className:"relative",children:[(0,sn.jsx)("input",{type:"number",value:l._price,onChange:e=>A("_price",e.target.value),disabled:I,min:"0",step:"0.01",placeholder:"0.00",className:`w-full pr-8 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${u._price?"border-red-500":"border-gray-300"} ${I?"bg-gray-100":"bg-white"}`}),(0,sn.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,sn.jsx)("span",{className:"text-gray-500 text-sm",children:""})})]}),u._price&&(0,sn.jsxs)("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[(0,sn.jsx)(Cn,{className:"h-4 w-4"}),u._price]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a("courses.fields.salePrice"),(0,sn.jsxs)("span",{className:"text-gray-500 text-xs ml-2",children:["(",a("courses.hints.optional"),")"]})]}),(0,sn.jsxs)("div",{className:"relative",children:[(0,sn.jsx)("input",{type:"number",value:l._sale_price,onChange:e=>A("_sale_price",e.target.value),disabled:I,min:"0",step:"0.01",placeholder:"0.00",className:`w-full pr-8 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${u._sale_price?"border-red-500":"border-gray-300"} ${I?"bg-gray-100":"bg-white"}`}),(0,sn.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,sn.jsx)("span",{className:"text-gray-500 text-sm",children:""})})]}),u._sale_price&&(0,sn.jsxs)("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[(0,sn.jsx)(Cn,{className:"h-4 w-4"}),u._sale_price]}),(0,sn.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:a("courses.hints.salePrice")})]})]}),(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("courses.fields.startDate")}),(0,sn.jsx)("input",{type:"date",value:l._start_date,onChange:e=>A("_start_date",e.target.value),disabled:I,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 "+(I?"bg-gray-100":"bg-white")})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("courses.fields.endDate")}),(0,sn.jsx)("input",{type:"date",value:l._end_date,onChange:e=>A("_end_date",e.target.value),disabled:I,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${u._end_date?"border-red-500":"border-gray-300"} ${I?"bg-gray-100":"bg-white"}`}),u._end_date&&(0,sn.jsxs)("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[(0,sn.jsx)(Cn,{className:"h-4 w-4"}),u._end_date]})]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a("courses.fields.description")," *"]}),(0,sn.jsx)("textarea",{value:l.content,onChange:e=>A("content",e.target.value),disabled:I,placeholder:a("courses.placeholders.content"),rows:6,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${u.content?"border-red-500":"border-gray-300"} ${I?"bg-gray-100":"bg-white"}`}),u.content&&(0,sn.jsxs)("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[(0,sn.jsx)(Cn,{className:"h-4 w-4"}),u.content]})]})]})}),(0,sn.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[(0,sn.jsx)("div",{className:"text-sm text-gray-600 flex-1",children:p&&(0,sn.jsxs)("span",{className:"text-red-600 flex items-center gap-2",children:[(0,sn.jsx)(Cn,{className:"h-4 w-4"}),p]})}),(0,sn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,sn.jsx)(hn,{variant:"secondary",onClick:t,disabled:M,children:a("common.cancel")}),!I&&(0,sn.jsxs)(sn.Fragment,{children:[R&&(0,sn.jsx)(hn,{variant:"secondary",onClick:()=>L("create"),isLoading:M,iconLeft:on,children:a("courses.actions.saveAndCreate")}),(0,sn.jsx)(hn,{variant:"primary",onClick:()=>L("close"),isLoading:M,iconLeft:Sn,children:a("common.save")})]})]})]})]})]})})},In=Qt("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Rn=({isOpen:e,onClose:t,onConfirm:r,title:n="Confirm Delete",message:o="Are you sure you want to delete this item? This action cannot be undone.",confirmText:i="Delete",cancelText:s="Cancel",isLoading:a=!1,variant:l="danger"})=>{if(!e)return null;const c={danger:{icon:"text-red-600",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500",iconBg:"bg-red-100"},warning:{icon:"text-yellow-600",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",iconBg:"bg-yellow-100"},info:{icon:"text-blue-600",button:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",iconBg:"bg-blue-100"}}[l];return(0,sn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,sn.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,sn.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:t,children:(0,sn.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,sn.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),(0,sn.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("div",{className:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ${c.iconBg} sm:mx-0 sm:h-10 sm:w-10`,children:(0,sn.jsx)(In,{className:`h-6 w-6 ${c.icon}`,"aria-hidden":"true"})}),(0,sn.jsx)("div",{className:"ml-4 text-left",children:(0,sn.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n})})]}),(0,sn.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:a,children:(0,sn.jsx)(kn,{className:"h-6 w-6"})})]}),(0,sn.jsx)("div",{className:"mb-6",children:(0,sn.jsx)("p",{className:"text-sm text-gray-500",children:o})}),(0,sn.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3",children:[(0,sn.jsx)("button",{type:"button",onClick:t,disabled:a,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm disabled:opacity-50",children:s}),(0,sn.jsx)("button",{type:"button",onClick:async()=>{try{await r()}catch(e){console.error("Delete action failed:",e)}},disabled:a,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:w-auto sm:text-sm disabled:opacity-50 ${c.button}`,children:a?(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):i})]})]})]})})},Mn=()=>{const[e,t]=(0,i.useState)("cards"),[r,n]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),[d,p]=(0,i.useState)(null),[f,h]=(0,i.useState)(!1),{searchValue:m,isSearching:g,handleSearchChange:y,clearSearch:v}=rn("",async e=>{console.log(" Course search triggered:",e)},500),{filters:b,isFiltering:x,updateFilter:_,resetFilters:w}=nn({category:"all",difficulty:"all",status:"all",price:"all"},async e=>{console.log(" Course filters changed:",e)},300),{courses:j,loading:N,error:k,pagination:C,computed:E,creating:O,updating:S,deleting:T,createCourse:q,updateCourse:A,deleteCourse:P,duplicateCourse:L,fetchCourses:I}=en({search:m,category:"all"!==b.category?b.category:null,difficulty:"all"!==b.difficulty?b.difficulty:null,status:"all"!==b.status?b.status:null,autoFetch:!0,debounceMs:500}),R=(0,i.useRef)(),M=C.hasMore,D=(0,i.useCallback)(e=>{N||(R.current&&R.current.disconnect(),R.current=new IntersectionObserver(e=>{e[0].isIntersecting&&M&&(console.log(" Loading more courses..."),I(!1))}),e&&R.current.observe(e))},[N,M,I]),z=(0,i.useCallback)(e=>{const t=e.target.value;y(t)},[y]),$=(0,i.useCallback)(e=>{_("category",e)},[_]),F=(0,i.useCallback)(e=>{_("difficulty",e)},[_]),B=(0,i.useCallback)(e=>{_("status",e)},[_]),U=(0,i.useCallback)(e=>{_("price",e)},[_]),Q=(0,i.useCallback)(()=>{I(!0)},[I]),H=(e,t=null)=>{console.log(" Opening modal:",e,t),u(e),p(t),h(!0),n("create"===e)},V=()=>{console.log(" Closing modal"),h(!1),n(!1),setTimeout(()=>{u(null),p(null)},300)},K=(0,i.useCallback)(e=>{console.log(" Delete clicked for course:",e),l(e),s(!0)},[]),W=(0,i.useCallback)(async e=>{try{await L(e.id)}catch(e){console.error("Error duplicating course:",e)}},[L]),Y=(0,i.useCallback)(e=>{H("view",e)},[]),G=(0,i.useMemo)(()=>[{label:"Total Courses",value:E.totalCourses||0,icon:Ht,iconColor:"text-blue-500"},{label:"Published",value:E.publishedCourses||0,icon:Vt,iconColor:"text-green-500"},{label:"Students",value:E.totalStudents||0,icon:Kt,iconColor:"text-purple-500"},{label:"Avg. Price",value:`$${E.averagePrice||0}`,icon:Wt,iconColor:"text-yellow-500"},{label:"Revenue",value:`$${E.totalRevenue||0}`,icon:Yt,iconColor:"text-indigo-500"},{label:"Completion Rate",value:`${E.averageCompletionRate||0}%`,icon:Gt,iconColor:"text-red-500"}],[E]),X=(0,i.useMemo)(()=>[{value:"all",label:"All Categories"},{value:"programming",label:"Programming"},{value:"design",label:"Design"},{value:"business",label:"Business"},{value:"marketing",label:"Marketing"},{value:"photography",label:"Photography"}],[]);return(0,sn.jsxs)("div",{className:"space-y-6 p-6",children:[(0,sn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,sn.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Course Management"}),(0,sn.jsx)("p",{className:"text-gray-600 mt-1",children:"Create and manage courses with lessons, pricing and enrollment."})]}),(0,sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(N||g||x)&&(0,sn.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),g?"Searching...":x?"Filtering...":"Loading..."]}),(0,sn.jsxs)("button",{onClick:Q,disabled:N,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,sn.jsx)(Xt,{className:"h-4 w-4 mr-2 inline"}),"Refresh"]}),(0,sn.jsx)("button",{onClick:()=>{console.log(" Create button clicked"),H("create")},disabled:O,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:O?"Creating...":"Create Course"})]})]}),(0,sn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:G.map((e,t)=>{const r=e.icon;return(0,sn.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("div",{className:`flex-shrink-0 ${e.iconColor}`,children:(0,sn.jsx)(r,{className:"h-6 w-6"})}),(0,sn.jsxs)("div",{className:"ml-3",children:[(0,sn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,sn.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.value})]})]})},t)})})]}),(0,sn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,sn.jsxs)("div",{className:"relative",children:[(0,sn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,sn.jsx)(Zt,{className:"h-5 w-5 text-gray-400"})}),(0,sn.jsx)("input",{type:"text",placeholder:"Search courses...",value:m,onChange:z,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),m&&(0,sn.jsxs)("button",{onClick:v,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:[(0,sn.jsx)("span",{className:"sr-only",children:"Clear search"}),""]})]}),(0,sn.jsx)("select",{value:b.category,onChange:e=>$(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:X.map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,sn.jsx)("select",{value:b.difficulty,onChange:e=>F(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[{value:"all",label:"All Levels"},{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"},{value:"expert",label:"Expert"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,sn.jsx)("select",{value:b.status,onChange:e=>B(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[{value:"all",label:"All Status"},{value:"publish",label:"Published"},{value:"draft",label:"Draft"},{value:"private",label:"Private"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,sn.jsx)("select",{value:b.price,onChange:e=>U(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[{value:"all",label:"All Prices"},{value:"free",label:"Free"},{value:"paid",label:"Paid"},{value:"premium",label:"Premium ($100+)"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,sn.jsx)("div",{className:"mt-4 flex justify-end",children:(0,sn.jsx)("button",{onClick:w,className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Clear All Filters"})})]}),(0,sn.jsxs)(gn,{title:"Courses",description:"Manage and organize all your courses",createButtonText:"Create Course",onCreateClick:()=>{console.log(" ContentManager Create button clicked"),H("create")},items:j,loading:N&&0===j.length,viewMode:e,onViewModeChange:t,showCreateButton:!0,showItemCount:!0,showViewToggle:!0,emptyState:{icon:Ht,title:"No courses found",description:"Create your first course to get started",actionText:"Create Course",onAction:()=>{console.log(" EmptyState Create button clicked"),H("create")}},children:[j.map((e,t)=>t===j.length-1?(0,sn.jsx)("div",{ref:D,children:(0,sn.jsx)(Nn,{course:e,onEdit:()=>H("edit",e),onDelete:()=>K(e),onDuplicate:()=>W(e),onClick:()=>Y(e)})},e.id):(0,sn.jsx)("div",{children:(0,sn.jsx)(Nn,{course:e,onEdit:()=>H("edit",e),onDelete:()=>K(e),onDuplicate:()=>W(e),onClick:()=>Y(e)})},e.id)),N&&j.length>0&&(0,sn.jsx)("div",{className:"flex justify-center py-8 col-span-full",children:(0,sn.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,sn.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500 mr-2"}),(0,sn.jsx)("span",{children:"Loading more courses..."})]})}),!N&&!M&&j.length>0&&(0,sn.jsx)("div",{className:"text-center py-6 col-span-full",children:(0,sn.jsx)("p",{className:"text-gray-500",children:"You've reached the end of the list."})})]}),f&&(0,sn.jsx)(Ln,{isOpen:f,onClose:V,onSave:async(e,t)=>{try{let r;return console.log(" CoursesManager - Saving course:",e,"Next action:",t),"create"===c?(r=await q(e),console.log(" Course created:",r),r?.id&&(r=await Tr(r.id),console.log(" Course refreshed with embedded data:",r))):"edit"===c&&(r=await A(d.id,e),console.log(" Course updated:",r),r?.id)&&(r=await Tr(r.id),console.log(" Course refreshed with embedded data:",r)),"close"===t?V():"create"===t?(p(null),u("create")):"edit"===t&&r?.id&&(p(r),u("edit")),r}catch(e){throw console.error(" CoursesManager - Error saving course:",e),e}},course:d,mode:c,isLoading:O||S}),o&&(0,sn.jsx)(Rn,{isOpen:o,onClose:()=>s(!1),onConfirm:async()=>{if(a)try{console.log(" Confirming delete for course:",a.id),await P(a.id),s(!1),l(null),console.log(" Course deleted successfully")}catch(e){console.error(" Error deleting course:",e)}},title:"Delete Course",message:`Are you sure you want to delete "${a?.title?.rendered||a?.title}"? This action cannot be undone and will also remove all associated lessons.`,isLoading:T})]})},Dn=Qt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),zn=Qt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),$n={_course_id:null,_lesson_order:1,_duration_minutes:0,_lesson_type:"text",_video_url:"",_content_type:"free",_prerequisite_lessons:[],_resources_urls:[],_completion_criteria:"view",_is_required:!1,_lesson_description:"",_lesson_steps:[],_has_quiz:!1,_quiz_id:null},Fn=["publish","draft","private","pending"],Bn=["video","text","quiz","assignment","live","mixed","pdf","audio"],Un=["free","premium"],Qn=["view","quiz","assignment","time","manual"],Hn=e=>Array.isArray(e)?e.map((e,t)=>e&&"object"==typeof e?{type:br(e.type,["video","text","pdf","quiz","image","audio"],"text"),order:cr(e.order,t,0),title:lr(e.title),data:e.data||{}}:null).filter(e=>null!==e):[],Vn=ir("lesson","lessons",{sanitizer:e=>{if(!e)return console.warn(" sanitizeLessonData - No data provided"),null;const t=xr(e.title),r=xr(e.content),n=xr(e.excerpt);return{id:e.id||0,title:t,content:r,excerpt:n,status:vr(e.status,"draft"),date:e.date||"",modified:e.modified||"",slug:e.slug||"",author:e.author||0,menu_order:cr(e.menu_order,1,0),meta:{...$n,...e.meta,_is_required:dr(e.meta?._is_required),_has_quiz:dr(e.meta?._has_quiz),_prerequisite_lessons:gr(e.meta?._prerequisite_lessons),_lesson_steps:Hn(e.meta?._lesson_steps),_resources_urls:Array.isArray(e.meta?._resources_urls)?e.meta._resources_urls:[]},_embedded:e._embedded||{},_links:e._links||{}}},validator:e=>{const t=[],r=_r(e.title,"Lesson title");r&&t.push(r),e.status&&!Fn.includes(e.status)&&t.push(`Invalid status. Must be one of: ${Fn.join(", ")}`);const n=e.meta||e,o=n._course_id||e.courseId;o?parseInt(o)<=0&&t.push("Course ID must be a positive number"):t.push("Course ID is required");const i=n._lesson_order||e.lessonOrder||e.order;if(void 0!==i){const e=parseInt(i);(isNaN(e)||e<0)&&t.push("Lesson order must be a non-negative number")}const s=n._duration_minutes||e.duration;if(void 0!==s){const e=parseInt(s);(isNaN(e)||e<0)&&t.push("Duration must be a non-negative number")}const a=n._lesson_type||e.type;a&&!Bn.includes(a)&&t.push(`Invalid lesson type. Must be one of: ${Bn.join(", ")}`);const l=n._content_type||e.contentType;l&&!Un.includes(l)&&t.push(`Invalid content type. Must be one of: ${Un.join(", ")}`);const c=n._completion_criteria||e.completionCriteria;c&&!Qn.includes(c)&&t.push(`Invalid completion criteria. Must be one of: ${Qn.join(", ")}`);const u=n._video_url||e.videoUrl;return"video"===a&&u&&!(e=>{if(!e||"string"!=typeof e)return!1;try{return new URL(e),!0}catch{return!1}})(u)&&t.push("Video URL must be a valid URL"),jr(t)},transformer:e=>{console.log(" transformLessonDataForApi - Input:",e);const t={title:lr(e.title),content:lr(e.content||""),excerpt:lr(e.excerpt||""),status:vr(e.status,"draft"),menu_order:cr(e.menu_order||e.order||1,1,0),meta:{}};return void 0!==e._course_id?t.meta._course_id=ur(e._course_id,1):void 0!==e.courseId?t.meta._course_id=ur(e.courseId,1):void 0!==e.meta?._course_id&&(t.meta._course_id=ur(e.meta._course_id,1)),void 0!==e._lesson_order?t.meta._lesson_order=cr(e._lesson_order,1,0):void 0!==e.lessonOrder?t.meta._lesson_order=cr(e.lessonOrder,1,0):void 0!==e.meta?._lesson_order&&(t.meta._lesson_order=cr(e.meta._lesson_order,1,0)),void 0!==e._duration_minutes?t.meta._duration_minutes=cr(e._duration_minutes,0,0):void 0!==e.duration?t.meta._duration_minutes=cr(e.duration,0,0):void 0!==e.meta?._duration_minutes&&(t.meta._duration_minutes=cr(e.meta._duration_minutes,0,0)),void 0!==e._lesson_type?t.meta._lesson_type=br(e._lesson_type,Bn,"text"):void 0!==e.type?t.meta._lesson_type=br(e.type,Bn,"text"):void 0!==e.meta?._lesson_type&&(t.meta._lesson_type=br(e.meta._lesson_type,Bn,"text")),void 0!==e._video_url?t.meta._video_url=hr(e._video_url):void 0!==e.videoUrl?t.meta._video_url=hr(e.videoUrl):void 0!==e.meta?._video_url&&(t.meta._video_url=hr(e.meta._video_url)),void 0!==e._content_type?t.meta._content_type=br(e._content_type,Un,"free"):void 0!==e.contentType?t.meta._content_type=br(e.contentType,Un,"free"):void 0!==e.meta?._content_type&&(t.meta._content_type=br(e.meta._content_type,Un,"free")),void 0!==e._prerequisite_lessons?t.meta._prerequisite_lessons=gr(e._prerequisite_lessons):void 0!==e.prerequisites?t.meta._prerequisite_lessons=gr(e.prerequisites):void 0!==e.meta?._prerequisite_lessons&&(t.meta._prerequisite_lessons=gr(e.meta._prerequisite_lessons)),void 0!==e._resources_urls?t.meta._resources_urls=Array.isArray(e._resources_urls)?e._resources_urls.map(e=>hr(e)).filter(e=>""!==e):[]:void 0!==e.resources?t.meta._resources_urls=Array.isArray(e.resources)?e.resources.map(e=>hr(e)).filter(e=>""!==e):[]:void 0!==e.meta?._resources_urls&&(t.meta._resources_urls=Array.isArray(e.meta._resources_urls)?e.meta._resources_urls.map(e=>hr(e)).filter(e=>""!==e):[]),void 0!==e._completion_criteria?t.meta._completion_criteria=br(e._completion_criteria,Qn,"view"):void 0!==e.completionCriteria?t.meta._completion_criteria=br(e.completionCriteria,Qn,"view"):void 0!==e.meta?._completion_criteria&&(t.meta._completion_criteria=br(e.meta._completion_criteria,Qn,"view")),void 0!==e._is_required?t.meta._is_required=dr(e._is_required):void 0!==e.isRequired?t.meta._is_required=dr(e.isRequired):void 0!==e.meta?._is_required&&(t.meta._is_required=dr(e.meta._is_required)),void 0!==e._lesson_description?t.meta._lesson_description=lr(e._lesson_description):void 0!==e.description?t.meta._lesson_description=lr(e.description):void 0!==e.meta?._lesson_description&&(t.meta._lesson_description=lr(e.meta._lesson_description)),void 0!==e._lesson_steps?t.meta._lesson_steps=Hn(e._lesson_steps):void 0!==e.steps?t.meta._lesson_steps=Hn(e.steps):void 0!==e.meta?._lesson_steps&&(t.meta._lesson_steps=Hn(e.meta._lesson_steps)),void 0!==e._has_quiz?t.meta._has_quiz=dr(e._has_quiz):void 0!==e.hasQuiz?t.meta._has_quiz=dr(e.hasQuiz):void 0!==e.meta?._has_quiz&&(t.meta._has_quiz=dr(e.meta._has_quiz)),void 0!==e._quiz_id?t.meta._quiz_id=ur(e._quiz_id,1):void 0!==e.quizId?t.meta._quiz_id=ur(e.quizId,1):void 0!==e.meta?._quiz_id&&(t.meta._quiz_id=ur(e.meta._quiz_id,1)),t.meta={...$n,...t.meta},console.log(" transformLessonDataForApi - Output:",t),t},buildParams:(e={})=>{const{page:t=1,perPage:r=20,status:n="publish,draft,private",search:o="",courseId:i=null,lessonType:s=null,orderBy:a="menu_order",order:l="asc",embed:c=!0}=e,u=new URLSearchParams({page:t.toString(),per_page:r.toString(),status:n,orderby:a,order:l});if(c&&u.append("_embed","true"),o&&o.trim()&&u.append("search",o.trim()),i){const e=parseInt(i,10);Number.isInteger(e)&&e>0&&(u.append("meta_query[0][key]","_course_id"),u.append("meta_query[0][value]",e.toString()),u.append("meta_query[0][compare]","="),u.append("meta_query[0][type]","NUMERIC"))}return s&&(u.append("meta_query[1][key]","_lesson_type"),u.append("meta_query[1][value]",s),u.append("meta_query[1][compare]","=")),u}}),Kn=async(e={})=>Vn.getAll(e),Wn=async(e,t={})=>{if(!e||!Number.isInteger(e)||e<=0)throw new Error("Invalid course ID provided");return console.log(" Getting lessons for course:",e),Kn({...t,courseId:e})},Yn=async(e,t={})=>Vn.getOne(e,t),Gn=async e=>Vn.create(e),Xn=async(e,t)=>Vn.update(e,t),Zn=async(e,t={})=>Vn.delete(e,t),Jn=async e=>{try{const t=await Yn(e);if(!t)throw new Error("Lesson not found");const r={title:`${t.title?.rendered||t.title||"Untitled"} (Copy)`,content:t.content?.rendered||t.content||"",excerpt:t.excerpt?.rendered||t.excerpt||"",status:"draft",courseId:t.meta?._course_id,lessonOrder:parseInt(t.meta?._lesson_order||"0")+1,lessonType:t.meta?._lesson_type||"mixed",description:t.meta?._lesson_description||"",steps:t.meta?._lesson_steps||[],prerequisiteLessons:t.meta?._prerequisite_lessons||[],completionCriteria:t.meta?._completion_criteria||"view",isRequired:"yes"===t.meta?._is_required,duration:t.meta?._duration_minutes||0,videoUrl:t.meta?._video_url||"",hasQuiz:"yes"===t.meta?._has_quiz};console.log(" Duplicating lesson:",e);const n=await Gn(r);return console.log(" Lesson duplicated:",n.id),n}catch(t){throw console.error(` Error duplicating lesson ${e}:`,t),t}},eo=async(e={})=>Vn.getCount(e),to=async e=>{try{return!!await Yn(e)}catch(e){return!1}},ro=async(e,t)=>{if(!["publish","draft","private"].includes(t))throw new Error(`Invalid status: ${t}`);return Xn(e,{status:t})},no=async e=>ro(e,"publish"),oo=async e=>ro(e,"draft"),io=async(e,t)=>Xn(e,{lessonOrder:t}),so=async(e,t)=>Xn(e,{courseId:t}),ao=async(e,t={})=>Kn({...t,lessonType:e}),lo=async(e={})=>Kn({...e,status:"publish"}),co=async(e={})=>{try{const t=await Kn({...e,perPage:100}),r={total:t.pagination.total,published:0,draft:0,byType:{},withQuizzes:0,totalDuration:0,averageDuration:0};return t.data.forEach(e=>{"publish"===e.status&&r.published++,"draft"===e.status&&r.draft++;const t=e.meta?._lesson_type||"mixed";r.byType[t]=(r.byType[t]||0)+1,"yes"===e.meta?._has_quiz&&r.withQuizzes++;const n=parseInt(e.meta?._duration_minutes||"0");r.totalDuration+=n}),r.averageDuration=t.data.length>0?Math.round(r.totalDuration/t.data.length):0,console.log(" Lesson statistics:",r),r}catch(e){throw console.error(" Error getting lesson statistics:",e),e}},uo=Qt("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),po=Qt("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),fo=Qt("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),ho=Qt("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),mo=Qt("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]),go=Qt("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),yo=Qt("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),vo=({lesson:e,viewMode:t,onEdit:r,onDelete:n,onDuplicate:o,onClick:s})=>{const[a,l]=(0,i.useState)(!1),{title:c="Untitled Lesson",meta:u={},status:d="draft",excerpt:p={rendered:"No description available."}}=e,{_course_id:f="N/A",_lesson_type:h="mixed",_lesson_steps:m=[],_duration_minutes:g=0,_is_required:y=!1}=u,v=Array.isArray(m)?m.length:0,b=(p.rendered||"").replace(/<[^>]*>/g,""),x=e=>{const t={className:"w-4 h-4"};return{video:(0,sn.jsx)(uo,{...t}),text:(0,sn.jsx)(po,{...t}),pdf:(0,sn.jsx)(fo,{...t}),quiz:(0,sn.jsx)(ho,{...t}),image:(0,sn.jsx)(mo,{...t}),audio:(0,sn.jsx)(go,{...t})}[e]||(0,sn.jsx)(Ht,{...t})},_=(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"flex items-start justify-between",children:(0,sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 pr-12",children:c})}),(0,sn.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[(0,sn.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${{video:"bg-blue-100 text-blue-800",text:"bg-green-100 text-green-800",mixed:"bg-purple-100 text-purple-800",quiz:"bg-red-100 text-red-800"}[h]||"bg-gray-100"}`,children:h}),(0,sn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-indigo-100 text-indigo-700",children:["Course #",f]}),y&&(0,sn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700 flex items-center gap-1",children:[(0,sn.jsx)(Dn,{className:"h-3 w-3"})," Required"]})]})]}),w=(0,sn.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,sn.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,sn.jsx)(Ht,{className:"w-4 h-4"}),(0,sn.jsxs)("span",{children:[v," ",1===v?"step":"steps"]})]}),(0,sn.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,sn.jsx)(zn,{className:"w-4 h-4"}),(0,sn.jsx)("span",{children:g>0?`${g} min`:"N/A"})]}),(0,sn.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 capitalize",children:[(0,sn.jsx)(Gt,{className:"w-4 h-4"}),(0,sn.jsx)("span",{children:d})]})]}),j=(0,sn.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:b}),N=v>0&&(0,sn.jsxs)("div",{className:"border-t border-gray-200",children:[(0,sn.jsxs)("button",{onClick:e=>{e.stopPropagation(),l(!a)},className:"flex items-center justify-between w-full text-sm text-gray-600 hover:text-indigo-600 p-4 transition-colors",children:[(0,sn.jsx)("span",{className:"font-medium",children:"Preview Steps"}),a?(0,sn.jsx)(yo,{className:"w-4 h-4"}):(0,sn.jsx)(Tn,{className:"w-4 h-4"})]}),a&&(0,sn.jsx)("div",{className:"px-4 pb-4 space-y-2 max-h-48 overflow-y-auto",children:m.map((e,t)=>(0,sn.jsxs)("div",{className:"flex items-center gap-3 text-sm p-2 bg-white rounded",children:[(0,sn.jsx)("div",{className:"flex-shrink-0",children:x(e.type)}),(0,sn.jsx)("div",{className:"flex-1 truncate",title:e.title,children:e.title||`Step ${t+1}`}),(0,sn.jsx)("span",{className:"text-xs text-gray-400 capitalize",children:e.type})]},t))})]}),k=[{label:"Edit",icon:yn,onClick:()=>r(e)},{label:"Duplicate",icon:vn,onClick:()=>o(e)},{label:"Delete",icon:bn,onClick:()=>n(e),color:"text-red-500"}];return(0,sn.jsx)(jn,{viewMode:t,actions:k,onClick:()=>s(e),header:_,stats:w,footer:N,children:j})},bo=Qt("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),xo=Qt("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var _o=r(5795);const wo="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function jo(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function No(e){return"nodeType"in e}function ko(e){var t,r;return e?jo(e)?e:No(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function Co(e){const{Document:t}=ko(e);return e instanceof t}function Eo(e){return!jo(e)&&e instanceof ko(e).HTMLElement}function Oo(e){return e instanceof ko(e).SVGElement}function So(e){return e?jo(e)?e.document:No(e)?Co(e)?e:Eo(e)||Oo(e)?e.ownerDocument:document:document:document}const To=wo?i.useLayoutEffect:i.useEffect;function qo(e){const t=(0,i.useRef)(e);return To(()=>{t.current=e}),(0,i.useCallback)(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}function Ao(e,t){void 0===t&&(t=[e]);const r=(0,i.useRef)(e);return To(()=>{r.current!==e&&(r.current=e)},t),r}function Po(e,t){const r=(0,i.useRef)();return(0,i.useMemo)(()=>{const t=e(r.current);return r.current=t,t},[...t])}function Lo(e){const t=qo(e),r=(0,i.useRef)(null),n=(0,i.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,n]}function Io(e){const t=(0,i.useRef)();return(0,i.useEffect)(()=>{t.current=e},[e]),t.current}let Ro={};function Mo(e,t){return(0,i.useMemo)(()=>{if(t)return t;const r=null==Ro[e]?0:Ro[e]+1;return Ro[e]=r,e+"-"+r},[e,t])}function Do(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((t,r)=>{const n=Object.entries(r);for(const[r,o]of n){const n=t[r];null!=n&&(t[r]=n+e*o)}return t},{...t})}}const zo=Do(1),$o=Do(-1);function Fo(e){if(!e)return!1;const{KeyboardEvent:t}=ko(e.target);return t&&e instanceof t}function Bo(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=ko(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Uo=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Uo.Translate.toString(e),Uo.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),Qo="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ho(e){return e.matches(Qo)?e:e.querySelector(Qo)}const Vo={display:"none"};function Ko(e){let{id:t,value:r}=e;return s().createElement("div",{id:t,style:Vo},r)}function Wo(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return s().createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}const Yo=(0,i.createContext)(null),Go={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Xo={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Zo(e){let{announcements:t=Xo,container:r,hiddenTextDescribedById:n,screenReaderInstructions:o=Go}=e;const{announce:a,announcement:l}=function(){const[e,t]=(0,i.useState)("");return{announce:(0,i.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),c=Mo("DndLiveRegion"),[u,d]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{d(!0)},[]),function(e){const t=(0,i.useContext)(Yo);(0,i.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,i.useMemo)(()=>({onDragStart(e){let{active:r}=e;a(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:n}=e;t.onDragMove&&a(t.onDragMove({active:r,over:n}))},onDragOver(e){let{active:r,over:n}=e;a(t.onDragOver({active:r,over:n}))},onDragEnd(e){let{active:r,over:n}=e;a(t.onDragEnd({active:r,over:n}))},onDragCancel(e){let{active:r,over:n}=e;a(t.onDragCancel({active:r,over:n}))}}),[a,t])),!u)return null;const p=s().createElement(s().Fragment,null,s().createElement(Ko,{id:n,value:o.draggable}),s().createElement(Wo,{id:c,announcement:l}));return r?(0,_o.createPortal)(p,r):p}var Jo,ei;function ti(){}function ri(e,t){return(0,i.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}function ni(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(ei=Jo||(Jo={})).DragStart="dragStart",ei.DragMove="dragMove",ei.DragEnd="dragEnd",ei.DragCancel="dragCancel",ei.DragOver="dragOver",ei.RegisterDroppable="registerDroppable",ei.SetDroppableDisabled="setDroppableDisabled",ei.UnregisterDroppable="unregisterDroppable";const oi=Object.freeze({x:0,y:0});function ii(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function si(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function ai(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function li(e){let{left:t,top:r,height:n,width:o}=e;return[{x:t,y:r},{x:t+o,y:r},{x:t,y:r+n},{x:t+o,y:r+n}]}function ci(e,t){if(!e||0===e.length)return null;const[r]=e;return t?r[t]:r}function ui(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}const di=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=ui(t,t.left,t.top),i=[];for(const e of n){const{id:t}=e,n=r.get(t);if(n){const r=ii(ui(n),o);i.push({id:t,data:{droppableContainer:e,value:r}})}}return i.sort(si)};function pi(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-n,a=i-r;if(n<o&&r<i){const r=t.width*t.height,n=e.width*e.height,o=s*a;return Number((o/(r+n-o)).toFixed(4))}return 0}const fi=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=[];for(const e of n){const{id:n}=e,i=r.get(n);if(i){const r=pi(i,t);r>0&&o.push({id:n,data:{droppableContainer:e,value:r}})}}return o.sort(ai)};function hi(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:oi}function mi(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((t,r)=>({...t,top:t.top+e*r.y,bottom:t.bottom+e*r.y,left:t.left+e*r.x,right:t.right+e*r.x}),{...t})}}const gi=mi(1);const yi={ignoreTransform:!1};function vi(e,t){void 0===t&&(t=yi);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:n}=ko(e).getComputedStyle(e);t&&(r=function(e,t,r){const n=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!n)return e;const{scaleX:o,scaleY:i,x:s,y:a}=n,l=e.left-s-(1-o)*parseFloat(r),c=e.top-a-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),u=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(r,t,n))}const{top:n,left:o,width:i,height:s,bottom:a,right:l}=r;return{top:n,left:o,width:i,height:s,bottom:a,right:l}}function bi(e){return vi(e,{ignoreTransform:!0})}function xi(e,t){const r=[];return e?function n(o){if(null!=t&&r.length>=t)return r;if(!o)return r;if(Co(o)&&null!=o.scrollingElement&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!Eo(o)||Oo(o))return r;if(r.includes(o))return r;const i=ko(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=ko(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const n=t[e];return"string"==typeof n&&r.test(n)})}(o,i)&&r.push(o),function(e,t){return void 0===t&&(t=ko(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?r:n(o.parentNode)}(e):r}function _i(e){const[t]=xi(e,1);return null!=t?t:null}function wi(e){return wo&&e?jo(e)?e:No(e)?Co(e)||e===So(e).scrollingElement?window:Eo(e)?e:null:null:null}function ji(e){return jo(e)?e.scrollX:e.scrollLeft}function Ni(e){return jo(e)?e.scrollY:e.scrollTop}function ki(e){return{x:ji(e),y:Ni(e)}}var Ci;function Ei(e){return!(!wo||!e)&&e===document.scrollingElement}function Oi(e){const t={x:0,y:0},r=Ei(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Ci||(Ci={}));const Si={x:.2,y:.2};function Ti(e,t,r,n,o){let{top:i,left:s,right:a,bottom:l}=r;void 0===n&&(n=10),void 0===o&&(o=Si);const{isTop:c,isBottom:u,isLeft:d,isRight:p}=Oi(e),f={x:0,y:0},h={x:0,y:0},m=t.height*o.y,g=t.width*o.x;return!c&&i<=t.top+m?(f.y=Ci.Backward,h.y=n*Math.abs((t.top+m-i)/m)):!u&&l>=t.bottom-m&&(f.y=Ci.Forward,h.y=n*Math.abs((t.bottom-m-l)/m)),!p&&a>=t.right-g?(f.x=Ci.Forward,h.x=n*Math.abs((t.right-g-a)/g)):!d&&s<=t.left+g&&(f.x=Ci.Backward,h.x=n*Math.abs((t.left+g-s)/g)),{direction:f,speed:h}}function qi(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:r,right:n,bottom:o}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Ai(e){return e.reduce((e,t)=>zo(e,ki(t)),oi)}const Pi=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+ji(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+Ni(t),0)}]];class Li{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=xi(t),n=Ai(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of Pi)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(r),s=n[e]-t;return this.rect[i]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ii{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Ri(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}var Mi,Di;function zi(e){e.preventDefault()}function $i(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Mi||(Mi={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(Di||(Di={}));const Fi={start:[Di.Space,Di.Enter],cancel:[Di.Esc],end:[Di.Space,Di.Enter,Di.Tab]},Bi=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Di.Right:return{...r,x:r.x+25};case Di.Left:return{...r,x:r.x-25};case Di.Down:return{...r,y:r.y+25};case Di.Up:return{...r,y:r.y-25}}};class Ui{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Ii(So(t)),this.windowListeners=new Ii(ko(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Mi.Resize,this.handleCancel),this.windowListeners.add(Mi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Mi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&function(e,t){if(void 0===t&&(t=vi),!e)return;const{top:r,left:n,bottom:o,right:i}=t(e);_i(e)&&(o<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(r),t(oi)}handleKeyDown(e){if(Fo(e)){const{active:t,context:r,options:n}=this.props,{keyboardCodes:o=Fi,coordinateGetter:i=Bi,scrollBehavior:s="smooth"}=n,{code:a}=e;if(o.end.includes(a))return void this.handleEnd(e);if(o.cancel.includes(a))return void this.handleCancel(e);const{collisionRect:l}=r.current,c=l?{x:l.left,y:l.top}:oi;this.referenceCoordinates||(this.referenceCoordinates=c);const u=i(e,{active:t,context:r.current,currentCoordinates:c});if(u){const t=$o(u,c),n={x:0,y:0},{scrollableAncestors:o}=r.current;for(const r of o){const o=e.code,{isTop:i,isRight:a,isLeft:l,isBottom:c,maxScroll:d,minScroll:p}=Oi(r),f=qi(r),h={x:Math.min(o===Di.Right?f.right-f.width/2:f.right,Math.max(o===Di.Right?f.left:f.left+f.width/2,u.x)),y:Math.min(o===Di.Down?f.bottom-f.height/2:f.bottom,Math.max(o===Di.Down?f.top:f.top+f.height/2,u.y))},m=o===Di.Right&&!a||o===Di.Left&&!l,g=o===Di.Down&&!c||o===Di.Up&&!i;if(m&&h.x!==u.x){const e=r.scrollLeft+t.x,i=o===Di.Right&&e<=d.x||o===Di.Left&&e>=p.x;if(i&&!t.y)return void r.scrollTo({left:e,behavior:s});n.x=i?r.scrollLeft-e:o===Di.Right?r.scrollLeft-d.x:r.scrollLeft-p.x,n.x&&r.scrollBy({left:-n.x,behavior:s});break}if(g&&h.y!==u.y){const e=r.scrollTop+t.y,i=o===Di.Down&&e<=d.y||o===Di.Up&&e>=p.y;if(i&&!t.x)return void r.scrollTo({top:e,behavior:s});n.y=i?r.scrollTop-e:o===Di.Down?r.scrollTop-d.y:r.scrollTop-p.y,n.y&&r.scrollBy({top:-n.y,behavior:s});break}}this.handleMove(e,zo($o(u,this.referenceCoordinates),n))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Qi(e){return Boolean(e&&"distance"in e)}function Hi(e){return Boolean(e&&"delay"in e)}Ui.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=Fi,onActivation:o}=t,{active:i}=r;const{code:s}=e.nativeEvent;if(n.start.includes(s)){const t=i.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==o||o({event:e.nativeEvent}),0))}return!1}}];class Vi{constructor(e,t,r){var n;void 0===r&&(r=function(e){const{EventTarget:t}=ko(e);return e instanceof t?e:So(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=So(i),this.documentListeners=new Ii(this.document),this.listeners=new Ii(r),this.windowListeners=new Ii(ko(i)),this.initialCoordinates=null!=(n=Bo(o))?n:oi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Mi.Resize,this.handleCancel),this.windowListeners.add(Mi.DragStart,zi),this.windowListeners.add(Mi.VisibilityChange,this.handleCancel),this.windowListeners.add(Mi.ContextMenu,zi),this.documentListeners.add(Mi.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Hi(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(Qi(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:n}=this.props;n(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Mi.Click,$i,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Mi.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:n,props:o}=this,{onMove:i,options:{activationConstraint:s}}=o;if(!n)return;const a=null!=(t=Bo(e))?t:oi,l=$o(n,a);if(!r&&s){if(Qi(s)){if(null!=s.tolerance&&Ri(l,s.tolerance))return this.handleCancel();if(Ri(l,s.distance))return this.handleStart()}return Hi(s)&&Ri(l,s.tolerance)?this.handleCancel():void this.handlePending(s,l)}e.cancelable&&e.preventDefault(),i(a)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Di.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Ki={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Wi extends Vi{constructor(e){const{event:t}=e,r=So(t.target);super(e,Ki,r)}}Wi.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!(!r.isPrimary||0!==r.button||(null==n||n({event:r}),0))}}];const Yi={move:{name:"mousemove"},end:{name:"mouseup"}};var Gi;!function(e){e[e.RightClick=2]="RightClick"}(Gi||(Gi={})),class extends Vi{constructor(e){super(e,Yi,So(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button!==Gi.RightClick&&(null==n||n({event:r}),!0)}}];const Xi={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var Zi,Ji;(class extends Vi{constructor(e){super(e,Xi)}static setup(){return window.addEventListener(Xi.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Xi.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:o}=r;return!(o.length>1||(null==n||n({event:r}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Zi||(Zi={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Ji||(Ji={}));const es={x:{[Ci.Backward]:!1,[Ci.Forward]:!1},y:{[Ci.Backward]:!1,[Ci.Forward]:!1}};var ts,rs;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(ts||(ts={})),function(e){e.Optimized="optimized"}(rs||(rs={}));const ns=new Map;function os(e,t){return Po(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function is(e){let{callback:t,disabled:r}=e;const n=qo(t),o=(0,i.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(n)},[r]);return(0,i.useEffect)(()=>()=>null==o?void 0:o.disconnect(),[o]),o}function ss(e){return new Li(vi(e),e)}function as(e,t,r){void 0===t&&(t=ss);const[n,o]=(0,i.useState)(null);function s(){o(n=>{if(!e)return null;var o;if(!1===e.isConnected)return null!=(o=null!=n?n:r)?o:null;const i=t(e);return JSON.stringify(n)===JSON.stringify(i)?n:i})}const a=function(e){let{callback:t,disabled:r}=e;const n=qo(t),o=(0,i.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(n)},[n,r]);return(0,i.useEffect)(()=>()=>null==o?void 0:o.disconnect(),[o]),o}({callback(t){if(e)for(const r of t){const{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){s();break}}}}),l=is({callback:s});return To(()=>{s(),e?(null==l||l.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==a||a.disconnect())},[e]),n}const ls=[];function cs(e,t){void 0===t&&(t=[]);const r=(0,i.useRef)(null);return(0,i.useEffect)(()=>{r.current=null},t),(0,i.useEffect)(()=>{const t=e!==oi;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?$o(e,r.current):oi}function us(e){return(0,i.useMemo)(()=>e?function(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}(e):null,[e])}const ds=[];const ps=[{sensor:Wi,options:{}},{sensor:Ui,options:{}}],fs={current:{}},hs={draggable:{measure:bi},droppable:{measure:bi,strategy:ts.WhileDragging,frequency:rs.Optimized},dragOverlay:{measure:vi}};class ms extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}const gs={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ms,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ti},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:hs,measureDroppableContainers:ti,windowRect:null,measuringScheduled:!1},ys={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ti,draggableNodes:new Map,over:null,measureDroppableContainers:ti},vs=(0,i.createContext)(ys),bs=(0,i.createContext)(gs);function xs(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ms}}}function _s(e,t){switch(t.type){case Jo.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Jo.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Jo.DragEnd:case Jo.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Jo.RegisterDroppable:{const{element:r}=t,{id:n}=r,o=new ms(e.droppable.containers);return o.set(n,r),{...e,droppable:{...e.droppable,containers:o}}}case Jo.SetDroppableDisabled:{const{id:r,key:n,disabled:o}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const s=new ms(e.droppable.containers);return s.set(r,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case Jo.UnregisterDroppable:{const{id:r,key:n}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const i=new ms(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function ws(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:o}=(0,i.useContext)(vs),s=Io(n),a=Io(null==r?void 0:r.id);return(0,i.useEffect)(()=>{if(!t&&!n&&s&&null!=a){if(!Fo(s))return;if(document.activeElement===s.target)return;const e=o.get(a);if(!e)return;const{activatorNode:t,node:r}=e;if(!t.current&&!r.current)return;requestAnimationFrame(()=>{for(const e of[t.current,r.current]){if(!e)continue;const t=Ho(e);if(t){t.focus();break}}})}},[n,t,o,a,s]),null}const js=(0,i.createContext)({...oi,scaleX:1,scaleY:1});var Ns;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Ns||(Ns={}));const ks=(0,i.memo)(function(e){var t,r,n,o;let{id:a,accessibility:l,autoScroll:c=!0,children:u,sensors:d=ps,collisionDetection:p=fi,measuring:f,modifiers:h,...m}=e;const g=(0,i.useReducer)(_s,void 0,xs),[y,v]=g,[b,x]=function(){const[e]=(0,i.useState)(()=>new Set),t=(0,i.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,i.useCallback)(t=>{let{type:r,event:n}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)})},[e]),t]}(),[_,w]=(0,i.useState)(Ns.Uninitialized),j=_===Ns.Initialized,{draggable:{active:N,nodes:k,translate:C},droppable:{containers:E}}=y,O=null!=N?k.get(N):null,S=(0,i.useRef)({initial:null,translated:null}),T=(0,i.useMemo)(()=>{var e;return null!=N?{id:N,data:null!=(e=null==O?void 0:O.data)?e:fs,rect:S}:null},[N,O]),q=(0,i.useRef)(null),[A,P]=(0,i.useState)(null),[L,I]=(0,i.useState)(null),R=Ao(m,Object.values(m)),M=Mo("DndDescribedBy",a),D=(0,i.useMemo)(()=>E.getEnabled(),[E]),z=function(e){return(0,i.useMemo)(()=>({draggable:{...hs.draggable,...null==e?void 0:e.draggable},droppable:{...hs.droppable,...null==e?void 0:e.droppable},dragOverlay:{...hs.dragOverlay,...null==e?void 0:e.dragOverlay}}),[null==e?void 0:e.draggable,null==e?void 0:e.droppable,null==e?void 0:e.dragOverlay])}(f),{droppableRects:$,measureDroppableContainers:F,measuringScheduled:B}=function(e,t){let{dragging:r,dependencies:n,config:o}=t;const[s,a]=(0,i.useState)(null),{frequency:l,measure:c,strategy:u}=o,d=(0,i.useRef)(e),p=function(){switch(u){case ts.Always:return!1;case ts.BeforeDragging:return r;default:return!r}}(),f=Ao(p),h=(0,i.useCallback)(function(e){void 0===e&&(e=[]),f.current||a(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[f]),m=(0,i.useRef)(null),g=Po(t=>{if(p&&!r)return ns;if(!t||t===ns||d.current!==e||null!=s){const t=new Map;for(let r of e){if(!r)continue;if(s&&s.length>0&&!s.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}const e=r.node.current,n=e?new Li(c(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t},[e,s,r,p,c]);return(0,i.useEffect)(()=>{d.current=e},[e]),(0,i.useEffect)(()=>{p||h()},[r,p]),(0,i.useEffect)(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),(0,i.useEffect)(()=>{p||"number"!=typeof l||null!==m.current||(m.current=setTimeout(()=>{h(),m.current=null},l))},[l,p,h,...n]),{droppableRects:g,measureDroppableContainers:h,measuringScheduled:null!=s}}(D,{dragging:j,dependencies:[C.x,C.y],config:z.droppable}),U=function(e,t){const r=null!=t?e.get(t):void 0,n=r?r.node.current:null;return Po(e=>{var r;return null==t?null:null!=(r=null!=n?n:e)?r:null},[n,t])}(k,N),Q=(0,i.useMemo)(()=>L?Bo(L):null,[L]),H=function(){const e=!1===(null==A?void 0:A.autoScrollEnabled),t="object"==typeof c?!1===c.enabled:!1===c,r=j&&!e&&!t;return"object"==typeof c?{...c,enabled:r}:{enabled:r}}(),V=function(e,t){return os(e,t)}(U,z.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:n,config:o=!0}=e;const s=(0,i.useRef)(!1),{x:a,y:l}="boolean"==typeof o?{x:o,y:o}:o;To(()=>{if(!a&&!l||!t)return void(s.current=!1);if(s.current||!n)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const o=hi(r(e),n);if(a||(o.x=0),l||(o.y=0),s.current=!0,Math.abs(o.x)>0||Math.abs(o.y)>0){const t=_i(e);t&&t.scrollBy({top:o.y,left:o.x})}},[t,a,l,n,r])}({activeNode:null!=N?k.get(N):null,config:H.layoutShiftCompensation,initialRect:V,measure:z.draggable.measure});const K=as(U,z.draggable.measure,V),W=as(U?U.parentElement:null),Y=(0,i.useRef)({activatorEvent:null,active:null,activeNode:U,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),G=E.getNodeFor(null==(t=Y.current.over)?void 0:t.id),X=function(e){let{measure:t}=e;const[r,n]=(0,i.useState)(null),o=is({callback:(0,i.useCallback)(e=>{for(const{target:r}of e)if(Eo(r)){n(e=>{const n=t(r);return e?{...e,width:n.width,height:n.height}:n});break}},[t])}),s=(0,i.useCallback)(e=>{const r=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Eo(t)?t:e}(e);null==o||o.disconnect(),r&&(null==o||o.observe(r)),n(r?t(r):null)},[t,o]),[a,l]=Lo(s);return(0,i.useMemo)(()=>({nodeRef:a,rect:r,setRef:l}),[r,a,l])}({measure:z.dragOverlay.measure}),Z=null!=(r=X.nodeRef.current)?r:U,J=j?null!=(n=X.rect)?n:K:null,ee=Boolean(X.nodeRef.current&&X.rect),te=hi(re=ee?null:K,os(re));var re;const ne=us(Z?ko(Z):null),oe=function(e){const t=(0,i.useRef)(e),r=Po(r=>e?r&&r!==ls&&e&&t.current&&e.parentNode===t.current.parentNode?r:xi(e):ls,[e]);return(0,i.useEffect)(()=>{t.current=e},[e]),r}(j?null!=G?G:U:null),ie=function(e,t){void 0===t&&(t=vi);const[r]=e,n=us(r?ko(r):null),[o,s]=(0,i.useState)(ds);function a(){s(()=>e.length?e.map(e=>Ei(e)?n:new Li(t(e),e)):ds)}const l=is({callback:a});return To(()=>{null==l||l.disconnect(),a(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),o}(oe),se=function(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...n}),r):r}(h,{transform:{x:C.x-te.x,y:C.y-te.y,scaleX:1,scaleY:1},activatorEvent:L,active:T,activeNodeRect:K,containerNodeRect:W,draggingNodeRect:J,over:Y.current.over,overlayNodeRect:X.rect,scrollableAncestors:oe,scrollableAncestorRects:ie,windowRect:ne}),ae=Q?zo(Q,C):null,le=function(e){const[t,r]=(0,i.useState)(null),n=(0,i.useRef)(e),o=(0,i.useCallback)(e=>{const t=wi(e.target);t&&r(e=>e?(e.set(t,ki(t)),new Map(e)):null)},[]);return(0,i.useEffect)(()=>{const t=n.current;if(e!==t){i(t);const s=e.map(e=>{const t=wi(e);return t?(t.addEventListener("scroll",o,{passive:!0}),[t,ki(t)]):null}).filter(e=>null!=e);r(s.length?new Map(s):null),n.current=e}return()=>{i(e),i(t)};function i(e){e.forEach(e=>{const t=wi(e);null==t||t.removeEventListener("scroll",o)})}},[o,e]),(0,i.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>zo(e,t),oi):Ai(e):oi,[e,t])}(oe),ce=cs(le),ue=cs(le,[K]),de=zo(se,ce),pe=J?gi(J,se):null,fe=T&&pe?p({active:T,collisionRect:pe,droppableRects:$,droppableContainers:D,pointerCoordinates:ae}):null,he=ci(fe,"id"),[me,ge]=(0,i.useState)(null),ye=function(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}(ee?se:zo(se,ue),null!=(o=null==me?void 0:me.rect)?o:null,K),ve=(0,i.useRef)(null),be=(0,i.useCallback)((e,t)=>{let{sensor:r,options:n}=t;if(null==q.current)return;const o=k.get(q.current);if(!o)return;const i=e.nativeEvent,s=new r({active:q.current,activeNode:o,event:i,options:n,context:Y,onAbort(e){if(!k.get(e))return;const{onDragAbort:t}=R.current,r={id:e};null==t||t(r),b({type:"onDragAbort",event:r})},onPending(e,t,r,n){if(!k.get(e))return;const{onDragPending:o}=R.current,i={id:e,constraint:t,initialCoordinates:r,offset:n};null==o||o(i),b({type:"onDragPending",event:i})},onStart(e){const t=q.current;if(null==t)return;const r=k.get(t);if(!r)return;const{onDragStart:n}=R.current,o={activatorEvent:i,active:{id:t,data:r.data,rect:S}};(0,_o.unstable_batchedUpdates)(()=>{null==n||n(o),w(Ns.Initializing),v({type:Jo.DragStart,initialCoordinates:e,active:t}),b({type:"onDragStart",event:o}),P(ve.current),I(i)})},onMove(e){v({type:Jo.DragMove,coordinates:e})},onEnd:a(Jo.DragEnd),onCancel:a(Jo.DragCancel)});function a(e){return async function(){const{active:t,collisions:r,over:n,scrollAdjustedTranslate:o}=Y.current;let s=null;if(t&&o){const{cancelDrop:a}=R.current;s={activatorEvent:i,active:t,collisions:r,delta:o,over:n},e===Jo.DragEnd&&"function"==typeof a&&await Promise.resolve(a(s))&&(e=Jo.DragCancel)}q.current=null,(0,_o.unstable_batchedUpdates)(()=>{v({type:e}),w(Ns.Uninitialized),ge(null),P(null),I(null),ve.current=null;const t=e===Jo.DragEnd?"onDragEnd":"onDragCancel";if(s){const e=R.current[t];null==e||e(s),b({type:t,event:s})}})}}ve.current=s},[k]),xe=(0,i.useCallback)((e,t)=>(r,n)=>{const o=r.nativeEvent,i=k.get(n);if(null!==q.current||!i||o.dndKit||o.defaultPrevented)return;const s={active:i};!0===e(r,t.options,s)&&(o.dndKit={capturedBy:t.sensor},q.current=n,be(r,t))},[k,be]),_e=function(e,t){return(0,i.useMemo)(()=>e.reduce((e,r)=>{const{sensor:n}=r;return[...e,...n.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,r)}))]},[]),[e,t])}(d,xe);!function(e){(0,i.useEffect)(()=>{if(!wo)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(d),To(()=>{K&&_===Ns.Initializing&&w(Ns.Initialized)},[K,_]),(0,i.useEffect)(()=>{const{onDragMove:e}=R.current,{active:t,activatorEvent:r,collisions:n,over:o}=Y.current;if(!t||!r)return;const i={active:t,activatorEvent:r,collisions:n,delta:{x:de.x,y:de.y},over:o};(0,_o.unstable_batchedUpdates)(()=>{null==e||e(i),b({type:"onDragMove",event:i})})},[de.x,de.y]),(0,i.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:o}=Y.current;if(!e||null==q.current||!t||!o)return;const{onDragOver:i}=R.current,s=n.get(he),a=s&&s.rect.current?{id:s.id,rect:s.rect.current,data:s.data,disabled:s.disabled}:null,l={active:e,activatorEvent:t,collisions:r,delta:{x:o.x,y:o.y},over:a};(0,_o.unstable_batchedUpdates)(()=>{ge(a),null==i||i(l),b({type:"onDragOver",event:l})})},[he]),To(()=>{Y.current={activatorEvent:L,active:T,activeNode:U,collisionRect:pe,collisions:fe,droppableRects:$,draggableNodes:k,draggingNode:Z,draggingNodeRect:J,droppableContainers:E,over:me,scrollableAncestors:oe,scrollAdjustedTranslate:de},S.current={initial:J,translated:pe}},[T,U,fe,pe,k,Z,J,$,E,me,oe,de]),function(e){let{acceleration:t,activator:r=Zi.Pointer,canScroll:n,draggingRect:o,enabled:s,interval:a=5,order:l=Ji.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:p,threshold:f}=e;const h=function(e){let{delta:t,disabled:r}=e;const n=Io(t);return Po(e=>{if(r||!n||!e)return es;const o=Math.sign(t.x-n.x),i=Math.sign(t.y-n.y);return{x:{[Ci.Backward]:e.x[Ci.Backward]||-1===o,[Ci.Forward]:e.x[Ci.Forward]||1===o},y:{[Ci.Backward]:e.y[Ci.Backward]||-1===i,[Ci.Forward]:e.y[Ci.Forward]||1===i}}},[r,t,n])}({delta:p,disabled:!s}),[m,g]=function(){const e=(0,i.useRef)(null);return[(0,i.useCallback)((t,r)=>{e.current=setInterval(t,r)},[]),(0,i.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),y=(0,i.useRef)({x:0,y:0}),v=(0,i.useRef)({x:0,y:0}),b=(0,i.useMemo)(()=>{switch(r){case Zi.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Zi.DraggableRect:return o}},[r,o,c]),x=(0,i.useRef)(null),_=(0,i.useCallback)(()=>{const e=x.current;if(!e)return;const t=y.current.x*v.current.x,r=y.current.y*v.current.y;e.scrollBy(t,r)},[]),w=(0,i.useMemo)(()=>l===Ji.TreeOrder?[...u].reverse():u,[l,u]);(0,i.useEffect)(()=>{if(s&&u.length&&b){for(const e of w){if(!1===(null==n?void 0:n(e)))continue;const r=u.indexOf(e),o=d[r];if(!o)continue;const{direction:i,speed:s}=Ti(e,o,b,t,f);for(const e of["x","y"])h[e][i[e]]||(s[e]=0,i[e]=0);if(s.x>0||s.y>0)return g(),x.current=e,m(_,a),y.current=s,void(v.current=i)}y.current={x:0,y:0},v.current={x:0,y:0},g()}else g()},[t,_,n,g,s,a,JSON.stringify(b),JSON.stringify(h),m,u,w,d,JSON.stringify(f)])}({...H,delta:C,draggingRect:pe,pointerCoordinates:ae,scrollableAncestors:oe,scrollableAncestorRects:ie});const we=(0,i.useMemo)(()=>({active:T,activeNode:U,activeNodeRect:K,activatorEvent:L,collisions:fe,containerNodeRect:W,dragOverlay:X,draggableNodes:k,droppableContainers:E,droppableRects:$,over:me,measureDroppableContainers:F,scrollableAncestors:oe,scrollableAncestorRects:ie,measuringConfiguration:z,measuringScheduled:B,windowRect:ne}),[T,U,K,L,fe,W,X,k,E,$,me,F,oe,ie,z,B,ne]),je=(0,i.useMemo)(()=>({activatorEvent:L,activators:_e,active:T,activeNodeRect:K,ariaDescribedById:{draggable:M},dispatch:v,draggableNodes:k,over:me,measureDroppableContainers:F}),[L,_e,T,K,v,M,k,me,F]);return s().createElement(Yo.Provider,{value:x},s().createElement(vs.Provider,{value:je},s().createElement(bs.Provider,{value:we},s().createElement(js.Provider,{value:ye},u)),s().createElement(ws,{disabled:!1===(null==l?void 0:l.restoreFocus)})),s().createElement(Zo,{...l,hiddenTextDescribedById:M}))}),Cs=(0,i.createContext)(null),Es="button";const Os={timeout:25};function Ss(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function Ts(e,t){return e.reduce((e,r,n)=>{const o=t.get(r);return o&&(e[n]=o),e},Array(e.length))}function qs(e){return null!==e&&e>=0}const As=e=>{let{rects:t,activeIndex:r,overIndex:n,index:o}=e;const i=Ss(t,n,r),s=t[o],a=i[o];return a&&s?{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}:null},Ps={scaleX:1,scaleY:1},Ls=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:o,rects:i,overIndex:s}=e;const a=null!=(t=i[r])?t:n;if(!a)return null;if(o===r){const e=i[s];return e?{x:0,y:r<s?e.top+e.height-(a.top+a.height):e.top-a.top,...Ps}:null}const l=function(e,t,r){const n=e[t],o=e[t-1],i=e[t+1];return n?r<t?o?n.top-(o.top+o.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):o?n.top-(o.top+o.height):0:0}(i,o,r);return o>r&&o<=s?{x:0,y:-a.height-l,...Ps}:o<r&&o>=s?{x:0,y:a.height+l,...Ps}:{x:0,y:0,...Ps}},Is="Sortable",Rs=s().createContext({activeIndex:-1,containerId:Is,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:As,disabled:{draggable:!1,droppable:!1}});function Ms(e){let{children:t,id:r,items:n,strategy:o=As,disabled:a=!1}=e;const{active:l,dragOverlay:c,droppableRects:u,over:d,measureDroppableContainers:p}=(0,i.useContext)(bs),f=Mo(Is,r),h=Boolean(null!==c.rect),m=(0,i.useMemo)(()=>n.map(e=>"object"==typeof e&&"id"in e?e.id:e),[n]),g=null!=l,y=l?m.indexOf(l.id):-1,v=d?m.indexOf(d.id):-1,b=(0,i.useRef)(m),x=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(m,b.current),_=-1!==v&&-1===y||x,w=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(a);To(()=>{x&&g&&p(m)},[x,m,g,p]),(0,i.useEffect)(()=>{b.current=m},[m]);const j=(0,i.useMemo)(()=>({activeIndex:y,containerId:f,disabled:w,disableTransforms:_,items:m,overIndex:v,useDragOverlay:h,sortedRects:Ts(m,u),strategy:o}),[y,f,w.draggable,w.droppable,_,m,v,u,h,o]);return s().createElement(Rs.Provider,{value:j},t)}const Ds=e=>{let{id:t,items:r,activeIndex:n,overIndex:o}=e;return Ss(r,n,o).indexOf(t)},zs=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:l,transition:c}=e;return!(!c||!n||a!==i&&o===s||!r&&(s===o||t!==l))},$s={duration:200,easing:"ease"},Fs="transform",Bs=Uo.Transition.toString({property:Fs,duration:0,easing:"linear"}),Us={roleDescription:"sortable"};function Qs(e){let{animateLayoutChanges:t=zs,attributes:r,disabled:n,data:o,getNewIndex:s=Ds,id:a,strategy:l,resizeObserverConfig:c,transition:u=$s}=e;const{items:d,containerId:p,activeIndex:f,disabled:h,disableTransforms:m,sortedRects:g,overIndex:y,useDragOverlay:v,strategy:b}=(0,i.useContext)(Rs),x=function(e,t){var r,n;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(r=null==e?void 0:e.draggable)?r:t.draggable,droppable:null!=(n=null==e?void 0:e.droppable)?n:t.droppable}}(n,h),_=d.indexOf(a),w=(0,i.useMemo)(()=>({sortable:{containerId:p,index:_,items:d},...o}),[p,o,_,d]),j=(0,i.useMemo)(()=>d.slice(d.indexOf(a)),[d,a]),{rect:N,node:k,isOver:C,setNodeRef:E}=function(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:o}=e;const s=Mo("Droppable"),{active:a,dispatch:l,over:c,measureDroppableContainers:u}=(0,i.useContext)(vs),d=(0,i.useRef)({disabled:r}),p=(0,i.useRef)(!1),f=(0,i.useRef)(null),h=(0,i.useRef)(null),{disabled:m,updateMeasurementsFor:g,timeout:y}={...Os,...o},v=Ao(null!=g?g:n),b=is({callback:(0,i.useCallback)(()=>{p.current?(null!=h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),h.current=null},y)):p.current=!0},[y]),disabled:m||!a}),x=(0,i.useCallback)((e,t)=>{b&&(t&&(b.unobserve(t),p.current=!1),e&&b.observe(e))},[b]),[_,w]=Lo(x),j=Ao(t);return(0,i.useEffect)(()=>{b&&_.current&&(b.disconnect(),p.current=!1,b.observe(_.current))},[_,b]),(0,i.useEffect)(()=>(l({type:Jo.RegisterDroppable,element:{id:n,key:s,disabled:r,node:_,rect:f,data:j}}),()=>l({type:Jo.UnregisterDroppable,key:s,id:n})),[n]),(0,i.useEffect)(()=>{r!==d.current.disabled&&(l({type:Jo.SetDroppableDisabled,id:n,key:s,disabled:r}),d.current.disabled=r)},[n,s,r,l]),{active:a,rect:f,isOver:(null==c?void 0:c.id)===n,node:_,over:c,setNodeRef:w}}({id:a,data:w,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...c}}),{active:O,activatorEvent:S,activeNodeRect:T,attributes:q,setNodeRef:A,listeners:P,isDragging:L,over:I,setActivatorNodeRef:R,transform:M}=function(e){let{id:t,data:r,disabled:n=!1,attributes:o}=e;const s=Mo("Draggable"),{activators:a,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:p,over:f}=(0,i.useContext)(vs),{role:h=Es,roleDescription:m="draggable",tabIndex:g=0}=null!=o?o:{},y=(null==c?void 0:c.id)===t,v=(0,i.useContext)(y?js:Cs),[b,x]=Lo(),[_,w]=Lo(),j=function(e,t){return(0,i.useMemo)(()=>e.reduce((e,r)=>{let{eventName:n,handler:o}=r;return e[n]=e=>{o(e,t)},e},{}),[e,t])}(a,t),N=Ao(r);return To(()=>(p.set(t,{id:t,key:s,node:b,activatorNode:_,data:N}),()=>{const e=p.get(t);e&&e.key===s&&p.delete(t)}),[p,t]),{active:c,activatorEvent:l,activeNodeRect:u,attributes:(0,i.useMemo)(()=>({role:h,tabIndex:g,"aria-disabled":n,"aria-pressed":!(!y||h!==Es)||void 0,"aria-roledescription":m,"aria-describedby":d.draggable}),[n,h,g,y,m,d.draggable]),isDragging:y,listeners:n?void 0:j,node:b,over:f,setNodeRef:x,setActivatorNodeRef:w,transform:v}}({id:a,data:w,attributes:{...Us,...r},disabled:x.draggable}),D=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(E,A),z=Boolean(O),$=z&&!m&&qs(f)&&qs(y),F=!v&&L,B=F&&$?M:null,U=$?null!=B?B:(null!=l?l:b)({rects:g,activeNodeRect:T,activeIndex:f,overIndex:y,index:_}):null,Q=qs(f)&&qs(y)?s({id:a,items:d,activeIndex:f,overIndex:y}):_,H=null==O?void 0:O.id,V=(0,i.useRef)({activeId:H,items:d,newIndex:Q,containerId:p}),K=d!==V.current.items,W=t({active:O,containerId:p,isDragging:L,isSorting:z,id:a,index:_,items:d,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:u,wasDragging:null!=V.current.activeId}),Y=function(e){let{disabled:t,index:r,node:n,rect:o}=e;const[s,a]=(0,i.useState)(null),l=(0,i.useRef)(r);return To(()=>{if(!t&&r!==l.current&&n.current){const e=o.current;if(e){const t=vi(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&a(r)}}r!==l.current&&(l.current=r)},[t,r,n,o]),(0,i.useEffect)(()=>{s&&a(null)},[s]),s}({disabled:!W,index:_,node:k,rect:N});return(0,i.useEffect)(()=>{z&&V.current.newIndex!==Q&&(V.current.newIndex=Q),p!==V.current.containerId&&(V.current.containerId=p),d!==V.current.items&&(V.current.items=d)},[z,Q,p,d]),(0,i.useEffect)(()=>{if(H===V.current.activeId)return;if(null!=H&&null==V.current.activeId)return void(V.current.activeId=H);const e=setTimeout(()=>{V.current.activeId=H},50);return()=>clearTimeout(e)},[H]),{active:O,activeIndex:f,attributes:q,data:w,rect:N,index:_,newIndex:Q,items:d,isOver:C,isSorting:z,isDragging:L,listeners:P,node:k,overIndex:y,over:I,setNodeRef:D,setActivatorNodeRef:R,setDroppableNodeRef:E,setDraggableNodeRef:A,transform:null!=Y?Y:U,transition:Y||K&&V.current.newIndex===_?Bs:F&&!Fo(S)||!u?void 0:z||W?Uo.Transition.toString({...u,property:Fs}):void 0}}function Hs(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Vs=[Di.Down,Di.Right,Di.Up,Di.Left],Ks=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(Vs.includes(e.code)){if(e.preventDefault(),!r||!n)return;const t=[];i.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;const i=o.get(r.id);if(i)switch(e.code){case Di.Down:n.top<i.top&&t.push(r);break;case Di.Up:n.top>i.top&&t.push(r);break;case Di.Left:n.left>i.left&&t.push(r);break;case Di.Right:n.left<i.left&&t.push(r)}});const u=(e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=li(t),i=[];for(const e of n){const{id:t}=e,n=r.get(t);if(n){const r=li(n),s=o.reduce((e,t,n)=>e+ii(r[n],t),0),a=Number((s/4).toFixed(4));i.push({id:t,data:{droppableContainer:e,value:a}})}}return i.sort(si)})({active:r,collisionRect:n,droppableRects:o,droppableContainers:t,pointerCoordinates:null});let d=ci(u,"id");if(d===(null==s?void 0:s.id)&&u.length>1&&(d=u[1].id),null!=d){const e=i.get(r.id),t=i.get(d),s=t?o.get(t.id):null,u=null==t?void 0:t.node.current;if(u&&s&&e&&t){const r=xi(u).some((e,t)=>a[t]!==e),o=Ws(e,t),i=(c=t,!(!Hs(l=e)||!Hs(c))&&!!Ws(l,c)&&l.data.current.sortable.index<c.data.current.sortable.index),d=r||!o?{x:0,y:0}:{x:i?n.width-s.width:0,y:i?n.height-s.height:0},p={x:s.left,y:s.top};return d.x&&d.y?p:$o(p,d)}}}var l,c};function Ws(e,t){return!(!Hs(e)||!Hs(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const Ys={_course_id:null,_quiz_type:"standard",_difficulty_level:"intermediate",_quiz_category:"",_passing_score:70,_time_limit:0,_max_attempts:0,_randomize_questions:!1,_show_results:!0,_enable_negative_scoring:!1,_quiz_question_ids:[],_lesson_ids:[],_total_points:0,_quiz_instructions:""},Gs=["standard","graded","practice","survey","assessment","certification"],Xs=["easy","medium","hard","beginner","intermediate","advanced","expert"],Zs=["publish","draft","private","pending"],Js=ir("quiz","quizzes",{sanitizer:e=>{if(!e)return console.warn(" sanitizeQuizData - No data provided"),null;const t=xr(e.title),r=xr(e.content),n=xr(e.excerpt);return{id:e.id||0,title:t,content:r,excerpt:n,status:vr(e.status,"draft"),date:e.date||"",modified:e.modified||"",slug:e.slug||"",author:e.author||0,meta:{...Ys,...e.meta,_randomize_questions:dr(e.meta?._randomize_questions),_show_results:dr(e.meta?._show_results,!0),_enable_negative_scoring:dr(e.meta?._enable_negative_scoring),_quiz_question_ids:gr(e.meta?._quiz_question_ids),_lesson_ids:gr(e.meta?._lesson_ids)},questions_count:e.questions_count||e.meta?._quiz_question_ids?.length||0,total_attempts:e.total_attempts||0,_embedded:e._embedded||{},_links:e._links||{}}},validator:e=>{const t=[],r=_r(e.title,"Quiz title");r&&t.push(r),e.status&&!Zs.includes(e.status)&&t.push(`Invalid status. Must be one of: ${Zs.join(", ")}`);const n=e.meta||e,o=n._quiz_type||e.quizType;o&&!Gs.includes(o)&&t.push(`Invalid quiz type. Must be one of: ${Gs.join(", ")}`);const i=n._difficulty_level||e.difficulty;i&&!Xs.includes(i)&&t.push(`Invalid difficulty level. Must be one of: ${Xs.join(", ")}`);const s=n._passing_score||e.passingScore;if(void 0!==s){const e=((e,t,r,n)=>{const o=parseFloat(e);return isNaN(o)?`${n} must be a valid number`:o<0||o>100?`${n} must be between 0 and 100`:null})(s,0,0,"Passing score");e&&t.push(e)}const a=n._time_limit||e.timeLimit;if(void 0!==a){const e=parseInt(a);(isNaN(e)||e<0)&&t.push("Time limit must be a positive number or 0 (unlimited)")}const l=n._max_attempts||e.maxAttempts;if(void 0!==l){const e=parseInt(l);(isNaN(e)||e<0)&&t.push("Max attempts must be a positive number or 0 (unlimited)")}const c=n._quiz_question_ids||e.questionIds;return c&&!Array.isArray(c)&&t.push("Question IDs must be an array"),jr(t)},transformer:e=>{console.log(" transformQuizDataForApi - Input:",e);const t={title:lr(e.title),content:lr(e.content||e.instructions||""),status:vr(e.status,"draft"),meta:{}};return void 0!==e._course_id?t.meta._course_id=ur(e._course_id,1):void 0!==e.courseId?t.meta._course_id=ur(e.courseId,1):void 0!==e.meta?._course_id&&(t.meta._course_id=ur(e.meta._course_id,1)),void 0!==e._quiz_type?t.meta._quiz_type=br(e._quiz_type,Gs,"standard"):void 0!==e.quizType?t.meta._quiz_type=br(e.quizType,Gs,"standard"):void 0!==e.meta?._quiz_type&&(t.meta._quiz_type=br(e.meta._quiz_type,Gs,"standard")),void 0!==e._difficulty_level?t.meta._difficulty_level=br(e._difficulty_level,Xs,"intermediate"):void 0!==e.difficulty?t.meta._difficulty_level=br(e.difficulty,Xs,"intermediate"):void 0!==e.meta?._difficulty_level&&(t.meta._difficulty_level=br(e.meta._difficulty_level,Xs,"intermediate")),void 0!==e._quiz_category?t.meta._quiz_category=lr(e._quiz_category):void 0!==e.category?t.meta._quiz_category=lr(e.category):void 0!==e.meta?._quiz_category&&(t.meta._quiz_category=lr(e.meta._quiz_category)),void 0!==e._passing_score?(t.meta._passing_score=cr(e._passing_score,70,0),t.meta._passing_score=Math.min(t.meta._passing_score,100)):void 0!==e.passingScore?(t.meta._passing_score=cr(e.passingScore,70,0),t.meta._passing_score=Math.min(t.meta._passing_score,100)):void 0!==e.meta?._passing_score&&(t.meta._passing_score=cr(e.meta._passing_score,70,0),t.meta._passing_score=Math.min(t.meta._passing_score,100)),void 0!==e._time_limit?t.meta._time_limit=cr(e._time_limit,0,0):void 0!==e.timeLimit?t.meta._time_limit=cr(e.timeLimit,0,0):void 0!==e.meta?._time_limit&&(t.meta._time_limit=cr(e.meta._time_limit,0,0)),void 0!==e._max_attempts?t.meta._max_attempts=cr(e._max_attempts,0,0):void 0!==e.maxAttempts?t.meta._max_attempts=cr(e.maxAttempts,0,0):void 0!==e.meta?._max_attempts&&(t.meta._max_attempts=cr(e.meta._max_attempts,0,0)),void 0!==e._randomize_questions?t.meta._randomize_questions=dr(e._randomize_questions):void 0!==e.randomizeQuestions?t.meta._randomize_questions=dr(e.randomizeQuestions):void 0!==e.meta?._randomize_questions&&(t.meta._randomize_questions=dr(e.meta._randomize_questions)),void 0!==e._show_results?t.meta._show_results=dr(e._show_results,!0):void 0!==e.showResults?t.meta._show_results=dr(e.showResults,!0):void 0!==e.meta?._show_results&&(t.meta._show_results=dr(e.meta._show_results,!0)),void 0!==e._enable_negative_scoring?t.meta._enable_negative_scoring=dr(e._enable_negative_scoring):void 0!==e.enableNegativeScoring?t.meta._enable_negative_scoring=dr(e.enableNegativeScoring):void 0!==e.meta?._enable_negative_scoring&&(t.meta._enable_negative_scoring=dr(e.meta._enable_negative_scoring)),void 0!==e._quiz_question_ids?t.meta._quiz_question_ids=gr(e._quiz_question_ids):void 0!==e.questionIds?t.meta._quiz_question_ids=gr(e.questionIds):void 0!==e.meta?._quiz_question_ids&&(t.meta._quiz_question_ids=gr(e.meta._quiz_question_ids)),void 0!==e._lesson_ids?t.meta._lesson_ids=gr(e._lesson_ids):void 0!==e.lessonIds?t.meta._lesson_ids=gr(e.lessonIds):void 0!==e.meta?._lesson_ids&&(t.meta._lesson_ids=gr(e.meta._lesson_ids)),void 0!==e._total_points?t.meta._total_points=cr(e._total_points,0,0):void 0!==e.totalPoints?t.meta._total_points=cr(e.totalPoints,0,0):void 0!==e.meta?._total_points&&(t.meta._total_points=cr(e.meta._total_points,0,0)),void 0!==e._quiz_instructions?t.meta._quiz_instructions=lr(e._quiz_instructions):void 0!==e.instructions?t.meta._quiz_instructions=lr(e.instructions):void 0!==e.meta?._quiz_instructions&&(t.meta._quiz_instructions=lr(e.meta._quiz_instructions)),t.meta={...Ys,...t.meta},console.log(" transformQuizDataForApi - Output:",t),t},buildParams:(e={})=>{const{page:t=1,perPage:r=20,status:n="publish,draft,private",search:o="",courseId:i=null,quizType:s=null,difficulty:a=null,category:l=null,orderBy:c="date",order:u="desc",embed:d=!0}=e,p=new URLSearchParams({page:t.toString(),per_page:r.toString(),status:n,orderby:c,order:u});d&&p.append("_embed","true"),o&&o.trim()&&p.append("search",o.trim());let f=0;if(i){const e=parseInt(i,10);Number.isInteger(e)&&e>0&&(p.append(`meta_query[${f}][key]`,"_course_id"),p.append(`meta_query[${f}][value]`,e.toString()),p.append(`meta_query[${f}][compare]`,"="),p.append(`meta_query[${f}][type]`,"NUMERIC"),f++)}return s&&(p.append(`meta_query[${f}][key]`,"_quiz_type"),p.append(`meta_query[${f}][value]`,s),p.append(`meta_query[${f}][compare]`,"="),f++),a&&(p.append(`meta_query[${f}][key]`,"_difficulty_level"),p.append(`meta_query[${f}][value]`,a),p.append(`meta_query[${f}][compare]`,"="),f++),l&&(p.append(`meta_query[${f}][key]`,"_quiz_category"),p.append(`meta_query[${f}][value]`,l),p.append(`meta_query[${f}][compare]`,"="),f++),p}}),ea=async(e={})=>Js.getAll(e),ta=async(e,t={})=>Js.getOne(e,t),ra=async e=>Js.create(e),na=async(e,t)=>Js.update(e,t),oa=async e=>Js.delete(e),ia=ea,sa=ta,aa=ra,la=na,ca=async(e,t={})=>{if(!e||!Number.isInteger(e)||e<=0)throw new Error("Invalid course ID provided");return console.log(" Getting quizzes for course:",e),ia({...t,courseId:e})},ua=async e=>Js.duplicate(e),da=async(e={})=>Js.getCount(e),pa=async(e,t)=>{try{console.log(` Adding question ${t} to quiz ${e}`);const r=await sa(e),n=r.meta?._quiz_question_ids||[];if(!n.includes(t)){const r=[...n,t];return await la(e,{meta:{_quiz_question_ids:r}})}return console.log(" Question already in quiz"),r}catch(e){throw console.error(" Error adding question to quiz:",e),e}},fa=async(e,t)=>{try{console.log(` Removing question ${t} from quiz ${e}`);const r=await sa(e),n=(r.meta?._quiz_question_ids||[]).filter(e=>e!==t);return await la(e,{meta:{_quiz_question_ids:n}})}catch(e){throw console.error(" Error removing question from quiz:",e),e}},ha=async(e,t)=>la(e,{status:t}),ma=async e=>{try{const t=await sa(e);return{id:t.id,questionCount:t.meta?._quiz_question_ids?.length||0,totalPoints:t.meta?._total_points||0,passingScore:t.meta?._passing_score||70,timeLimit:t.meta?._time_limit||0,maxAttempts:t.meta?._max_attempts||0,difficulty:t.meta?._difficulty_level||"intermediate",type:t.meta?._quiz_type||"standard"}}catch(e){throw console.error(" Error getting quiz statistics:",e),e}},ga=(e={})=>{const{search:t="",courseId:r=null,quizType:o=null,difficulty:s=null,category:a=null,status:l=null,autoFetch:c=!0,perPage:u=20}=e,d=(0,i.useMemo)(()=>e=>({...e,course_id:e.meta?._course_id||null,quiz_type:e.meta?._quiz_type||"standard",difficulty:e.meta?._difficulty_level||"intermediate",category:e.meta?._quiz_category||"",passing_score:parseInt(e.meta?._passing_score||"70"),time_limit:parseInt(e.meta?._time_limit||"0"),max_attempts:parseInt(e.meta?._max_attempts||"0"),randomize_questions:"yes"===e.meta?._randomize_questions,show_results:"yes"===e.meta?._show_results,enable_negative_scoring:"yes"===e.meta?._enable_negative_scoring,question_ids:e.meta?._question_ids||[],question_count:Array.isArray(e.meta?._question_ids)?e.meta._question_ids.length:0,total_points:parseInt(e.meta?._total_points||"0"),instructions:e.meta?._quiz_instructions||"",has_time_limit:parseInt(e.meta?._time_limit||"0")>0,has_attempt_limit:parseInt(e.meta?._max_attempts||"0")>0,has_questions:Array.isArray(e.meta?._question_ids)&&e.meta._question_ids.length>0,is_randomized:"yes"===e.meta?._randomize_questions}),[]),p=(0,i.useMemo)(()=>e=>{const t=e.length;if(0===t)return{total:0,published:0,draft:0,private:0,totalQuestions:0,averageQuestions:0,totalPoints:0,averagePoints:0,byType:{},byDifficulty:{},withTimeLimit:0,withAttemptLimit:0,randomized:0};let r=0,n=0;const o={},i={};let s=0,a=0,l=0;return e.forEach(e=>{r+=e.question_count||0,n+=e.total_points||0;const t=e.quiz_type||"standard";o[t]=(o[t]||0)+1;const c=e.difficulty||"intermediate";i[c]=(i[c]||0)+1,e.has_time_limit&&s++,e.has_attempt_limit&&a++,e.is_randomized&&l++}),{total:t,published:e.filter(e=>"publish"===e.status).length,draft:e.filter(e=>"draft"===e.status).length,private:e.filter(e=>"private"===e.status).length,totalQuestions:r,averageQuestions:t>0?Math.round(r/t):0,totalPoints:n,averagePoints:t>0?Math.round(n/t):0,byType:o,byDifficulty:i,withTimeLimit:s,withAttemptLimit:a,randomized:l}},[]),{items:f,loading:h,creating:m,updating:g,deleting:y,error:v,pagination:b,computed:x,filters:_,updateFilter:w,resetFilters:j,setFilters:N,fetchItems:k,loadMore:C,createItem:E,updateItem:O,deleteItem:S,duplicateItem:T,refresh:q,hasMore:A}=Jt({service:n,resourceName:"quiz",initialFilters:{search:t,courseId:r,quizType:o,difficulty:s,category:a,status:l||"publish,draft,private"},debounceMs:500,autoFetch:c,perPage:u,dataProcessor:d,computedValuesCalculator:p});return{quizzes:f,loading:h,creating:m,updating:g,deleting:y,error:v,pagination:b,computed:x,filters:_,updateFilter:w,resetFilters:j,setFilters:N,fetchQuizzes:k,loadMoreQuizzes:C,createQuiz:E,updateQuiz:O,deleteQuiz:S,duplicateQuiz:T,refresh:q,publishQuiz:async e=>O(e,{status:"publish"}),unpublishQuiz:async e=>O(e,{status:"draft"}),addQuestionToQuiz:async(e,t)=>{const r=f.find(t=>t.id===e);if(!r)throw new Error("Quiz not found");const n=r.question_ids||[];return n.includes(t)?(console.log(" Question already in quiz"),r):O(e,{questionIds:[...n,t]})},removeQuestionFromQuiz:async(e,t)=>{const r=f.find(t=>t.id===e);if(!r)throw new Error("Quiz not found");const n=r.question_ids||[];return O(e,{questionIds:n.filter(e=>e!==t)})},updateQuizSettings:async(e,t)=>{const r=["passingScore","timeLimit","maxAttempts","randomizeQuestions","showResults","enableNegativeScoring"],n={};return Object.keys(t).forEach(e=>{r.includes(e)&&(n[e]=t[e])}),O(e,n)},reorderQuestions:async(e,t)=>O(e,{questionIds:t}),hasMore:A}},ya=ga,va=({value:e="",onChange:t,courseId:r=null,placeholder:n="Select a quiz...",disabled:o=!1,error:s=null,required:a=!1,className:l="",showSearch:c=!0,showCourseFilter:u=!1})=>{const[d,p]=(0,i.useState)(!1),[f,h]=(0,i.useState)("");console.log(" QuizSingleSelector - Rendering with props:",{value:e,courseId:r,disabled:o});const m=ya(!0);console.log(" QuizSingleSelector - Hook result:",m);const{quizzes:g=[],loading:y,error:v,filters:b={},setFilters:x,fetchQuizzes:_}=m||{};console.log(" QuizSingleSelector - After destructuring:",{quizzesType:typeof g,quizzesLength:Array.isArray(g)?g.length:"NOT_ARRAY",loading:y,fetchError:v}),(0,i.useEffect)(()=>{console.log(" QuizSingleSelector - useEffect triggered")},[r,f]);const w=(0,i.useMemo)(()=>(console.log(" QuizSingleSelector - filteredQuizzes memo, quizzes:",g),Array.isArray(g)?f?g.filter(e=>(e?.title?.rendered||e?.title||"").toLowerCase().includes(f.toLowerCase())||e?.id?.toString().includes(f)):g:(console.warn(" QuizSingleSelector - quizzes is not array:",typeof g,g),[])),[g,f]),j=(0,i.useMemo)(()=>Array.isArray(g)?g.find(t=>t?.id?.toString()===e?.toString()):null,[g,e]);return(0,sn.jsxs)("div",{className:`relative ${l}`,children:[(0,sn.jsx)("button",{type:"button",onClick:()=>{console.log(" QuizSingleSelector - Toggle, current state:",d),p(!d)},disabled:o||y,className:`relative w-full px-3 py-2 text-left border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${s?"border-red-500":"border-gray-300"} ${o?"bg-gray-100 cursor-not-allowed":"bg-white hover:bg-gray-50"}`,children:(0,sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sn.jsx)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:j?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(ho,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}),(0,sn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,sn.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:j.title?.rendered||j.title||"Untitled Quiz"}),(0,sn.jsx)("div",{className:"flex items-center space-x-2 mt-1",children:(0,sn.jsxs)("span",{className:"text-xs text-gray-500",children:["ID: ",j.id]})})]})]}):(0,sn.jsx)("span",{className:"text-gray-500 text-sm",children:n})}),(0,sn.jsxs)("div",{className:"flex items-center space-x-1",children:[y&&(0,sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,sn.jsx)(Tn,{className:"h-4 w-4 text-gray-400 transition-transform "+(d?"rotate-180":"")})]})]})}),s&&(0,sn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s}),d&&(0,sn.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-96 overflow-y-auto",children:(0,sn.jsxs)("div",{className:"p-4",children:[(0,sn.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"DEBUG INFO:"}),(0,sn.jsxs)("div",{className:"text-xs space-y-1",children:[(0,sn.jsxs)("p",{children:["Quizzes type: ",typeof g]}),(0,sn.jsxs)("p",{children:["Is Array: ",Array.isArray(g)?"Yes":"No"]}),(0,sn.jsxs)("p",{children:["Length: ",Array.isArray(g)?g.length:"N/A"]}),(0,sn.jsxs)("p",{children:["Loading: ",y?"Yes":"No"]}),(0,sn.jsxs)("p",{children:["Error: ",v||"None"]}),(0,sn.jsxs)("p",{children:["Filtered Length: ",Array.isArray(w)?w.length:"N/A"]})]}),Array.isArray(w)&&w.length>0&&(0,sn.jsxs)("div",{className:"mt-4 max-h-40 overflow-y-auto border-t pt-2",children:[(0,sn.jsx)("p",{className:"font-semibold text-xs mb-2",children:"Available Quizzes:"}),w.slice(0,5).map((e,r)=>(0,sn.jsxs)("button",{onClick:()=>(e=>{console.log(" QuizSingleSelector - handleSelect:",e),e?.id&&t&&(t(e.id),p(!1),h(""))})(e),className:"block w-full text-left p-2 text-xs hover:bg-gray-100 border-b",children:[e?.title?.rendered||e?.title||"Untitled"," (ID: ",e?.id,")"]},e.id||r)),w.length>5&&(0,sn.jsxs)("p",{className:"text-xs text-gray-500 p-2",children:["...and ",w.length-5," more"]})]})]})}),d&&(0,sn.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)})]})},ba=({step:e,index:t,stepTypes:r,onUpdate:n,onRemove:o,isViewMode:i})=>{const{attributes:s,listeners:a,setNodeRef:l,transform:c,transition:u,isDragging:d}=Qs({id:e.id}),p={transform:Uo.Transform.toString(c),transition:u};return(0,sn.jsx)("div",{ref:l,style:p,className:`bg-white border border-gray-200 rounded-lg p-4 ${d?"shadow-lg opacity-50":"hover:shadow-sm"} transition-shadow`,children:(0,sn.jsx)(xa,{step:e,index:t,stepTypes:r,onUpdate:n,onRemove:o,dragHandleProps:{...s,...a},isViewMode:i})})},xa=({step:e,index:t,stepTypes:r,onUpdate:n,onRemove:o,dragHandleProps:s,isViewMode:a})=>{const[l,c]=(0,i.useState)(!1),u=r[e.type],d=u?.icon||po;return(0,sn.jsxs)("div",{className:"space-y-3",children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sn.jsxs)("div",{className:"flex items-center space-x-3",children:[!a&&(0,sn.jsx)("div",{...s,className:"cursor-grab active:cursor-grabbing",children:(0,sn.jsx)(xo,{className:"h-5 w-5 text-gray-400"})}),(0,sn.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-gray-100 text-gray-600 text-xs font-medium rounded-full",children:e.order||t+1}),(0,sn.jsx)("div",{className:`p-2 rounded-md ${u?.color||"text-gray-600 bg-gray-50"}`,children:(0,sn.jsx)(d,{className:"h-4 w-4"})}),(0,sn.jsxs)("div",{className:"flex-1",children:[(0,sn.jsx)("h5",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,sn.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:u?.label||e.type})]}),e.required&&(0,sn.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Required"})]}),(0,sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sn.jsx)("button",{onClick:()=>c(!l),className:"p-1 text-gray-400 hover:text-gray-600",children:l?(0,sn.jsx)(yo,{className:"h-4 w-4"}):(0,sn.jsx)(Tn,{className:"h-4 w-4"})}),!a&&(0,sn.jsx)("button",{onClick:o,className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:(0,sn.jsx)(bn,{className:"h-4 w-4"})})]})]}),l&&(0,sn.jsx)("div",{className:"pl-8 space-y-3 border-l-2 border-gray-100",children:(0,sn.jsx)(_a,{step:e,stepType:u,onUpdate:n,isViewMode:a})})]})},_a=({step:e,stepType:t,onUpdate:r,isViewMode:n})=>{const o=(t,n)=>{r({data:{...e.data,[t]:n}})},i=(e,t)=>{r({[e]:t})};return(0,sn.jsxs)("div",{className:"space-y-4",children:[(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Step Title"}),(0,sn.jsx)("input",{type:"text",value:e.title,onChange:e=>i("title",e.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",disabled:n})]}),(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("input",{id:`required-${e.id}`,type:"checkbox",checked:e.required||!1,onChange:e=>i("required",e.target.checked),className:"h-3 w-3 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:n}),(0,sn.jsx)("label",{htmlFor:`required-${e.id}`,className:"ml-2 text-xs text-gray-700",children:"Required step"})]})]}),(0,sn.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:["video"===e.type&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Video URL"}),(0,sn.jsx)("input",{type:"url",value:e.data?.video_url||"",onChange:e=>o("video_url",e.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"https://...",disabled:n})]}),(0,sn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Duration (seconds)"}),(0,sn.jsx)("input",{type:"number",value:e.data?.duration||"",onChange:e=>o("duration",parseInt(e.target.value)||0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",disabled:n})]}),(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("input",{id:`autoplay-${e.id}`,type:"checkbox",checked:e.data?.autoplay||!1,onChange:e=>o("autoplay",e.target.checked),className:"h-3 w-3 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:n}),(0,sn.jsx)("label",{htmlFor:`autoplay-${e.id}`,className:"ml-2 text-xs text-gray-700",children:"Autoplay"})]})]})]}),"text"===e.type&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Content"}),(0,sn.jsx)("textarea",{value:e.data?.content||"",onChange:e=>o("content",e.target.value),rows:4,className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"Enter text content... HTML is supported.",disabled:n})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Estimated Reading Time (minutes)"}),(0,sn.jsx)("input",{type:"number",min:"1",value:e.data?.estimated_time||"",onChange:e=>o("estimated_time",parseInt(e.target.value)||5),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",disabled:n})]})]}),"pdf"===e.type&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"PDF File URL"}),(0,sn.jsx)("input",{type:"url",value:e.data?.file_url||"",onChange:e=>o("file_url",e.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"https://...",disabled:n})]}),(0,sn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"File Name"}),(0,sn.jsx)("input",{type:"text",value:e.data?.file_name||"",onChange:e=>o("file_name",e.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"document.pdf",disabled:n})]}),(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("input",{id:`downloadable-${e.id}`,type:"checkbox",checked:!1!==e.data?.downloadable,onChange:e=>o("downloadable",e.target.checked),className:"h-3 w-3 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:n}),(0,sn.jsx)("label",{htmlFor:`downloadable-${e.id}`,className:"ml-2 text-xs text-gray-700",children:"Allow download"})]})]})]}),"quiz"===e.type&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Select Quiz *"}),(0,sn.jsx)(va,{value:e.data?.quiz_id||"",onChange:e=>o("quiz_id",e),placeholder:"Choose a quiz for this step...",disabled:n,showSearch:!0,showCourseFilter:!0,className:"text-sm"}),(0,sn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Select the quiz that students will complete in this step"})]}),(0,sn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Passing Score (%)"}),(0,sn.jsx)("input",{type:"number",min:"0",max:"100",value:e.data?.passing_score||"70",onChange:e=>o("passing_score",parseInt(e.target.value)||70),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",disabled:n})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Max Attempts"}),(0,sn.jsx)("input",{type:"number",min:"1",value:e.data?.max_attempts||"3",onChange:e=>o("max_attempts",parseInt(e.target.value)||3),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",disabled:n})]})]}),(0,sn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Estimated Time (minutes)"}),(0,sn.jsx)("input",{type:"number",min:"1",value:e.data?.estimated_time||"10",onChange:e=>o("estimated_time",parseInt(e.target.value)||10),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",disabled:n})]}),(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("input",{id:`quiz-required-${e.id}`,type:"checkbox",checked:!1!==e.data?.required,onChange:e=>o("required",e.target.checked),className:"h-3 w-3 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:n}),(0,sn.jsx)("label",{htmlFor:`quiz-required-${e.id}`,className:"ml-2 text-xs text-gray-700",children:"Must pass to continue"})]})]})]}),"image"===e.type&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Image URL"}),(0,sn.jsx)("input",{type:"url",value:e.data?.image_url||"",onChange:e=>o("image_url",e.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"https://...",disabled:n})]}),(0,sn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Alt Text"}),(0,sn.jsx)("input",{type:"text",value:e.data?.alt_text||"",onChange:e=>o("alt_text",e.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"Description for accessibility",disabled:n})]}),(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("input",{id:`lightbox-${e.id}`,type:"checkbox",checked:e.data?.lightbox||!1,onChange:e=>o("lightbox",e.target.checked),className:"h-3 w-3 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:n}),(0,sn.jsx)("label",{htmlFor:`lightbox-${e.id}`,className:"ml-2 text-xs text-gray-700",children:"Enable lightbox"})]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Caption"}),(0,sn.jsx)("textarea",{value:e.data?.caption||"",onChange:e=>o("caption",e.target.value),rows:2,className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"Optional image caption",disabled:n})]})]}),"audio"===e.type&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Audio URL"}),(0,sn.jsx)("input",{type:"url",value:e.data?.audio_url||"",onChange:e=>o("audio_url",e.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"https://...",disabled:n})]}),(0,sn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Duration (seconds)"}),(0,sn.jsx)("input",{type:"number",value:e.data?.duration||"",onChange:e=>o("duration",parseInt(e.target.value)||0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",disabled:n})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Transcript URL"}),(0,sn.jsx)("input",{type:"url",value:e.data?.transcript_url||"",onChange:e=>o("transcript_url",e.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"https://... (optional)",disabled:n})]})]})]})]})]})},wa=({isOpen:e,onClose:t,onSave:r,stepTypes:n,newStep:o,setNewStep:i})=>e?(0,sn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,sn.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,sn.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,sn.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:t})}),(0,sn.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,sn.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,sn.jsx)("div",{className:"sm:flex sm:items-start",children:(0,sn.jsxs)("div",{className:"w-full",children:[(0,sn.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Add New Step"}),(0,sn.jsxs)("div",{className:"space-y-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Step Type"}),(0,sn.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(n).map(([e,t])=>{const r=t.icon;return(0,sn.jsx)("button",{onClick:()=>i(t=>({...t,type:e})),className:"p-3 border rounded-lg text-left hover:bg-gray-50 transition-colors "+(o.type===e?"border-indigo-500 bg-indigo-50":"border-gray-300"),children:(0,sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sn.jsx)("div",{className:`p-1 rounded ${t.color}`,children:(0,sn.jsx)(r,{className:"h-4 w-4"})}),(0,sn.jsx)("span",{className:"text-sm font-medium",children:t.label})]})},e)})})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Step Title"}),(0,sn.jsx)("input",{type:"text",value:o.title,onChange:e=>i(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter step title..."})]})]})]})})}),(0,sn.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,sn.jsx)("button",{onClick:()=>{o.title.trim()?r(o):alert("Please enter a step title")},className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Add Step"}),(0,sn.jsx)("button",{onClick:t,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})}):null,ja=({isOpen:e,onClose:t,lesson:r=null,onSave:n,mode:o="create",availableCourses:s=[],isLoading:a=!1})=>{const[l,c]=(0,i.useState)({title:"",content:"",courseId:"",lessonType:"mixed",description:"",lessonOrder:"1",prerequisiteLessons:"",completionCriteria:"view_all",isRequired:!1,status:"draft",steps:[]}),[u,d]=(0,i.useState)({}),[p,f]=(0,i.useState)("basic"),[h,m]=(0,i.useState)(!1),[g,y]=(0,i.useState)({type:"text",title:"",data:{}}),v=ni(ri(Wi),ri(Ui,{coordinateGetter:Ks}));(0,i.useEffect)(()=>{r&&"create"!==o&&(console.log(" Initializing form with lesson data:",r),c({title:r.title?.rendered||r.title||"",content:r.content?.rendered||r.content||"",courseId:r.meta?._course_id||"",lessonType:r.meta?._lesson_type||"mixed",description:r.meta?._lesson_description||"",lessonOrder:r.meta?._lesson_order||"1",prerequisiteLessons:r.meta?._prerequisite_lessons||"",completionCriteria:r.meta?._completion_criteria||"view_all",isRequired:"yes"===r.meta?._is_required,status:r.status||"draft",steps:r.meta?._lesson_steps||[]}))},[r,o]);const b=(e,t)=>{c(r=>({...r,[e]:t})),u[e]&&d(t=>({...t,[e]:null}))},x=async(e="close")=>{if((()=>{const e={};return l.title.trim()||(e.title="Title is required"),l.courseId||(e.courseId="Course selection is required"),0===l.steps.length&&(e.steps="At least one step is required"),d(e),0===Object.keys(e).length})())try{console.log(" Saving lesson with next action:",e),await n(l,e)}catch(e){console.error(" Save failed:",e)}else console.log(" Form validation failed:",u)},_={video:{label:"Video",icon:uo,color:"text-blue-600 bg-blue-50",fields:["video_url","duration","autoplay","subtitles_url"]},text:{label:"Text Content",icon:po,color:"text-green-600 bg-green-50",fields:["content","estimated_time"]},pdf:{label:"PDF Document",icon:fo,color:"text-red-600 bg-red-50",fields:["file_url","file_name","file_size","downloadable"]},quiz:{label:"Quiz",icon:ho,color:"text-purple-600 bg-purple-50",fields:["quiz_id","passing_score","max_attempts","required"]},image:{label:"Image",icon:mo,color:"text-orange-600 bg-orange-50",fields:["image_url","alt_text","caption","lightbox"]},audio:{label:"Audio",icon:go,color:"text-indigo-600 bg-indigo-50",fields:["audio_url","duration","transcript_url"]}};return e?(0,sn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,sn.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,sn.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,sn.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:t})}),(0,sn.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[(0,sn.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"create"===o?"Create New Lesson":"edit"===o?"Edit Lesson":"View Lesson"}),r&&(0,sn.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["ID: ",r.id,"  ",l.steps.length," steps"]})]}),(0,sn.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,sn.jsx)(kn,{className:"h-6 w-6"})})]}),(0,sn.jsx)("div",{className:"mt-4",children:(0,sn.jsx)("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[{id:"basic",name:"Basic Info",icon:bo},{id:"steps",name:`Content Steps (${l.steps.length})`,icon:po},{id:"settings",name:"Settings",icon:bo}].map(e=>{const t=e.icon;return(0,sn.jsxs)("button",{onClick:()=>f(e.id),className:(p===e.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2",children:[(0,sn.jsx)(t,{className:"h-4 w-4"}),e.name]},e.id)})})})]}),(0,sn.jsxs)("div",{className:"px-6 py-6 max-h-[60vh] overflow-y-auto",children:["basic"===p&&(0,sn.jsxs)("div",{className:"space-y-6",children:[(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,sn.jsxs)("div",{className:"md:col-span-2",children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lesson Title *"}),(0,sn.jsx)("input",{type:"text",value:l.title,onChange:e=>b("title",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 "+(u.title?"border-red-500":"border-gray-300"),placeholder:"Enter lesson title...",disabled:"view"===o}),u.title&&(0,sn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.title})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course *"}),(0,sn.jsxs)("select",{value:l.courseId,onChange:e=>b("courseId",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 "+(u.courseId?"border-red-500":"border-gray-300"),disabled:"view"===o,children:[(0,sn.jsx)("option",{value:"",children:"Select a course..."}),s.map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))]}),u.courseId&&(0,sn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.courseId})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lesson Type"}),(0,sn.jsxs)("select",{value:l.lessonType,onChange:e=>b("lessonType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:"view"===o,children:[(0,sn.jsx)("option",{value:"video",children:"Video"}),(0,sn.jsx)("option",{value:"text",children:"Text"}),(0,sn.jsx)("option",{value:"mixed",children:"Mixed Content"}),(0,sn.jsx)("option",{value:"quiz",children:"Quiz"}),(0,sn.jsx)("option",{value:"interactive",children:"Interactive"})]})]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,sn.jsx)("textarea",{value:l.description,onChange:e=>b("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the lesson...",disabled:"view"===o})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lesson Overview Content"}),(0,sn.jsx)("textarea",{value:l.content,onChange:e=>b("content",e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Overview content for the lesson (optional)...",disabled:"view"===o}),(0,sn.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"This content appears before the lesson steps. HTML is supported."})]})]}),"steps"===p&&(0,sn.jsxs)("div",{className:"space-y-6",children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Content Steps"}),(0,sn.jsx)("p",{className:"text-sm text-gray-500",children:"Add and organize content steps for this lesson"})]}),"view"!==o&&(0,sn.jsxs)("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,sn.jsx)(on,{className:"h-4 w-4 mr-2"}),"Add Step"]})]}),u.steps&&(0,sn.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,sn.jsxs)("div",{className:"flex",children:[(0,sn.jsx)(Cn,{className:"h-5 w-5 text-red-400 mr-2 flex-shrink-0"}),(0,sn.jsx)("p",{className:"text-sm text-red-700",children:u.steps})]})}),l.steps.length>0?(0,sn.jsx)(ks,{sensors:v,collisionDetection:di,onDragEnd:e=>{const{active:t,over:r}=e;if(t.id!==r?.id){const e=l.steps.findIndex(e=>e.id===t.id),n=l.steps.findIndex(e=>e.id===r.id),o=Ss(l.steps,e,n).map((e,t)=>({...e,order:t+1}));c(e=>({...e,steps:o})),console.log(" Steps reordered")}},children:(0,sn.jsx)(Ms,{items:l.steps.map(e=>e.id),strategy:Ls,children:(0,sn.jsx)("div",{className:"space-y-3",children:l.steps.map((e,t)=>(0,sn.jsx)(ba,{step:e,index:t,stepTypes:_,onUpdate:t=>((e,t)=>{c(r=>({...r,steps:r.steps.map(r=>r.id===e?{...r,...t}:r)})),console.log(" Step updated:",e,t)})(e.id,t),onRemove:()=>{return t=e.id,c(e=>({...e,steps:e.steps.filter(e=>e.id!==t).map((e,t)=>({...e,order:t+1}))})),void console.log(" Step removed:",t);var t},isViewMode:"view"===o},e.id))})})}):(0,sn.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[(0,sn.jsx)(po,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,sn.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No steps added"}),(0,sn.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding your first content step."}),"view"!==o&&(0,sn.jsx)("div",{className:"mt-6",children:(0,sn.jsxs)("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700",children:[(0,sn.jsx)(on,{className:"h-4 w-4 mr-2"}),"Add First Step"]})})]}),h&&(0,sn.jsx)(wa,{isOpen:h,onClose:()=>{m(!1),y({type:"text",title:"",data:{}})},onSave:e=>{const t={...e,id:`step_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,order:l.steps.length+1,required:!1};c(e=>({...e,steps:[...e.steps,t]})),m(!1),y({type:"text",title:"",data:{}}),console.log(" Step added:",t)},stepTypes:_,newStep:g,setNewStep:y})]}),"settings"===p&&(0,sn.jsxs)("div",{className:"space-y-6",children:[(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lesson Order"}),(0,sn.jsx)("input",{type:"number",min:"1",value:l.lessonOrder,onChange:e=>b("lessonOrder",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:"view"===o}),(0,sn.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Order of this lesson within the course"})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,sn.jsxs)("select",{value:l.status,onChange:e=>b("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:"view"===o,children:[(0,sn.jsx)("option",{value:"draft",children:"Draft"}),(0,sn.jsx)("option",{value:"publish",children:"Published"}),(0,sn.jsx)("option",{value:"private",children:"Private"})]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Completion Criteria"}),(0,sn.jsxs)("select",{value:l.completionCriteria,onChange:e=>b("completionCriteria",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:"view"===o,children:[(0,sn.jsx)("option",{value:"view_all",children:"View All Steps"}),(0,sn.jsx)("option",{value:"complete_required",children:"Complete Required Steps"}),(0,sn.jsx)("option",{value:"pass_quiz",children:"Pass Quiz Steps"}),(0,sn.jsx)("option",{value:"manual",children:"Manual Completion"})]}),(0,sn.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"How students complete this lesson"})]}),(0,sn.jsxs)("div",{className:"flex items-start",children:[(0,sn.jsx)("div",{className:"flex items-center h-5",children:(0,sn.jsx)("input",{id:"is-required",type:"checkbox",checked:l.isRequired,onChange:e=>b("isRequired",e.target.checked),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded",disabled:"view"===o})}),(0,sn.jsxs)("div",{className:"ml-3 text-sm",children:[(0,sn.jsx)("label",{htmlFor:"is-required",className:"font-medium text-gray-700",children:"Required Lesson"}),(0,sn.jsx)("p",{className:"text-gray-500",children:"Students must complete this lesson to progress"})]})]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prerequisite Lessons"}),(0,sn.jsx)("input",{type:"text",value:l.prerequisiteLessons,onChange:e=>b("prerequisiteLessons",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Comma-separated lesson IDs (e.g., 123, 456)",disabled:"view"===o}),(0,sn.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Lessons that must be completed before this one (optional)"})]})]})]}),(0,sn.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:(0,sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sn.jsx)("div",{className:"flex items-center space-x-3",children:"view"!==o&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("button",{onClick:()=>x("close"),disabled:a,className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[a?(0,sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,sn.jsx)(Sn,{className:"h-4 w-4 mr-2"}),"Save & Close"]}),"create"===o&&(0,sn.jsxs)("button",{onClick:()=>x("create"),disabled:a,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:[(0,sn.jsx)(on,{className:"h-4 w-4 mr-2"}),"Save & Create New"]})]})}),(0,sn.jsx)("button",{onClick:t,className:"inline-flex items-center px-4 py-2 bg-white text-gray-700 text-sm font-medium rounded-md border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"view"===o?"Close":"Cancel"})]})})]})]})}):null},Na=({title:e,description:t,stats:r=[],primaryAction:n,secondaryAction:o,isLoading:i=!1,className:s=""})=>(0,sn.jsxs)("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-6 ${s}`,children:[(0,sn.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-6",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:e}),t&&(0,sn.jsx)("p",{className:"text-gray-600 mt-1",children:t})]}),(0,sn.jsxs)("div",{className:"flex items-center space-x-3",children:[i&&(0,sn.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,sn.jsx)(un,{className:"animate-spin h-4 w-4 mr-2"}),(0,sn.jsx)("span",{children:"Updating..."})]}),o&&(0,sn.jsx)(hn,{variant:"secondary",size:"md",onClick:o.onClick,disabled:o.isLoading||i,iconLeft:o.icon,children:o.text}),n&&(0,sn.jsx)(hn,{variant:"primary",size:"md",onClick:n.onClick,isLoading:n.isLoading,iconLeft:n.icon,children:n.text})]})]}),r.length>0&&(0,sn.jsx)(ln,{stats:r})]}),ka=({value:e,onChange:t,onClear:r,placeholder:n="Search...",isLoading:o=!1,className:i=""})=>(0,sn.jsxs)("div",{className:`relative w-full ${i}`,children:[(0,sn.jsx)("input",{type:"text",placeholder:n,value:e,onChange:t,className:"block w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),(0,sn.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:o?(0,sn.jsx)(un,{className:"h-5 w-5 text-gray-400 animate-spin"}):e?(0,sn.jsx)("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-600","aria-label":"Clear search",children:(0,sn.jsx)(kn,{className:"h-5 w-5"})}):(0,sn.jsx)(Zt,{className:"h-5 w-5 text-gray-400"})})]}),Ca=({searchConfig:e,filtersConfig:t=[],onResetFilters:r,className:n=""})=>(0,sn.jsxs)("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-6 ${n}`,children:[(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end",children:[e&&(0,sn.jsx)("div",{className:"md:col-span-2 lg:col-span-2",children:(0,sn.jsx)(ka,{value:e.value,onChange:e.onChange,onClear:e.onClear,placeholder:e.placeholder||"Search...",isLoading:e.isLoading})}),t.map(e=>(0,sn.jsx)(qn,{label:e.label,value:e.value,onChange:e.onChange,options:e.options,placeholder:e.placeholder,isLoading:e.isLoading,fetchOptions:e.fetchOptions,showSearch:e.showSearch},e.label))]}),(0,sn.jsx)("div",{className:"mt-4 flex justify-end",children:(0,sn.jsx)(hn,{variant:"secondary",outline:!0,size:"sm",onClick:r,iconLeft:kn,children:"Clear All Filters"})})]}),Ea=()=>{const[e,r]=(0,i.useState)("cards"),[n,o]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(null),[p,f]=(0,i.useState)(null),[h,m]=(0,i.useState)(!1),{t:g}=tt(),{searchValue:y,isSearching:v,handleSearchChange:b,clearSearch:x}=rn("",async e=>{console.log(" Lesson search triggered:",e)},500),{filters:_,isFiltering:w,updateFilter:j,resetFilters:N}=nn({courseId:"all",lessonType:"all",status:"all",difficulty:"all"},async e=>{console.log(" Lesson filters changed:",e)},300),{lessons:k,loading:C,error:E,pagination:O,computed:S,creating:T,updating:q,deleting:A,createLesson:P,updateLesson:L,deleteLesson:I,duplicateLesson:R,fetchLessons:M}=((e={})=>{const{search:r="",courseId:n=null,lessonType:o=null,status:s=null,autoFetch:a=!0,perPage:l=20}=e,c=(0,i.useMemo)(()=>e=>({...e,course_id:e.meta?._course_id||null,lesson_order:parseInt(e.meta?._lesson_order||"0"),lesson_type:e.meta?._lesson_type||"mixed",description:e.meta?._lesson_description||"",steps:e.meta?._lesson_steps||[],steps_count:Array.isArray(e.meta?._lesson_steps)?e.meta._lesson_steps.length:0,prerequisite_lessons:e.meta?._prerequisite_lessons||[],completion_criteria:e.meta?._completion_criteria||"view",is_required:"yes"===e.meta?._is_required,duration_minutes:parseInt(e.meta?._duration_minutes||"0"),video_url:e.meta?._video_url||"",has_quiz:"yes"===e.meta?._has_quiz,quiz_id:e.meta?._quiz_id||null,has_video:Boolean(e.meta?._video_url),has_steps:Array.isArray(e.meta?._lesson_steps)&&e.meta._lesson_steps.length>0,has_prerequisites:Array.isArray(e.meta?._prerequisite_lessons)&&e.meta._prerequisite_lessons.length>0}),[]),u=(0,i.useMemo)(()=>e=>{const t=e.length;if(0===t)return{total:0,published:0,draft:0,private:0,totalSteps:0,averageStepsPerLesson:0,totalDuration:0,averageDuration:0,byType:{},withQuizzes:0,withVideo:0,withPrerequisites:0,requiredLessons:0};let r=0,n=0;const o={};let i=0,s=0,a=0,l=0;return e.forEach(e=>{r+=e.steps_count||0,n+=e.duration_minutes||0;const t=e.lesson_type||"mixed";o[t]=(o[t]||0)+1,e.has_quiz&&i++,e.has_video&&s++,e.has_prerequisites&&a++,e.is_required&&l++}),{total:t,published:e.filter(e=>"publish"===e.status).length,draft:e.filter(e=>"draft"===e.status).length,private:e.filter(e=>"private"===e.status).length,totalSteps:r,averageStepsPerLesson:t>0?Math.round(r/t):0,totalDuration:n,averageDuration:t>0?Math.round(n/t):0,byType:o,withQuizzes:i,withVideo:s,withPrerequisites:a,requiredLessons:l}},[]),{items:d,loading:p,creating:f,updating:h,deleting:m,error:g,pagination:y,computed:v,filters:b,updateFilter:x,resetFilters:_,setFilters:w,fetchItems:j,loadMore:N,createItem:k,updateItem:C,deleteItem:E,duplicateItem:O,refresh:S,hasMore:T}=Jt({service:t,resourceName:"lesson",initialFilters:{search:r,courseId:n,lessonType:o,status:s||"publish,draft,private"},debounceMs:500,autoFetch:a,perPage:l,dataProcessor:c,computedValuesCalculator:u});return{lessons:d,loading:p,creating:f,updating:h,deleting:m,error:g,pagination:y,computed:v,filters:b,updateFilter:x,resetFilters:_,setFilters:w,fetchLessons:j,loadMoreLessons:N,createLesson:k,updateLesson:C,deleteLesson:E,duplicateLesson:O,refresh:S,publishLesson:async e=>C(e,{status:"publish"}),unpublishLesson:async e=>C(e,{status:"draft"}),updateLessonOrder:async(e,t)=>C(e,{lessonOrder:t}),moveLessonToCourse:async(e,t)=>C(e,{courseId:t}),updateLessonType:async(e,t)=>C(e,{lessonType:t}),addStepToLesson:async(e,t)=>{const r=d.find(t=>t.id===e);if(!r)throw new Error("Lesson not found");const n=r.steps||[];return C(e,{steps:[...n,t]})},removeStepFromLesson:async(e,t)=>{const r=d.find(t=>t.id===e);if(!r)throw new Error("Lesson not found");const n=r.steps||[];return C(e,{steps:n.filter((e,r)=>r!==t)})},hasMore:T}})({search:y,courseId:"all"!==_.courseId?_.courseId:null,lessonType:"all"!==_.lessonType?_.lessonType:null,status:"all"!==_.status?_.status:null,autoFetch:!0,debounceMs:500}),D=(0,i.useRef)(),z=O.hasMore,$=(0,i.useCallback)(e=>{C||(D.current&&D.current.disconnect(),D.current=new IntersectionObserver(e=>{e[0].isIntersecting&&z&&(console.log(" Loading more lessons..."),M(!1))}),e&&D.current.observe(e))},[C,z,M]),F=(0,i.useCallback)(e=>{const t=e.target.value;b(t)},[b]),B=((0,i.useCallback)(e=>{j("courseId",e)},[j]),(0,i.useCallback)(e=>{j("lessonType",e)},[j]),(0,i.useCallback)(e=>{j("status",e)},[j]),(0,i.useCallback)(()=>{M(!0)},[M])),U=(e,t=null)=>{console.log(" Opening modal:",e,t),d(e),f(t),m(!0),o("create"===e)},Q=()=>{console.log(" Closing modal"),m(!1),o(!1),setTimeout(()=>{d(null),f(null)},300)},H=(0,i.useCallback)(e=>{console.log(" Delete clicked for lesson:",e),c(e),a(!0)},[]),V=(0,i.useCallback)(async e=>{try{await R(e.id)}catch(e){console.error("Error duplicating lesson:",e)}},[R]),K=(0,i.useCallback)(e=>{U("view",e)},[]),W=(0,i.useMemo)(()=>[{label:"Total Lessons",value:S.totalLessons||0,icon:Ht,iconColor:"text-blue-500"},{label:"Published",value:S.publishedLessons||0,icon:Dn,iconColor:"text-green-500"},{label:"Draft",value:S.draftLessons||0,icon:Cn,iconColor:"text-yellow-500"},{label:"Total Steps",value:S.totalSteps||0,icon:Gt,iconColor:"text-purple-500"},{label:"Avg. Steps/Lesson",value:S.averageStepsPerLesson||0,icon:Yt,iconColor:"text-indigo-500"},{label:"Avg. Duration",value:`${S.averageDuration||0} min`,icon:zn,iconColor:"text-red-500"}],[S]),Y=(0,i.useMemo)(()=>[{value:"all",label:"All Courses"},{value:"1",label:"JavaScript Fundamentals"},{value:"2",label:"React Development"},{value:"3",label:"Node.js Backend"},{value:"4",label:"WordPress Development"}],[]),G={value:y,onChange:F,onClear:x,placeholder:"Search lessons...",isLoading:v},X=[{label:"Course",value:_.courseId,onChange:e=>j("courseId",e),options:Y,placeholder:"All Courses",isLoading:!1,showSearch:!0},{label:"Lesson Type",value:_.lessonType,onChange:e=>j("lessonType",e),options:[{value:"all",label:"All Types"},{value:"video",label:"Video"},{value:"text",label:"Text"},{value:"mixed",label:"Mixed"},{value:"quiz",label:"Quiz"},{value:"interactive",label:"Interactive"}],placeholder:"All Types"},{label:"Status",value:_.status,onChange:e=>j("status",e),options:[{value:"all",label:"All Status"},{value:"publish",label:"Published"},{value:"draft",label:"Draft"},{value:"private",label:"Private"}],placeholder:"All Statuses"}];return(0,sn.jsxs)("div",{className:"space-y-6 p-6",children:[(0,sn.jsx)(Na,{title:g("lessons.title"),description:"Create and manage interactive lessons with multiple content types.",stats:W,isLoading:C&&k.length>0,primaryAction:{text:g("lessons.addNew"),onClick:()=>U("create"),isLoading:T},secondaryAction:{text:g("common.refresh"),onClick:B,isLoading:C,icon:Xt}}),(0,sn.jsx)(Ca,{searchConfig:G,filtersConfig:X,onResetFilters:N}),(0,sn.jsxs)(gn,{title:"Lessons",description:"Manage and organize all your lessons",createButtonText:"Create Lesson",onCreateClick:()=>{console.log(" ContentManager Create button clicked"),U("create")},items:k,loading:C&&0===k.length,viewMode:e,onViewModeChange:r,showCreateButton:!0,showItemCount:!0,showViewToggle:!0,emptyState:{icon:Ht,title:"No lessons found",description:"Create your first lesson to get started",actionText:"Create Lesson",onAction:()=>{console.log(" EmptyState Create button clicked"),U("create")}},children:[k.map((e,t)=>t===k.length-1?(0,sn.jsx)("div",{ref:$,children:(0,sn.jsx)(vo,{lesson:e,onEdit:()=>U("edit",e),onDelete:()=>H(e),onDuplicate:()=>V(e),onClick:()=>K(e)})},e.id):(0,sn.jsxs)("div",{children:[" ",(0,sn.jsx)(vo,{lesson:e,onEdit:()=>U("edit",e),onDelete:()=>H(e),onDuplicate:()=>V(e),onClick:()=>K(e)})]},e.id)),C&&k.length>0&&(0,sn.jsx)("div",{className:"flex justify-center py-8 col-span-full",children:(0,sn.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,sn.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500 mr-2"}),(0,sn.jsx)("span",{children:"Loading more lessons..."})]})}),!C&&!z&&k.length>0&&(0,sn.jsx)("div",{className:"text-center py-6 col-span-full",children:(0,sn.jsx)("p",{className:"text-gray-500",children:"You've reached the end of the list."})})]}),h&&(0,sn.jsx)(ja,{isOpen:h,onClose:Q,onSave:async(e,t)=>{try{let r;return console.log(" Saving lesson:",e,"Next action:",t),"create"===u?r=await P(e):"edit"===u&&(r=await L(p.id,e)),console.log(" Lesson saved successfully:",r),"close"===t?Q():"create"===t?(f(null),d("create")):"edit"===t&&r?.id&&(f(r),d("edit")),r}catch(e){throw console.error(" Error saving lesson:",e),e}},lesson:p,mode:u,availableCourses:Y.filter(e=>"all"!==e.value),isLoading:T||q}),s&&(0,sn.jsx)(Rn,{isOpen:s,onClose:()=>a(!1),onConfirm:async()=>{if(l)try{console.log(" Confirming delete for lesson:",l.id),await I(l.id),a(!1),c(null),console.log(" Lesson deleted successfully")}catch(e){console.error(" Error deleting lesson:",e)}},title:"Delete Lesson",message:`Are you sure you want to delete "${l?.title?.rendered||l?.title}"? This action cannot be undone.`,isLoading:A})]})},Oa=Qt("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Sa=Qt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ta=({quiz:e,onEdit:t,onDelete:r,onDuplicate:n,onClick:o})=>{const[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(!1),p=e.title?.rendered||e.title||"Untitled Quiz",f=e.meta?._difficulty_level||"medium",h=e.meta?._quiz_category||"Uncategorized",m=e.meta?._quiz_question_ids?.length||0,g=e.meta?._time_limit||"No limit",y=e.meta?._passing_score||"50",v=e.meta?._quiz_type||"assessment";return(0,sn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200",children:[(0,sn.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,sn.jsx)("div",{className:"flex items-start justify-between",children:(0,sn.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:o,children:[(0,sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 hover:text-indigo-600 transition-colors line-clamp-2",children:p}),(0,sn.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,sn.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${{easy:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",hard:"bg-red-100 text-red-800"}[f]}`,children:f.charAt(0).toUpperCase()+f.slice(1)}),(0,sn.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${{assessment:"bg-blue-100 text-blue-800",practice:"bg-purple-100 text-purple-800",exam:"bg-red-100 text-red-800",survey:"bg-gray-100 text-gray-800"}[v]}`,children:v.charAt(0).toUpperCase()+v.slice(1)}),(0,sn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:h})]})]})})}),(0,sn.jsxs)("div",{className:"p-4 bg-gray-50",children:[(0,sn.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,sn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,sn.jsx)(Ht,{className:"w-4 h-4 text-gray-500"}),(0,sn.jsxs)("span",{className:"text-gray-700",children:[m," questions"]})]}),(0,sn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,sn.jsx)(zn,{className:"w-4 h-4 text-gray-500"}),(0,sn.jsx)("span",{className:"text-gray-700",children:""===g?"No limit":`${g} min`})]}),(0,sn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,sn.jsx)(Gt,{className:"w-4 h-4 text-gray-500"}),(0,sn.jsxs)("span",{className:"text-gray-700",children:[y,"% to pass"]})]})]}),m>0&&(0,sn.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,sn.jsxs)("button",{onClick:async t=>{t.stopPropagation(),s||await(async()=>{if(l.length>0)return;const t=e.meta?._quiz_question_ids||[];if(0!==t.length){d(!0);try{await new Promise(e=>setTimeout(e,500));const e=t.map((e,t)=>({id:e,title:`Question ${t+1}`,content:`This is the content of question ${t+1}...`,difficulty:["easy","medium","hard"][Math.floor(3*Math.random())]}));c(e)}catch(e){console.error("Error loading questions:",e)}finally{d(!1)}}})(),a(!s)},className:"flex items-center justify-between w-full text-sm text-gray-600 hover:text-indigo-600 transition-colors",children:[(0,sn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,sn.jsx)(ho,{className:"w-4 h-4"}),(0,sn.jsx)("span",{children:"Preview Questions"})]}),s?(0,sn.jsx)(yo,{className:"w-4 h-4"}):(0,sn.jsx)(Tn,{className:"w-4 h-4"})]})})]}),s&&(0,sn.jsx)("div",{className:"border-t border-gray-200 bg-white",children:(0,sn.jsxs)("div",{className:"p-4",children:[(0,sn.jsxs)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:["Questions (",m,")"]}),u?(0,sn.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,sn.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-indigo-500"}),(0,sn.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:"Loading questions..."})]}):l.length>0?(0,sn.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:l.map((e,t)=>(0,sn.jsx)("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-100",children:(0,sn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,sn.jsxs)("div",{className:"flex-1",children:[(0,sn.jsxs)("h5",{className:"text-sm font-medium text-gray-800",children:[t+1,". ",e.title]}),(0,sn.jsx)("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:e.content?.replace(/<[^>]*>/g,"")||"No content"})]}),(0,sn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ml-2 "+("easy"===e.difficulty?"bg-green-100 text-green-700":"medium"===e.difficulty?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:e.difficulty})]})},e.id))}):(0,sn.jsxs)("div",{className:"text-center py-4 text-gray-500",children:[(0,sn.jsx)(ho,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,sn.jsx)("p",{className:"text-sm",children:"No questions available"})]})]})}),(0,sn.jsxs)("div",{className:"p-3 border-t border-gray-100 flex items-center justify-end gap-2",children:[(0,sn.jsx)("button",{onClick:e=>{e.stopPropagation(),o()},className:"p-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"View",children:(0,sn.jsx)(Sa,{className:"w-4 h-4"})}),(0,sn.jsx)("button",{onClick:e=>{e.stopPropagation(),t()},className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:(0,sn.jsx)(yn,{className:"w-4 h-4"})}),(0,sn.jsx)("button",{onClick:e=>{e.stopPropagation(),n()},className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Duplicate",children:(0,sn.jsx)(vn,{className:"w-4 h-4"})}),(0,sn.jsx)("button",{onClick:e=>{e.stopPropagation(),r()},className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:(0,sn.jsx)(bn,{className:"w-4 h-4"})})]})]})},qa=({isOpen:e,onClose:t,onConfirm:r,title:n="Confirm Delete",message:o,confirmText:a="Delete",cancelText:l="Cancel",requiresTyping:c=!1,itemName:u="",loading:d=!1,variant:p="danger"})=>{const[f,h]=(0,i.useState)(""),[m,g]=(0,i.useState)(!1);s().useEffect(()=>{e&&(h(""),g(!1))},[e]),s().useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&!m&&t()};if(e)return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[e,m,t]);const y={danger:{icon:"text-red-600",iconBg:"bg-red-100",confirmButton:"danger"},warning:{icon:"text-yellow-600",iconBg:"bg-yellow-100",confirmButton:"primary"}}[p];return e?(0,sn.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:m?void 0:t}),(0,sn.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,sn.jsxs)("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,sn.jsx)("button",{onClick:t,disabled:m,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,sn.jsx)(kn,{className:"h-5 w-5"})}),(0,sn.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,sn.jsx)("div",{className:`mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${y.iconBg} sm:mx-0 sm:h-10 sm:w-10`,children:(0,sn.jsx)(In,{className:`h-6 w-6 ${y.icon}`})}),(0,sn.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left w-full",children:[(0,sn.jsx)("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:n}),o&&(0,sn.jsx)("div",{className:"mt-2",children:(0,sn.jsx)("p",{className:"text-sm text-gray-500",children:o})}),c&&(0,sn.jsxs)("div",{className:"mt-4",children:[(0,sn.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Type ",(0,sn.jsx)("span",{className:"font-mono font-bold",children:"DELETE"})," to confirm:"]}),(0,sn.jsx)("input",{type:"text",value:f,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Type DELETE here",disabled:m})]}),u&&(0,sn.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:[(0,sn.jsx)("p",{className:"text-sm text-gray-600",children:"Item to delete:"}),(0,sn.jsx)("p",{className:"font-medium text-gray-900 truncate",children:u})]})]})]}),(0,sn.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse sm:gap-3",children:[(0,sn.jsx)(hn,{variant:y.confirmButton,onClick:async()=>{if(!c||"DELETE"===f){g(!0);try{await r(),t()}catch(e){console.error("Error during deletion:",e)}finally{g(!1)}}},disabled:m||c&&"DELETE"!==f,className:"w-full sm:w-auto",children:m?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):a}),(0,sn.jsx)(hn,{variant:"secondary",onClick:t,disabled:m,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:l})]})]})})]}):null};var Aa=r(5708),Pa=r.n(Aa);const La=({isOpen:e,onClose:t,quiz:r=null,onSave:n,mode:o="create",availableCourses:s=[],availableCategories:a=[],isLoading:l=!1})=>{const[c,u]=(0,i.useState)({title:"",instructions:"",courseId:"",category:"",difficulty:"medium",quizType:"assessment",questionIds:[],passingScore:"50",timeLimit:"",maxAttempts:"",randomizeQuestions:!1,showResults:!0,enableNegativeScoring:!1}),[d,p]=(0,i.useState)({}),[f,h]=(0,i.useState)(""),[m,g]=(0,i.useState)([]),[y,v]=(0,i.useState)(!1),[b,x]=(0,i.useState)([]);(0,i.useEffect)(()=>{r&&"create"!==o?(u({title:r.title?.rendered||r.title||"",instructions:r.content?.rendered||r.content||"",courseId:r.meta?._course_id||"",category:r.meta?._quiz_category||"",difficulty:r.meta?._difficulty_level||"medium",quizType:r.meta?._quiz_type||"assessment",questionIds:r.meta?._quiz_question_ids||[],passingScore:r.meta?._passing_score||"50",timeLimit:r.meta?._time_limit||"",maxAttempts:r.meta?._max_attempts||"",randomizeQuestions:"yes"===r.meta?._randomize_questions,showResults:"yes"===r.meta?._show_results,enableNegativeScoring:r.meta?._enable_negative_scoring||!1}),r.meta?._quiz_question_ids?.length>0&&w(r.meta._quiz_question_ids)):"create"===o&&_(),p({})},[r,o,e]);const _=()=>{u({title:"",instructions:"",courseId:"",category:"",difficulty:"medium",quizType:"assessment",questionIds:[],passingScore:"50",timeLimit:"",maxAttempts:"",randomizeQuestions:!1,showResults:!0,enableNegativeScoring:!1}),x([]),h(""),g([])},w=async e=>{try{const t=er(),r=e.map(e=>fetch(`${t.endpoints.questions}/${e}`,{headers:tr(),credentials:"same-origin"}).then(e=>e.json())),n=await Promise.all(r);x(n)}catch(e){console.error("Error loading questions:",e)}},j=(e,t)=>{u(r=>({...r,[e]:t})),d[e]&&p(t=>({...t,[e]:null}))},N=async()=>{if(f.trim()){v(!0);try{const e=er(),t=new URLSearchParams({search:f,per_page:20,status:"publish,draft",_fields:"id,title,content,meta"}),r=`${e.endpoints.questions}?${t}`;console.log(" Searching questions at:",r);const n=await fetch(r,{headers:tr(),credentials:"same-origin"});if(console.log(" Response status:",n.status,n.statusText),!n.ok){const e=await n.json().catch(()=>({}));throw console.error(" API Error:",e),new Error(e.message||`HTTP error! status: ${n.status}`)}const o=(await n.json()).map(e=>({id:e.id,title:e.title?.rendered||e.title,content:e.content?.rendered||e.content,options:e.meta?._question_options||[],meta:e.meta||{}}));g(o)}catch(e){console.error("Error searching questions:",e),p({search:"Failed to search questions"})}finally{v(!1)}}},k=async e=>{if(!(()=>{const e={};return c.title.trim()||(e.title="Quiz title is required"),c.courseId||(e.courseId="Please select a course"),c.category||(e.category="Please select a category"),0===b.length&&(e.questions="Please add at least one question to the quiz"),p(e),0===Object.keys(e).length})())return;const t={title:c.title,instructions:c.instructions,status:"publish",courseId:c.courseId,category:c.category,difficulty:c.difficulty,quizType:c.quizType,questionIds:c.questionIds,passingScore:c.passingScore,timeLimit:c.timeLimit,maxAttempts:c.maxAttempts,randomizeQuestions:c.randomizeQuestions,showResults:c.showResults,enableNegativeScoring:c.enableNegativeScoring};try{await n(t,e),"reset"===e&&_()}catch(e){console.error("Error saving quiz:",e),p({submit:e.message||"Failed to save the quiz."})}},C=e=>{e.preventDefault(),k("close")};if(!e)return null;const E="view"===o,O="create"===o?"Create New Quiz":"edit"===o?"Edit Quiz":"View Quiz";return(0,sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,sn.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0",children:[(0,sn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:O}),(0,sn.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:l,children:(0,sn.jsx)(kn,{className:"w-6 h-6"})})]}),(0,sn.jsx)("form",{onSubmit:C,className:"flex-1 overflow-y-auto p-6",children:(0,sn.jsxs)("div",{className:"space-y-6",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quiz Title *"}),(0,sn.jsx)("input",{type:"text",value:c.title,onChange:e=>j("title",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 "+(d.title?"border-red-300":"border-gray-300"),placeholder:"Enter quiz title",disabled:E}),d.title&&(0,sn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.title})]}),(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course *"}),(0,sn.jsxs)("select",{value:c.courseId,onChange:e=>j("courseId",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 "+(d.courseId?"border-red-300":"border-gray-300"),disabled:E,children:[(0,sn.jsx)("option",{value:"",children:"Select Course"}),s.map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))]}),d.courseId&&(0,sn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.courseId})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,sn.jsxs)("select",{value:c.category,onChange:e=>j("category",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 "+(d.category?"border-red-300":"border-gray-300"),disabled:E,children:[(0,sn.jsx)("option",{value:"",children:"Select Category"}),a.map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))]}),d.category&&(0,sn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.category})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty *"}),(0,sn.jsx)("select",{value:c.difficulty,onChange:e=>j("difficulty",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:E,children:[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quiz Type"}),(0,sn.jsx)("select",{value:c.quizType,onChange:e=>j("quizType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:E,children:[{value:"assessment",label:"Assessment"},{value:"practice",label:"Practice"},{value:"exam",label:"Exam"},{value:"survey",label:"Survey"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructions"}),(0,sn.jsx)(Pa(),{value:c.instructions,onChange:e=>j("instructions",e),theme:"snow",readOnly:E,className:E?"opacity-60":"",modules:{toolbar:!E&&[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]}})]}),(0,sn.jsxs)("div",{className:"border-t pt-6",children:[(0,sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quiz Settings"}),(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passing Score (%)"}),(0,sn.jsx)("input",{type:"number",min:"0",max:"100",value:c.passingScore,onChange:e=>j("passingScore",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:E})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Limit (minutes)"}),(0,sn.jsx)("input",{type:"number",min:"0",value:c.timeLimit,onChange:e=>j("timeLimit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Leave empty for unlimited",disabled:E})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attempts"}),(0,sn.jsx)("input",{type:"number",min:"0",value:c.maxAttempts,onChange:e=>j("maxAttempts",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Leave empty for unlimited",disabled:E})]})]}),(0,sn.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("input",{type:"checkbox",id:"randomizeQuestions",checked:c.randomizeQuestions,onChange:e=>j("randomizeQuestions",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:E}),(0,sn.jsx)("label",{htmlFor:"randomizeQuestions",className:"ml-2 block text-sm text-gray-700",children:"Randomize Questions"})]}),(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("input",{type:"checkbox",id:"showResults",checked:c.showResults,onChange:e=>j("showResults",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:E}),(0,sn.jsx)("label",{htmlFor:"showResults",className:"ml-2 block text-sm text-gray-700",children:"Show Results After Completion"})]}),(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("input",{type:"checkbox",id:"enableNegativeScoring",checked:c.enableNegativeScoring,onChange:e=>j("enableNegativeScoring",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:E}),(0,sn.jsx)("label",{htmlFor:"enableNegativeScoring",className:"ml-2 block text-sm text-gray-700",children:"Enable Negative Scoring"})]})]})]}),!E&&(0,sn.jsxs)("div",{className:"border-t pt-6",children:[(0,sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Associated Questions"}),(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search and Add Questions"}),(0,sn.jsxs)("div",{className:"flex gap-2",children:[(0,sn.jsx)("input",{type:"text",value:f,onChange:e=>h(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),N()),placeholder:"Search questions by title...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,sn.jsxs)("button",{type:"button",onClick:N,disabled:y||!f.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 flex items-center gap-2",children:[(0,sn.jsx)(Zt,{className:"w-4 h-4"}),y?"Searching...":"Search"]})]}),d.search&&(0,sn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.search})]}),m.length>0&&(0,sn.jsx)("div",{className:"mb-4 border border-gray-200 rounded-md max-h-48 overflow-y-auto",children:m.map(e=>(0,sn.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b last:border-b-0",children:[(0,sn.jsxs)("div",{className:"flex-1",children:[(0,sn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title?.rendered||e.title}),(0,sn.jsxs)("p",{className:"text-xs text-gray-500",children:[e.meta?._question_type,"  ",e.meta?._difficulty_level]})]}),(0,sn.jsx)("button",{type:"button",onClick:()=>(e=>{b.find(t=>t.id===e.id)||(x(t=>[...t,e]),u(t=>({...t,questionIds:[...t.questionIds,e.id]})),g([]),h(""))})(e),disabled:b.find(t=>t.id===e.id),className:"ml-2 px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b.find(t=>t.id===e.id)?"Added":"Add"})]},e.id))}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Selected Questions (",b.length,")"]}),d.questions&&(0,sn.jsx)("p",{className:"mb-2 text-sm text-red-600",children:d.questions}),0===b.length?(0,sn.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No questions added yet. Use the search above to add questions."}):(0,sn.jsx)("div",{className:"space-y-2",children:b.map((e,t)=>(0,sn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[(0,sn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,sn.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["#",t+1]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("p",{className:"text-sm text-gray-900",children:e.title?.rendered||e.title}),(0,sn.jsxs)("p",{className:"text-xs text-gray-500",children:[e.meta?._question_type,"  ",e.meta?._difficulty_level]})]})]}),(0,sn.jsx)("button",{type:"button",onClick:()=>{return t=e.id,x(e=>e.filter(e=>e.id!==t)),void u(e=>({...e,questionIds:e.questionIds.filter(e=>e!==t)}));var t},className:"text-red-600 hover:text-red-800",children:(0,sn.jsx)(bn,{className:"w-4 h-4"})})]},e.id))})]})]}),E&&b.length>0&&(0,sn.jsxs)("div",{className:"border-t pt-6",children:[(0,sn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Questions (",b.length,")"]}),(0,sn.jsx)("div",{className:"space-y-2",children:b.map((e,t)=>(0,sn.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-md",children:[(0,sn.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["#",t+1]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("p",{className:"text-sm text-gray-900",children:e.title?.rendered||e.title}),(0,sn.jsxs)("p",{className:"text-xs text-gray-500",children:[e.meta?._question_type,"  ",e.meta?._difficulty_level]})]})]},e.id))})]}),d.submit&&(0,sn.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 flex items-start gap-3",children:[(0,sn.jsx)(Cn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,sn.jsx)("p",{className:"text-sm text-red-600",children:d.submit})]})]})}),!E&&(0,sn.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 flex-shrink-0 bg-gray-50",children:[(0,sn.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium",disabled:l,children:"Cancel"}),(0,sn.jsxs)("div",{className:"flex gap-2",children:["create"===o&&(0,sn.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),k("reset")},disabled:l,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50 flex items-center gap-2",children:[(0,sn.jsx)(Sn,{className:"w-4 h-4"}),"Save & Add New"]}),(0,sn.jsx)("button",{type:"submit",onClick:C,disabled:l,className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 flex items-center gap-2",children:l?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Sn,{className:"w-4 h-4"}),"create"===o?"Create Quiz":"Save Changes"]})})]})]})]})})},Ia=()=>{const[e,t]=(0,i.useState)("cards"),[r,n]=(0,i.useState)(null),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[d,p]=(0,i.useState)(null),[f,h]=(0,i.useState)({search:"",courseId:"all",difficulty:"all",category:"all",quizType:"all"}),m=(e,t)=>{h(r=>({...r,[e]:t}))},{quizzes:g,loading:y,error:v,pagination:b,creating:x,updating:_,createQuiz:w,updateQuiz:j,deleteQuiz:N,duplicateQuiz:k,fetchQuizzes:C}=ga({search:f.search,courseId:"all"!==f.courseId?f.courseId:null,difficulty:"all"!==f.difficulty?f.difficulty:null,category:"all"!==f.category?f.category:null,quizType:"all"!==f.quizType?f.quizType:null,autoFetch:!0}),E=(0,i.useMemo)(()=>[{value:"all",label:"All Courses"},{value:"1",label:"Course 1"},{value:"2",label:"Course 2"}],[]),O=(0,i.useRef)(),S=b.hasMore,T=(0,i.useCallback)(e=>{y||(O.current&&O.current.disconnect(),O.current=new IntersectionObserver(e=>{e[0].isIntersecting&&S&&C(!1)}),e&&O.current.observe(e))},[y,S,C]),q=(e,t=null)=>{console.log(" Opening modal:",e,t),n(e),s(t),l(!0)},A=()=>{console.log(" Closing modal"),l(!1),setTimeout(()=>{n(null),s(null)},300)},P=e=>{p(e),u(!0)},L=(0,i.useMemo)(()=>{const e=g.reduce((e,t)=>e+(t.meta?._quiz_question_ids?.length||0),0),t=g.length>0?Math.round(e/g.length):0;return[{label:"Total Quizzes",value:b.total||0,icon:Ht,iconColor:"text-blue-500"},{label:"Total Questions",value:e,icon:Gt,iconColor:"text-green-500"},{label:"Avg. Questions",value:t,icon:Yt,iconColor:"text-purple-500"},{label:"Active Students",value:Math.floor(500*Math.random())+100,icon:Kt,iconColor:"text-indigo-500"},{label:"Avg. Pass Rate",value:`${Math.floor(30*Math.random())+65}%`,icon:Oa,iconColor:"text-yellow-500"},{label:"Avg. Time Limit",value:`${Math.floor(40*Math.random())+30} min`,icon:zn,iconColor:"text-red-500"}]},[g,b.total]),I=[{value:"all",label:"All Categories"},{value:"general",label:"General"},{value:"assessment",label:"Assessment"},{value:"practice",label:"Practice"}];return(0,sn.jsxs)("div",{className:"space-y-6 p-6",children:[(0,sn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,sn.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Quiz Management"}),(0,sn.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage and organize all quizzes for your courses."})]}),(0,sn.jsxs)("div",{className:"flex items-center space-x-3",children:[y&&(0,sn.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),(0,sn.jsx)("span",{children:"Updating..."})]}),(0,sn.jsx)("button",{onClick:()=>C(!0),disabled:y,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:"Refresh"}),(0,sn.jsx)("button",{onClick:()=>{console.log(" Create button clicked"),q("create")},disabled:x,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:x?"Creating...":"Create Quiz"})]})]}),(0,sn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:L.map((e,t)=>{const r=e.icon;return(0,sn.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("div",{className:`flex-shrink-0 ${e.iconColor}`,children:(0,sn.jsx)(r,{className:"h-6 w-6"})}),(0,sn.jsxs)("div",{className:"ml-3",children:[(0,sn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,sn.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.value})]})]})},t)})})]}),(0,sn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,sn.jsx)("input",{type:"text",placeholder:"Search quizzes...",value:f.search,onChange:e=>m("search",e.target.value),className:"w-full pl-3 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 md:col-span-2 lg:col-span-1"}),(0,sn.jsx)("select",{value:f.courseId,onChange:e=>m("courseId",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:E.map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,sn.jsx)("select",{value:f.difficulty,onChange:e=>m("difficulty",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[{value:"all",label:"All Difficulties"},{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,sn.jsx)("select",{value:f.category,onChange:e=>m("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:I.map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,sn.jsx)("select",{value:f.quizType,onChange:e=>m("quizType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[{value:"all",label:"All Types"},{value:"assessment",label:"Assessment"},{value:"practice",label:"Practice"},{value:"exam",label:"Exam"},{value:"survey",label:"Survey"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,sn.jsx)("div",{className:"mt-4 flex justify-end",children:(0,sn.jsx)("button",{onClick:()=>{h({search:"",courseId:"all",difficulty:"all",category:"all",quizType:"all"})},className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Clear All Filters"})})]}),(0,sn.jsxs)(gn,{title:"Quizzes",description:"Manage and organize all your quizzes",createButtonText:"Create Quiz",onCreateClick:()=>{console.log(" ContentManager Create button clicked"),q("create")},items:g,loading:y&&0===g.length,viewMode:e,onViewModeChange:t,showCreateButton:!0,showItemCount:!0,showViewToggle:!0,emptyState:{icon:Ht,title:"No quizzes found",description:"Create your first quiz to get started",actionText:"Create Quiz",onAction:()=>{console.log(" EmptyState Create button clicked"),q("create")}},children:[g.map((e,t)=>t===g.length-1?(0,sn.jsx)("div",{ref:T,children:(0,sn.jsx)(Ta,{quiz:e,onEdit:()=>q("edit",e),onDelete:()=>P(e),onDuplicate:()=>k(e.id),onClick:()=>q("view",e)})},e.id):(0,sn.jsx)(Ta,{quiz:e,onEdit:()=>q("edit",e),onDelete:()=>P(e),onDuplicate:()=>k(e.id),onClick:()=>q("view",e)},e.id)),(0,sn.jsxs)("div",{className:"text-center py-6 col-span-full",children:[y&&g.length>0&&(0,sn.jsx)("div",{className:"flex justify-center items-center",children:(0,sn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),!S&&!y&&g.length>0&&(0,sn.jsx)("p",{className:"text-gray-500",children:"You've reached the end of the list."})]})]}),a&&(0,sn.jsx)(La,{isOpen:a,onClose:A,onSave:async(e,t)=>{console.log(" Saving quiz:",e,"Next action:",t);try{"edit"===r?await j(o.id,e):await w(e),"close"===t&&A()}catch(e){throw console.error("Failed to save quiz:",e),e}},quiz:o,mode:r,availableCourses:E.filter(e=>"all"!==e.value),availableCategories:I.filter(e=>"all"!==e.value),isLoading:x||_}),c&&(0,sn.jsx)(qa,{isOpen:c,onClose:()=>u(!1),onConfirm:async()=>{d&&(await N(d.id),u(!1),p(null))},title:"Delete Quiz",message:`Are you sure you want to delete "${d?.title?.rendered||""}"? This can't be undone.`})]})},Ra=Qt("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Ma=Qt("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Da=Qt("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),za=Qt("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),$a=Qt("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Fa=Qt("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Ba=({item:e,viewMode:t="cards",actions:r=[],children:n,className:o="",header:a,footer:l,onClick:c,clickable:u=!1})=>{const[d,p]=(0,i.useState)(!1),f="bg-white border border-gray-200 transition-shadow "+(u?"cursor-pointer hover:shadow-lg":"shadow-sm hover:shadow-md"),h="cards"===t?"rounded-lg p-6":"rounded-md p-4 flex items-center space-x-4";return(0,sn.jsxs)("div",{className:`${f} ${h} ${o}`,onClick:t=>{t.target.closest(".dropdown-menu")||t.target.closest(".dropdown-trigger")||c&&u&&c(e)},children:[a&&(0,sn.jsx)("div",{className:"mb-4",children:a}),(0,sn.jsx)("div",{className:"list"===t?"flex-1":"",children:n}),l&&(0,sn.jsx)("div",{className:"mt-4",children:l}),r.length>0&&(0,sn.jsxs)("div",{className:"relative",children:[(0,sn.jsx)("button",{onClick:e=>{e.stopPropagation(),p(!d)},className:"dropdown-trigger p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:(0,sn.jsx)(wn,{className:"h-5 w-5"})}),d&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>p(!1)}),(0,sn.jsx)("div",{className:"dropdown-menu absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-20",children:(0,sn.jsx)("div",{className:"py-1",children:r.map((t,r)=>(0,sn.jsxs)(s().Fragment,{children:[(0,sn.jsxs)("button",{onClick:r=>((t,r)=>{r.stopPropagation(),p(!1),t.onClick&&t.onClick(e)})(t,r),className:`w-full text-left px-4 py-2 text-sm flex items-center space-x-2 hover:bg-gray-50 ${t.color||"text-gray-700"}`,children:[t.icon&&(0,sn.jsx)(t.icon,{className:"h-4 w-4"}),(0,sn.jsx)("span",{children:t.label})]}),t.divider&&(0,sn.jsx)("div",{className:"border-t border-gray-100 my-1"})]},r))})})]})]})]})},Ua=({user:e,viewMode:t="cards",onEnroll:r,onUnenroll:n,onUpdateRole:o,onView:i,showEnrollment:s=!0,showProgress:a=!0,courseId:l=null,className:c=""})=>{const u=e.roles?.[0]||"subscriber",d=e.enrollmentData?.isEnrolled||!1,p=e.enrollmentData?.progress||0,f=e.enrollmentData?.enrollmentDate,h=e.enrollmentData?.lastActivity,m=e.date_registered||e.registered,g=e.avatar_urls?.[96]||e.avatar_urls?.[48]||null,y=e.name?e.name.split(" ").map(e=>e.charAt(0)).join("").toUpperCase():e.username?.charAt(0).toUpperCase()||"U",v=e=>{switch(e){case"administrator":return"text-red-600 bg-red-100";case"editor":return"text-purple-600 bg-purple-100";case"author":return"text-blue-600 bg-blue-100";case"contributor":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},b=e=>e?new Date(e).toLocaleDateString():"N/A",x=(e=>{if(!e)return{status:"inactive",label:"Never",color:"text-gray-500"};const t=new Date(e),r=new Date,n=Math.floor((r-t)/864e5);return 0===n?{status:"today",label:"Today",color:"text-green-600"}:n<=7?{status:"recent",label:`${n}d ago`,color:"text-green-500"}:n<=30?{status:"moderate",label:`${n}d ago`,color:"text-yellow-500"}:{status:"inactive",label:`${n}d ago`,color:"text-red-500"}})(h),_=[{label:"View Details",icon:Sa,onClick:i,color:"text-blue-600"},...s&&l?[d?{label:"Unenroll",icon:za,onClick:()=>n?.(e.id,l),color:"text-red-600"}:{label:"Enroll",icon:Ma,onClick:()=>r?.(e.id,l),color:"text-green-600"}]:[],{label:"Update Role",icon:bo,onClick:()=>o?.(e.id),color:"text-purple-600"}].filter(e=>e.onClick);return(0,sn.jsx)(Ba,{item:e,viewMode:t,actions:_,className:c,clickable:!!i,onClick:i?()=>i(e):void 0,children:"cards"===t?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"flex items-center mb-4",children:[(0,sn.jsx)("div",{className:"flex-shrink-0 mr-3",children:g?(0,sn.jsx)("img",{src:g,alt:e.name||e.username,className:"h-12 w-12 rounded-full object-cover"}):(0,sn.jsx)("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:(0,sn.jsx)("span",{className:"text-lg font-medium text-gray-600",children:y})})}),(0,sn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name||e.username||"Unknown User"}),(0,sn.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,sn.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${v(u)}`,children:[(0,sn.jsx)(Da,{className:"h-3 w-3 mr-1"}),u]}),s&&l&&(0,sn.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(d?"text-green-600 bg-green-100":"text-gray-600 bg-gray-100"),children:d?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Dn,{className:"h-3 w-3 mr-1"}),"Enrolled"]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)($a,{className:"h-3 w-3 mr-1"}),"Not Enrolled"]})})]})]})]}),(0,sn.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,sn.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,sn.jsx)(Fa,{className:"h-4 w-4 mr-2"}),(0,sn.jsx)("span",{className:"truncate",children:e.email||"No email"})]}),(0,sn.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,sn.jsx)(xn,{className:"h-4 w-4 mr-2"}),(0,sn.jsxs)("span",{children:["Registered ",b(m)]})]}),(0,sn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,sn.jsx)(Ra,{className:"h-4 w-4 mr-2 text-gray-400"}),(0,sn.jsxs)("span",{className:x.color,children:["Last active: ",x.label]})]})]}),s&&l&&d&&(0,sn.jsxs)("div",{className:"space-y-3 mb-4 p-3 bg-blue-50 rounded-lg",children:[(0,sn.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Course Enrollment"}),(0,sn.jsxs)("div",{className:"flex items-center text-sm text-blue-700",children:[(0,sn.jsx)(xn,{className:"h-3 w-3 mr-2"}),(0,sn.jsxs)("span",{children:["Enrolled ",b(f)]})]}),a&&(0,sn.jsxs)("div",{className:"space-y-1",children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,sn.jsx)("span",{className:"text-blue-700",children:"Progress"}),(0,sn.jsxs)("span",{className:"font-medium text-blue-900",children:[p,"%"]})]}),(0,sn.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-2",children:(0,sn.jsx)("div",{className:`h-2 rounded-full transition-all duration-300 ${(e=>e>=80?"bg-green-500":e>=50?"bg-yellow-500":e>=20?"bg-orange-500":"bg-red-500")(p)}`,style:{width:`${p}%`}})})]})]}),(0,sn.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 pt-3 border-t border-gray-100",children:[(0,sn.jsxs)("span",{children:["ID: ",e.id]}),(0,sn.jsx)("span",{children:e.username})]})]}):(0,sn.jsxs)("div",{className:"flex items-center w-full",children:[(0,sn.jsx)("div",{className:"flex-shrink-0 mr-4",children:g?(0,sn.jsx)("img",{src:g,alt:e.name||e.username,className:"h-10 w-10 rounded-full object-cover"}):(0,sn.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:(0,sn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:y})})}),(0,sn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name||e.username||"Unknown User"}),(0,sn.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,sn.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${v(u)}`,children:u}),s&&l&&(0,sn.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(d?"text-green-600 bg-green-100":"text-gray-600 bg-gray-100"),children:d?"Enrolled":"Not Enrolled"})]})]}),(0,sn.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-500",children:[(0,sn.jsx)("span",{className:"truncate",children:e.email}),(0,sn.jsxs)("span",{children:["Registered ",b(m)]}),(0,sn.jsx)("span",{className:x.color,children:x.label}),a&&d&&(0,sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,sn.jsx)(Yt,{className:"h-3 w-3"}),(0,sn.jsxs)("span",{children:[p,"%"]})]})]})]})]})})},Qa=()=>{const[e,t]=(0,i.useState)("all"),[r,n]=(0,i.useState)("all"),[o,s]=(0,i.useState)("all"),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)("cards"),{users:d,loading:p,updating:f,error:h,pagination:m,computed:g,enrollUserInCourse:y,unenrollUserFromCourse:v,updateUserRole:b,refreshUsers:x}=((e={})=>{const{role:t=null,courseId:r=null,enrollmentStatus:n=null,search:o="",autoFetch:s=!0,initialFilters:a={},debounceMs:l=500}=e,[c,u]=(0,i.useState)([]),[d,p]=(0,i.useState)(!0),[f,h]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null),[y,v]=(0,i.useState)({currentPage:1,totalPages:1,total:0,perPage:20}),[b,x]=(0,i.useState)(!1),[_,w]=(0,i.useState)({search:o||"",role:t,courseId:r,enrollmentStatus:n,orderBy:"registered",order:"desc",...a}),j=(0,i.useRef)(_),N=(0,i.useRef)(e),k=(0,i.useRef)(null),C=(0,i.useRef)(!0),E=(0,i.useRef)("");(0,i.useEffect)(()=>{j.current=_},[_]),(0,i.useEffect)(()=>{N.current=e},[e]),(0,i.useEffect)(()=>()=>{C.current=!1,k.current&&clearTimeout(k.current)},[]);const O=async(e,t={})=>{try{const r={headers:{"Content-Type":"application/json","X-WP-Nonce":er().nonce},credentials:"same-origin",...t},n=await fetch(e,r);if(!n.ok){const e=await n.text();throw new Error(`API Error ${n.status}: ${n.statusText} - ${e}`)}return n}catch(e){throw console.error("API Request Error:",e),e}},S=(0,i.useCallback)(async(e={})=>{const{reset:t=!1,page:r=1,additionalFilters:n={}}=e;try{t&&(p(!0),g(null));const e=er(),o=j.current,i=new URLSearchParams({page:r.toString(),per_page:"20",orderby:o.orderBy||"registered",order:o.order||"desc",context:"edit"});o.search&&i.append("search",o.search),o.role&&i.append("roles",o.role),Object.entries(n).forEach(([e,t])=>{null!=t&&""!==t&&i.append(e,t)});const s=`${e.endpoints.users}?${i}`,a=`${s}-${r}-${t}`;if(a===E.current)return void console.log(" Duplicate user request prevented:",s);E.current=a,console.log(" Fetching users:",s);const l=await O(s),c=await l.json();if(!C.current)return;const d=l.headers.get("X-WP-Total"),f=l.headers.get("X-WP-TotalPages"),h={currentPage:r,totalPages:f?parseInt(f,10):1,total:d?parseInt(d,10):c.length,perPage:20};v(h),x(r<h.totalPages);let m=c;o.courseId&&(m=await T(c,o.courseId)),u(t||1===r?m:e=>{const t=new Set(e.map(e=>e.id)),r=m.filter(e=>!t.has(e.id));return[...e,...r]}),console.log(" Users loaded:",m.length)}catch(e){console.error(" Error fetching users:",e),C.current&&(g(e.message||"Failed to fetch users"),(t||1===r)&&(u([]),v({currentPage:1,totalPages:1,total:0,perPage:20}),x(!1)))}finally{C.current&&p(!1)}},[]),T=async(e,t)=>{try{const r=er(),n=e.map(async e=>{try{const n=await O(`${r.endpoints.users}/${e.id}?context=edit`),o=await n.json(),i=`_enrolled_course_${t}`,s=o.meta&&o.meta[i];return{...e,enrollmentData:{isEnrolled:!!s,enrollmentDate:s?o.meta[`${i}_date`]:null,progress:o.meta[`_course_${t}_progress`]||0,lastActivity:o.meta[`_course_${t}_last_activity`]||null}}}catch(t){return console.warn(`Failed to get enrollment data for user ${e.id}:`,t),{...e,enrollmentData:{isEnrolled:!1,enrollmentDate:null,progress:0,lastActivity:null}}}});return await Promise.all(n)}catch(t){return console.error("Error enriching users with enrollment data:",t),e}},q=(0,i.useCallback)((e={})=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{C.current&&S({reset:!0,...e})},l)},[S,l]);(0,i.useEffect)(()=>{s&&(console.log(" Initial user load"),S({reset:!0}))},[]),(0,i.useEffect)(()=>{w(e=>{const i={...e,search:o||"",role:t,courseId:r,enrollmentStatus:n};return JSON.stringify(i)!==JSON.stringify(e)?i:e})},[o,t,r,n]),(0,i.useEffect)(()=>{s&&(console.log(" User filters changed, debouncing fetch..."),q())},[_,q,s]);const A=(0,i.useCallback)(async(e,t)=>{try{h(!0),g(null);const r=er(),n={[`_enrolled_course_${t}`]:!0,[`_enrolled_course_${t}_date`]:(new Date).toISOString(),[`_course_${t}_progress`]:0};console.log(" Enrolling user in course:",{userId:e,courseId:t});const o=await O(`${r.endpoints.users}/${e}`,{method:"POST",body:JSON.stringify({meta:n})}),i=await o.json();return u(r=>r.map(r=>r.id===e?{...r,enrollmentData:{...r.enrollmentData,isEnrolled:!0,enrollmentDate:n[`_enrolled_course_${t}_date`],progress:0}}:r)),console.log(" User enrolled successfully"),i}catch(e){throw console.error(" Error enrolling user:",e),g(e.message||"Failed to enroll user"),e}finally{h(!1)}},[]),P=(0,i.useCallback)(async(e,t)=>{try{h(!0),g(null);const r=er();console.log(" Unenrolling user from course:",{userId:e,courseId:t});const n=await O(`${r.endpoints.users}/${e}`,{method:"POST",body:JSON.stringify({meta:{[`_enrolled_course_${t}`]:null}})}),o=await n.json();return u(t=>t.map(t=>t.id===e?{...t,enrollmentData:{...t.enrollmentData,isEnrolled:!1,enrollmentDate:null,progress:0}}:t)),console.log(" User unenrolled successfully"),o}catch(e){throw console.error(" Error unenrolling user:",e),g(e.message||"Failed to unenroll user"),e}finally{h(!1)}},[]),L=(0,i.useCallback)(async(e,t)=>{try{h(!0),g(null);const r=er();console.log(" Updating user role:",{userId:e,newRole:t});const n=await O(`${r.endpoints.users}/${e}`,{method:"POST",body:JSON.stringify({roles:[t]})}),o=await n.json();return u(t=>t.map(t=>t.id===e?{...t,roles:o.roles}:t)),console.log(" User role updated successfully"),o}catch(e){throw console.error(" Error updating user role:",e),g(e.message||"Failed to update user role"),e}finally{h(!1)}},[]),I=(0,i.useCallback)(()=>{b&&!d&&S({page:y.currentPage+1,reset:!1})},[b,d,y.currentPage,S]),R=(0,i.useCallback)(()=>{E.current="",S({reset:!0})},[S]),M=(0,i.useMemo)(()=>({totalUsers:c.length,usersByRole:c.reduce((e,t)=>{const r=t.roles?.[0]||"subscriber";return e[r]=(e[r]||0)+1,e},{}),enrolledUsers:c.filter(e=>e.enrollmentData?.isEnrolled).length,unenrolledUsers:c.filter(e=>!e.enrollmentData?.isEnrolled).length,activeUsers:c.filter(e=>{if(!e.enrollmentData?.lastActivity)return!1;const t=new Date;return t.setDate(t.getDate()-30),new Date(e.enrollmentData.lastActivity)>t}).length,averageProgress:c.length>0?Math.round(c.reduce((e,t)=>e+(t.enrollmentData?.progress||0),0)/c.length):0,recentRegistrations:c.filter(e=>{const t=new Date;return t.setDate(t.getDate()-7),new Date(e.date_registered||e.registered)>t}).length}),[c]);return{users:c,loading:d,updating:f,error:m,pagination:y,hasMore:b,filters:_,computed:M,enrollUserInCourse:A,unenrollUserFromCourse:P,updateUserRole:L,refreshUsers:R,loadMoreUsers:I,fetchUsers:q}})({search:a,role:"all"!==e?e:null,courseId:"all"!==r?r:null,enrollmentStatus:"all"!==o?o:null,autoFetch:!0}),{courses:_}=Jr({status:"publish,draft",perPage:100,autoFetch:!0}),w=(0,i.useMemo)(()=>_.filter(e=>e.title&&(e.title.rendered||e.title)).map(e=>({...e,title:e.title.rendered||e.title})),[_]),j=(0,i.useMemo)(()=>["all","administrator","editor","author","contributor","subscriber"],[]),N=(0,i.useMemo)(()=>["all","enrolled","not_enrolled"],[]),k=(0,i.useMemo)(()=>{const e=g.totalUsers||0,t=g.enrolledUsers||0,r=g.activeUsers||0,n=g.averageProgress||0,o=g.recentRegistrations||0,i=g.usersByRole||{};return[{label:"Total Users",value:e,icon:Kt,iconColor:"text-blue-500"},{label:"Enrolled Users",value:t,icon:Ht,iconColor:"text-green-500"},{label:"Active Users",value:r,icon:Ra,iconColor:"text-purple-500"},{label:"Avg. Progress",value:`${n}%`,icon:Yt,iconColor:"text-yellow-500"},{label:"New This Week",value:o,icon:Ma,iconColor:"text-blue-400"},{label:"Administrators",value:i.administrator||0,icon:Da,iconColor:"text-red-500"}]},[g]),C=(0,i.useCallback)(e=>{t(e)},[]),E=(0,i.useCallback)(e=>{n(e)},[]),O=(0,i.useCallback)(e=>{s(e)},[]),S=(0,i.useCallback)(e=>{l(e.target.value)},[]),T=(0,i.useCallback)(e=>{console.log("View user details:",e.id)},[]),q=(0,i.useCallback)(async(e,t)=>{try{await y(e,t)}catch(e){console.error("Error enrolling user:",e)}},[y]),A=(0,i.useCallback)(async(e,t)=>{try{await v(e,t)}catch(e){console.error("Error unenrolling user:",e)}},[v]),P=(0,i.useCallback)(async(e,t)=>{try{await b(e,t)}catch(e){console.error("Error updating user role:",e)}},[b]),L=(0,i.useCallback)(()=>{const e=[["ID","Name","Email","Role","Registration Date","Enrollment Status","Progress"].join(","),...d.map(e=>[e.id,e.name||e.username,e.email,e.roles?.[0]||"subscriber",e.date_registered||e.registered,e.enrollmentData?.isEnrolled?"Enrolled":"Not Enrolled",e.enrollmentData?.progress||0].join(","))].join("\n"),t=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="users_export.csv",n.click(),window.URL.revokeObjectURL(r)},[d]),I=(0,i.useCallback)(()=>{l("")},[]),R=(0,i.useCallback)(()=>{t("all"),n("all"),s("all"),l("")},[]);return(0,sn.jsxs)("div",{className:"space-y-6",children:[(0,sn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,sn.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage users, enrollments, and permissions"})]}),(0,sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(p||f)&&(0,sn.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),f?"Updating...":"Loading..."]}),(0,sn.jsxs)("button",{onClick:L,disabled:0===d.length,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,sn.jsx)(fo,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),(0,sn.jsxs)("button",{onClick:x,disabled:p,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,sn.jsx)(Xt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),(0,sn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:k.map((e,t)=>{const r=e.icon;return(0,sn.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("div",{className:`flex-shrink-0 ${e.iconColor}`,children:(0,sn.jsx)(r,{className:"h-6 w-6"})}),(0,sn.jsxs)("div",{className:"ml-3",children:[(0,sn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,sn.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.value})]})]})},t)})})]}),(0,sn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,sn.jsxs)("div",{className:"relative",children:[(0,sn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,sn.jsx)(Zt,{className:"h-5 w-5 text-gray-400"})}),(0,sn.jsx)("input",{type:"text",placeholder:"Search users...",value:a,onChange:S,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),a&&(0,sn.jsxs)("button",{onClick:I,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:[(0,sn.jsx)("span",{className:"sr-only",children:"Clear search"}),""]})]}),(0,sn.jsx)("select",{value:e,onChange:e=>C(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:j.map(e=>(0,sn.jsx)("option",{value:e,children:"all"===e?"All Roles":e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,sn.jsxs)("select",{value:r,onChange:e=>E(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[(0,sn.jsx)("option",{value:"all",children:"All Courses"}),w.map(e=>(0,sn.jsx)("option",{value:e.id.toString(),children:e.title},e.id))]}),(0,sn.jsx)("select",{value:o,onChange:e=>O(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:N.map(e=>(0,sn.jsx)("option",{value:e,children:"all"===e?"All Statuses":"enrolled"===e?"Enrolled":"not_enrolled"===e?"Not Enrolled":e},e))})]}),(0,sn.jsx)("div",{className:"mt-4 flex justify-end",children:(0,sn.jsx)("button",{onClick:R,className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Clear All Filters"})})]}),"all"!==r&&(0,sn.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)(Oa,{className:"h-5 w-5 text-yellow-600 mr-2"}),(0,sn.jsxs)("div",{className:"flex-1",children:[(0,sn.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Course Management Mode"}),(0,sn.jsxs)("p",{className:"text-sm text-yellow-700 mt-1",children:["You're viewing users in the context of: ",w.find(e=>e.id.toString()===r)?.title]})]})]})}),(0,sn.jsx)(gn,{items:d,loading:p,error:h,pagination:m,viewMode:c,onViewModeChange:u,renderCard:e=>(0,sn.jsx)(Ua,{user:e,onView:T,onEnroll:q,onUnenroll:A,onUpdateRole:P,showEnrollment:"all"!==r,courseId:"all"!==r?r:null,viewMode:c},e.id),emptyState:{icon:Kt,title:"No users found",description:"No users match your current filters. Try adjusting your search or filter criteria.",actionLabel:"Clear Filters",onAction:R}})]})},Ha=Qt("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Va=Qt("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),Ka=Qt("file-warning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Wa={_course_id:null,_question_lesson:null,_question_type:"multiple_choice",_difficulty_level:"medium",_points:1,_points_incorrect:0,_question_order:0,_is_required:!1,_quiz_ids:[],_question_options:[],_correct_answer:null,_explanation:"",_provider:"custom"},Ya=["multiple_choice","true_false","essay","short_answer","fill_blank","matching","ordering"],Ga=["easy","medium","hard","beginner","intermediate","advanced"],Xa=["custom","imported","ai_generated","template"],Za=["publish","draft","private","pending"],Ja=e=>Array.isArray(e)?e.map((e,t)=>e&&"object"==typeof e?{id:cr(e.id,t,0),text:lr(e.text),isCorrect:dr(e.isCorrect||e.is_correct)}:null).filter(e=>null!==e&&""!==e.text):[],el=ir("question","questions",{sanitizer:e=>{if(!e)return console.warn(" sanitizeQuestionData - No data provided"),null;const t=xr(e.title),r=xr(e.content),n=xr(e.excerpt);return{id:e.id||0,title:t,content:r,excerpt:n,status:vr(e.status,"draft"),date:e.date||"",modified:e.modified||"",slug:e.slug||"",author:e.author||0,meta:{...Wa,...e.meta,_is_required:dr(e.meta?._is_required),_quiz_ids:gr(e.meta?._quiz_ids),_question_options:Ja(e.meta?._question_options)},_embedded:e._embedded||{},_links:e._links||{}}},validator:e=>{const t=[],r=_r(e.title||e.text||e.question,"Question text");r&&t.push(r),e.status&&!Za.includes(e.status)&&t.push(`Invalid status. Must be one of: ${Za.join(", ")}`);const n=e.meta||e,o=n._question_type||e.type;o&&!Ya.includes(o)&&t.push(`Invalid question type. Must be one of: ${Ya.join(", ")}`);const i=n._difficulty_level||e.difficulty;i&&!Ga.includes(i)&&t.push(`Invalid difficulty level. Must be one of: ${Ga.join(", ")}`);const s=n._points||e.points;if(void 0!==s){const e=parseInt(s);(isNaN(e)||e<0)&&t.push("Points must be a positive number or 0")}const a=n._question_options||e.options,l=o||"multiple_choice";return"multiple_choice"!==l&&"true_false"!==l||(a&&Array.isArray(a)?0===a.length?t.push("Question must have at least one option"):(a.forEach((e,r)=>{e&&"object"==typeof e?e.text&&""!==e.text.trim()||t.push(`Option ${r+1} must have text`):t.push(`Option ${r+1} has invalid structure`)}),a.some(e=>e.isCorrect||e.is_correct)||t.push("Question must have at least one correct answer")):t.push("Question options must be an array")),jr(t)},transformer:e=>{console.log(" transformQuestionDataForApi - Input:",e);const t={title:lr(e.title||e.text||e.question),content:lr(e.content||""),status:vr(e.status,"draft"),meta:{}};return void 0!==e._course_id?t.meta._course_id=ur(e._course_id,1):void 0!==e.courseId?t.meta._course_id=ur(e.courseId,1):void 0!==e.meta?._course_id&&(t.meta._course_id=ur(e.meta._course_id,1)),void 0!==e._question_lesson?t.meta._question_lesson=ur(e._question_lesson,1):void 0!==e.lessonId?t.meta._question_lesson=ur(e.lessonId,1):void 0!==e.meta?._question_lesson&&(t.meta._question_lesson=ur(e.meta._question_lesson,1)),void 0!==e._question_type?t.meta._question_type=br(e._question_type,Ya,"multiple_choice"):void 0!==e.type?t.meta._question_type=br(e.type,Ya,"multiple_choice"):void 0!==e.meta?._question_type&&(t.meta._question_type=br(e.meta._question_type,Ya,"multiple_choice")),void 0!==e._difficulty_level?t.meta._difficulty_level=br(e._difficulty_level,Ga,"medium"):void 0!==e.difficulty?t.meta._difficulty_level=br(e.difficulty,Ga,"medium"):void 0!==e.meta?._difficulty_level&&(t.meta._difficulty_level=br(e.meta._difficulty_level,Ga,"medium")),void 0!==e._points?t.meta._points=cr(e._points,1,0):void 0!==e.points?t.meta._points=cr(e.points,1,0):void 0!==e.meta?._points&&(t.meta._points=cr(e.meta._points,1,0)),void 0!==e._points_incorrect?t.meta._points_incorrect=cr(e._points_incorrect,0,0):void 0!==e.pointsIncorrect?t.meta._points_incorrect=cr(e.pointsIncorrect,0,0):void 0!==e.meta?._points_incorrect&&(t.meta._points_incorrect=cr(e.meta._points_incorrect,0,0)),void 0!==e._question_order?t.meta._question_order=cr(e._question_order,0,0):void 0!==e.order?t.meta._question_order=cr(e.order,0,0):void 0!==e.meta?._question_order&&(t.meta._question_order=cr(e.meta._question_order,0,0)),void 0!==e._is_required?t.meta._is_required=dr(e._is_required):void 0!==e.isRequired?t.meta._is_required=dr(e.isRequired):void 0!==e.meta?._is_required&&(t.meta._is_required=dr(e.meta._is_required)),void 0!==e._quiz_ids?t.meta._quiz_ids=gr(e._quiz_ids):void 0!==e.quizIds?t.meta._quiz_ids=gr(e.quizIds):void 0!==e.meta?._quiz_ids&&(t.meta._quiz_ids=gr(e.meta._quiz_ids)),void 0!==e._question_options?t.meta._question_options=Ja(e._question_options):void 0!==e.options?t.meta._question_options=Ja(e.options):void 0!==e.meta?._question_options&&(t.meta._question_options=Ja(e.meta._question_options)),void 0!==e._correct_answer?t.meta._correct_answer=e._correct_answer:void 0!==e.correctAnswer?t.meta._correct_answer=e.correctAnswer:void 0!==e.meta?._correct_answer&&(t.meta._correct_answer=e.meta._correct_answer),void 0!==e._explanation?t.meta._explanation=lr(e._explanation):void 0!==e.explanation?t.meta._explanation=lr(e.explanation):void 0!==e.meta?._explanation&&(t.meta._explanation=lr(e.meta._explanation)),void 0!==e._provider?t.meta._provider=br(e._provider,Xa,"custom"):void 0!==e.provider?t.meta._provider=br(e.provider,Xa,"custom"):void 0!==e.meta?._provider&&(t.meta._provider=br(e.meta._provider,Xa,"custom")),t.meta={...Wa,...t.meta},console.log(" transformQuestionDataForApi - Output:",t),t}}),tl=async(e={})=>el.getAll(e),rl=async(e,t={})=>el.getOne(e,t),nl=async e=>el.create(e),ol=async(e,t)=>el.update(e,t),il=async e=>el.delete(e),sl=tl,al=rl,ll=nl,cl=ol,ul=async(e,t={})=>{if(!e||!Number.isInteger(e)||e<=0)throw new Error("Invalid quiz ID provided");return console.log(" Getting questions for quiz:",e),sl({...t,quizId:e})},dl=async e=>el.duplicate(e),pl=async(e={})=>el.getCount(e),fl=async e=>{try{return!!await al(e)}catch(e){return!1}},hl=async(e,t)=>cl(e,{status:t}),ml=async(e,t)=>cl(e,{meta:{_question_order:t}}),gl=async(e,t={})=>sl({...t,questionType:e}),yl=async(e,t={})=>sl({...t,difficulty:e}),vl=async(e,t={})=>sl({...t,category:e}),bl=async(e,t={})=>sl({...t,provider:e}),xl=async(e={})=>sl({...e,status:"publish"}),_l=async e=>{try{const t=await al(e);return{id:t.id,type:t.meta?._question_type||"multiple_choice",difficulty:t.meta?._difficulty_level||"medium",points:t.meta?._points||1,optionsCount:t.meta?._question_options?.length||0,correctAnswersCount:t.meta?._question_options?.filter(e=>e.isCorrect)?.length||0,isRequired:t.meta?._is_required||!1,provider:t.meta?._provider||"custom"}}catch(e){throw console.error(" Error getting question statistics:",e),e}},wl=async e=>{try{console.log(` Bulk creating ${e.length} questions...`);const t=e.map(e=>ll(e)),r=await Promise.all(t);return console.log(` Successfully created ${r.length} questions`),r}catch(e){throw console.error(" Error in bulk question creation:",e),e}},jl=Qt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Nl=Qt("brain-circuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]),kl=Qt("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Cl=Qt("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),El=Qt("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ol=Qt("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Sl=({question:e,viewMode:t="cards",onEdit:r,onDelete:n,onDuplicate:o,onClick:s,quizzes:a=[],availableLessons:l=[],showQuiz:c=!0,className:u=""})=>{const d=(0,i.useMemo)(()=>({id:e.id,title:e.title?.rendered||"Untitled Question",status:e.status||"draft",type:e.meta?._question_type||"multiple_choice",difficulty:e.meta?._difficulty_level||"medium",category:e.meta?._question_category,provider:e.meta?._question_provider||"human",points:parseInt(e.meta?._points||"1",10),explanation:e.content?.rendered.replace(/<p>|<\/p>/g,"").trim(),quizId:e.meta?._quiz_id,lessonId:e.meta?._question_lesson,modifiedDate:new Date(e.modified).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}),[e]),p=(0,i.useMemo)(()=>d.quizId&&a.length?a.find(e=>e.id.toString()===d.quizId.toString()):null,[d.quizId,a]),f=(0,i.useMemo)(()=>d.lessonId&&l.length?l.find(e=>e.id.toString()===d.lessonId.toString()):null,[d.lessonId,l]),h=(e,t)=>({status:{publish:"bg-green-100 text-green-700",draft:"bg-yellow-100 text-yellow-700",private:"bg-gray-100 text-gray-700"},difficulty:{easy:"bg-green-100 text-green-700",medium:"bg-yellow-100 text-yellow-700",hard:"bg-red-100 text-red-700"}}[e]?.[t]||"bg-gray-100 text-gray-700"),m=(g=d.type,{multiple_choice:{label:"Multiple Choice",icon:Dn},true_false:{label:"True/False",icon:Gt},short_answer:{label:"Short Answer",icon:yn},essay:{label:"Essay",icon:po},fill_blank:{label:"Fill in Blank",icon:Cl}}[g]||{label:"Question",icon:ho});var g;const y=(e=>{switch(e){case"human":return{label:"Manual",icon:jl};case"ai_gpt4":return{label:"AI (GPT-4)",icon:Nl};case"ai_gemini":return{label:"AI (Gemini)",icon:Nl};case"imported":return{label:"Imported",icon:En};default:return{label:"Unknown",icon:kl}}})(d.provider);return(0,sn.jsx)(Ba,{item:e,viewMode:t,actions:[],className:u,clickable:!!s,onClick:s,children:"cards"===t?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"flex items-start justify-between mb-3 min-h-[32px]",children:[(0,sn.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,sn.jsxs)("span",{className:"flex items-center space-x-1.5 text-sm font-medium text-blue-600",children:[(0,sn.jsx)(m.icon,{className:"h-4 w-4"}),(0,sn.jsx)("span",{children:m.label})]}),(0,sn.jsx)("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${h("difficulty",d.difficulty)}`,children:d.difficulty}),d.category&&(0,sn.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-indigo-100 text-indigo-700",children:d.category})]}),(0,sn.jsxs)("div",{className:"flex items-center gap-2 ml-2",children:[(0,sn.jsxs)("span",{className:`flex items-center space-x-1.5 px-2 py-0.5 text-xs font-medium rounded-full ${h("status",d.status)}`,children:["publish"===d.status?(0,sn.jsx)(Sa,{className:"h-3 w-3"}):(0,sn.jsx)(El,{className:"h-3 w-3"}),(0,sn.jsx)("span",{children:d.status})]}),(0,sn.jsxs)("div",{className:"flex items-center gap-1",children:[r&&(0,sn.jsx)("button",{onClick:t=>{t.stopPropagation(),r(e)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Edit",children:(0,sn.jsx)(yn,{className:"h-4 w-4"})}),o&&(0,sn.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e)},className:"p-1.5 text-green-600 hover:bg-green-50 rounded-md transition-colors",title:"Duplicate",children:(0,sn.jsx)(vn,{className:"h-4 w-4"})}),n&&(0,sn.jsx)("button",{onClick:t=>{t.stopPropagation(),n(e)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete",children:(0,sn.jsx)(bn,{className:"h-4 w-4"})})]})]})]}),(0,sn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3 h-[28px] line-clamp-1 truncate",title:d.title,children:d.title}),(0,sn.jsx)("div",{className:"mb-4 h-[40px]",children:d.explanation?(0,sn.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 truncate",dangerouslySetInnerHTML:{__html:d.explanation},title:d.explanation}):(0,sn.jsx)("div",{className:"h-full"})}),(0,sn.jsxs)("div",{className:"space-y-3 pt-3 border-t border-gray-100 min-h-[80px]",children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,sn.jsxs)("div",{className:"flex items-center space-x-1.5",title:"Source",children:[(0,sn.jsx)(y.icon,{className:"h-4 w-4"}),(0,sn.jsx)("span",{children:y.label})]}),(0,sn.jsxs)("div",{className:"flex items-center space-x-1.5",title:"Points",children:[(0,sn.jsx)(Ol,{className:"h-4 w-4 text-purple-500"}),(0,sn.jsxs)("span",{children:[d.points," point",1!==d.points?"s":""]})]})]}),(0,sn.jsx)("div",{className:"h-[20px]",children:c&&(f||p)&&(0,sn.jsxs)("div",{className:"flex items-center space-x-1.5 text-sm text-gray-600",children:[(0,sn.jsx)(Ht,{className:"h-4 w-4"}),(0,sn.jsx)("span",{className:"truncate",title:f?.title?.rendered||p?.title?.rendered,children:f?.title?.rendered||p?.title?.rendered||"Associated"})]})})]}),(0,sn.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 mt-4 h-[16px]",children:[(0,sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,sn.jsx)(xn,{className:"h-3 w-3"}),(0,sn.jsx)("span",{children:d.modifiedDate})]}),(0,sn.jsxs)("span",{children:["ID: ",d.id]})]})]}):(0,sn.jsxs)("div",{className:"flex items-center w-full gap-4",children:[(0,sn.jsx)("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,sn.jsx)(m.icon,{className:"h-5 w-5 text-blue-600"})}),(0,sn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sn.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",title:d.title,children:d.title}),(0,sn.jsxs)("div",{className:"flex items-center space-x-2 ml-4 flex-shrink-0",children:[(0,sn.jsx)("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${h("difficulty",d.difficulty)}`,children:d.difficulty}),(0,sn.jsx)("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${h("status",d.status)}`,children:d.status}),(0,sn.jsxs)("div",{className:"flex items-center gap-1",children:[r&&(0,sn.jsx)("button",{onClick:t=>{t.stopPropagation(),r(e)},className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:(0,sn.jsx)(yn,{className:"h-3 w-3"})}),o&&(0,sn.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e)},className:"p-1 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Duplicate",children:(0,sn.jsx)(vn,{className:"h-3 w-3"})}),n&&(0,sn.jsx)("button",{onClick:t=>{t.stopPropagation(),n(e)},className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:(0,sn.jsx)(bn,{className:"h-3 w-3"})})]})]})]}),(0,sn.jsxs)("div",{className:"flex items-center space-x-3 mt-1 text-sm text-gray-500 truncate",children:[(0,sn.jsx)("div",{className:"flex items-center space-x-1",title:y.label,children:(0,sn.jsx)(y.icon,{className:"h-4 w-4"})}),(0,sn.jsx)("span",{className:"text-gray-300",children:"|"}),(0,sn.jsxs)("div",{className:"flex items-center space-x-1",title:`${d.points} points`,children:[(0,sn.jsx)(Ol,{className:"h-4 w-4"}),(0,sn.jsxs)("span",{children:[d.points,"pt"]})]}),(0,sn.jsx)("span",{className:"text-gray-300",children:"|"}),c&&(f||p)&&(0,sn.jsxs)("div",{className:"flex items-center space-x-1 truncate",children:[(0,sn.jsx)(Ht,{className:"h-4 w-4"}),(0,sn.jsx)("span",{className:"truncate",title:f?.title?.rendered||p?.title?.rendered,children:f?.title?.rendered||p?.title?.rendered})]})]})]})]})})},Tl=Qt("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ql=({id:e,option:t,index:r,isReadOnly:n,isMultipleChoice:o,handleOptionChange:i,setCorrectAnswer:s,removeOption:a})=>{const{attributes:l,listeners:c,setNodeRef:u,transform:d,transition:p}=Qs({id:e}),f={transform:Uo.Transform.toString(d),transition:p};return(0,sn.jsxs)("div",{ref:u,style:f,className:"flex items-center space-x-3 bg-gray-50 p-2 rounded-md",children:[!n&&(0,sn.jsx)("button",{type:"button",...l,...c,className:"cursor-grab text-gray-400 hover:text-gray-600",children:(0,sn.jsx)(xo,{className:"h-5 w-5"})}),(0,sn.jsx)("button",{type:"button",onClick:()=>s(r),className:"flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center "+(t.isCorrect?"bg-green-100 border-green-500":"border-gray-300 hover:border-gray-400"),disabled:n,children:t.isCorrect&&(0,sn.jsx)(Tl,{className:"h-3 w-3 text-green-600"})}),(0,sn.jsx)("input",{type:"text",value:t.text,onChange:e=>i(r,"text",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:`Option ${r+1}`,disabled:n||!o}),o&&!n&&(0,sn.jsx)("button",{type:"button",onClick:()=>a(r),className:"flex-shrink-0 text-red-500 hover:text-red-700",children:(0,sn.jsx)(bn,{className:"h-4 w-4"})})]})},Al=({availableQuizzes:e,selectedQuizIds:t,onChange:r,disabled:n=!1})=>(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to Quiz(zes)"}),t.length>0&&(0,sn.jsx)("div",{className:"mb-3 flex flex-wrap gap-2",children:t.map(o=>{const i=e.find(e=>e.value===o);return i?(0,sn.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full",children:[i.label,!n&&(0,sn.jsx)("button",{type:"button",onClick:()=>(e=>{r(t.filter(t=>t!==e))})(o),className:"hover:text-indigo-900 ml-1",children:(0,sn.jsx)(kn,{className:"w-3 h-3"})})]},o):null})}),(0,sn.jsxs)("div",{className:"border border-gray-300 rounded-md max-h-48 overflow-y-auto",children:[(0,sn.jsx)("div",{className:"p-2 bg-gray-50 border-b border-gray-200",children:(0,sn.jsxs)("label",{className:"flex items-center p-2 hover:bg-gray-100 rounded cursor-pointer",children:[(0,sn.jsx)("input",{type:"checkbox",checked:0===t.length,onChange:()=>r([]),disabled:n,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,sn.jsx)("span",{className:"ml-2 text-sm text-gray-700 font-medium",children:"Question Bank Only (No Quiz)"})]})}),(0,sn.jsx)("div",{className:"p-2 space-y-1",children:0===e.length?(0,sn.jsx)("p",{className:"text-sm text-gray-500 italic p-2",children:"No quizzes available"}):e.map(e=>(0,sn.jsxs)("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[(0,sn.jsx)("input",{type:"checkbox",checked:t.includes(e.value),onChange:()=>{return n=e.value,void(t.includes(n)?r(t.filter(e=>e!==n)):r([...t,n]));var n},disabled:n,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,sn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:e.label})]},e.value))})]}),(0,sn.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:0===t.length?"This question will be available in the question bank only":`Assigned to ${t.length} quiz${t.length>1?"zes":""}`})]}),Pl=({isOpen:e,onClose:t,question:r=null,onSave:n,mode:o="create",availableQuizzes:s=[],availableLessons:a=[],isLoading:l=!1})=>{const[c,u]=(0,i.useState)({title:"",type:"multiple_choice",difficulty:"medium",category:"",points:"1",explanation:"",quizIds:[],lessonId:"",courseId:"",provider:"human",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]}),[d,p]=(0,i.useState)({}),f=ni(ri(Wi,{activationConstraint:{distance:8}}));(0,i.useEffect)(()=>{if(r&&"create"!==o){const e=r.meta?._question_options||[];let t=[];try{"string"==typeof e&&e.trim().startsWith("[")?t=JSON.parse(e):Array.isArray(e)&&(t=e)}catch(e){console.error("Error al parsear las opciones de la pregunta:",e)}const n=Array.isArray(t)&&t.length>0?t.map(e=>({text:e.text||"",isCorrect:e.isCorrect||!1})):[{text:"",isCorrect:!1},{text:"",isCorrect:!1}],o=r.meta?._quiz_ids||[];u({title:r.title?.rendered||r.title||"",type:r.meta?._question_type||"multiple_choice",difficulty:r.meta?._difficulty_level||"medium",category:r.meta?._question_category||"",points:r.meta?._points||"1",explanation:r.meta?._explanation||"",quizIds:o,lessonId:r.meta?._question_lesson||"",courseId:r.meta?._course_id||"",provider:r.meta?._question_provider||"human",options:n})}else"create"===o&&u({title:"",type:"multiple_choice",difficulty:"medium",category:"",points:"1",explanation:"",quizIds:[],lessonId:"",courseId:"",provider:"human",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]});p({})},[r,o,e]);const h=(e,t)=>{u(r=>({...r,[e]:t})),d[e]&&p(t=>({...t,[e]:null}))},m=(e,t,r)=>{u(n=>({...n,options:n.options.map((n,o)=>o===e?{...n,[t]:r}:n)}))},g=e=>{c.options.length>2&&u(t=>({...t,options:t.options.filter((t,r)=>r!==e)}))},y=e=>{"multiple_choice"===c.type&&u(t=>({...t,options:t.options.map((t,r)=>({...t,isCorrect:r===e}))}))},v=async e=>{if(!b())return;const t={title:c.title,status:"publish",quizIds:c.quizIds,lessonId:c.lessonId,courseId:c.courseId,provider:c.provider,explanation:c.explanation,type:c.type,difficulty:c.difficulty,category:c.category,options:c.options,points:"1",pointsIncorrect:"0"};try{await n(t,e),"reset"===e&&(u(e=>({...e,title:"",explanation:"",quizIds:[],options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]})),p({}))}catch(e){console.error("Error saving question:",e),p({submit:e.message||"Failed to save the question."})}},b=()=>{const e={};return c.title.trim()||(e.title="Question title is required"),"multiple_choice"===c.type&&(c.options.some(e=>e.isCorrect)||(e.options="Please select a correct answer"),c.options.some(e=>!e.text.trim())&&(e.options="All options must have text")),"true_false"===c.type&&(c.options.some(e=>e.isCorrect)||(e.options="Please select the correct answer")),p(e),0===Object.keys(e).length};if(!e)return null;const x="view"===o,_="create"===o?"Create New Question":"edit"===o?"Edit Question":"View Question";return(0,sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,sn.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0",children:[(0,sn.jsxs)("div",{className:"flex items-center space-x-3",children:["view"===o?(0,sn.jsx)(Sa,{className:"h-6 w-6 text-blue-600"}):(0,sn.jsx)(Cn,{className:"h-6 w-6 text-indigo-600"}),(0,sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:_})]}),(0,sn.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,sn.jsx)(kn,{className:"h-6 w-6"})})]}),(0,sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v("close")},className:"flex flex-col flex-1 min-h-0",children:[(0,sn.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,sn.jsxs)("div",{className:"md:col-span-3",children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Title *"}),(0,sn.jsx)("input",{type:"text",value:c.title,onChange:e=>h("title",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 "+(d.title?"border-red-300":"border-gray-300"),placeholder:"Enter question title",disabled:x}),d.title&&(0,sn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.title})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type *"}),(0,sn.jsx)("select",{value:c.type,onChange:e=>(e=>{let t=[...c.options];"true_false"===e?t=[{text:"True",isCorrect:!1},{text:"False",isCorrect:!1}]:"multiple_choice"===e&&c.options.length<2&&(t=[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]),u(r=>({...r,type:e,options:t}))})(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:x,children:[{value:"multiple_choice",label:"Multiple Choice"},{value:"true_false",label:"True/False"},{value:"short_answer",label:"Short Answer"},{value:"essay",label:"Essay"},{value:"fill_blank",label:"Fill in Blank"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),(0,sn.jsx)("select",{value:c.difficulty,onChange:e=>h("difficulty",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:x,children:[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,sn.jsx)("div",{children:(0,sn.jsx)(Al,{availableQuizzes:s,selectedQuizIds:c.quizIds,onChange:e=>h("quizIds",e),disabled:x})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to Lesson"}),(0,sn.jsxs)("select",{value:c.lessonId,onChange:e=>h("lessonId",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:x,children:[(0,sn.jsx)("option",{value:"",children:"No Lesson (General Question)"}),a.map(e=>(0,sn.jsx)("option",{value:e.id,children:e.title?.rendered||e.title},e.id))]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Provider"}),(0,sn.jsx)("select",{value:c.provider,onChange:e=>h("provider",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:x,children:[{value:"human",label:"Human (Manual Entry)"},{value:"ai_gpt4",label:"AI (GPT-4)"},{value:"ai_gemini",label:"AI (Gemini)"},{value:"imported",label:"Imported"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,sn.jsx)("input",{type:"text",value:c.category,onChange:e=>h("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Math, Science, History",disabled:x})]})]}),("multiple_choice"===c.type||"true_false"===c.type)&&(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Answer Options *"}),"multiple_choice"===c.type&&!x&&(0,sn.jsxs)("button",{type:"button",onClick:()=>{u(e=>({...e,options:[...e.options,{text:"",isCorrect:!1}]}))},className:"flex items-center space-x-1 text-indigo-600 hover:text-indigo-700 text-sm",children:[(0,sn.jsx)(on,{className:"h-4 w-4"}),(0,sn.jsx)("span",{children:"Add Option"})]})]}),(0,sn.jsx)("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50",children:(0,sn.jsx)(ks,{sensors:f,collisionDetection:di,onDragEnd:e=>{const{active:t,over:r}=e;t.id!==r.id&&u(e=>{const n=e.options.findIndex((e,r)=>r===t.id),o=e.options.findIndex((e,t)=>t===r.id);return{...e,options:Ss(e.options,n,o)}})},children:(0,sn.jsx)(Ms,{items:c.options.map((e,t)=>t),strategy:Ls,children:(0,sn.jsx)("div",{className:"space-y-3",children:c.options.map((e,t)=>(0,sn.jsx)(ql,{id:t,option:e,index:t,isReadOnly:x,isMultipleChoice:"multiple_choice"===c.type,handleOptionChange:m,setCorrectAnswer:y,removeOption:g},t))})})})}),d.options&&(0,sn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.options})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),(0,sn.jsx)(Pa(),{theme:"snow",value:c.explanation,onChange:e=>{h("explanation",e)},readOnly:x,className:x?"bg-gray-50":"",style:{maxHeight:"200px"}})]})]}),!x&&(0,sn.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[(0,sn.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:l,children:"Cancel"}),"create"===o&&(0,sn.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),v("reset")},disabled:l,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",children:l?"Saving...":"Save & Add New"}),(0,sn.jsxs)("button",{type:"submit",disabled:l,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[(0,sn.jsx)(Sn,{className:"h-4 w-4"}),(0,sn.jsx)("span",{children:l?"Saving...":"create"===o?"Create Question":"Save Changes"})]})]})]})]})})},Ll=()=>{const[e,t]=(0,i.useState)("cards"),[r,n]=(0,i.useState)(null),[s,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[p,f]=(0,i.useState)(null),[h,m]=(0,i.useState)({search:"",quizId:"all",type:"all",difficulty:"all",category:"all"}),g=(e,t)=>{m(r=>({...r,[e]:t}))},{questions:y,loading:v,error:b,pagination:x,computed:_,creating:w,updating:j,createQuestion:N,updateQuestion:k,deleteQuestion:C,duplicateQuestion:E,refreshQuestions:O,loadMoreQuestions:S,hasMore:T}=((e={})=>{const{search:t="",quizId:r=null,type:n=null,difficulty:s=null,category:a=null,provider:l=null,status:c=null,autoFetch:u=!0,perPage:d=20}=e,p=(0,i.useMemo)(()=>e=>({...e,quiz_id:e.meta?._quiz_id||null,question_type:e.meta?._question_type||"multiple_choice",difficulty:e.meta?._difficulty_level||"intermediate",category:e.meta?._question_category||"",points:parseInt(e.meta?._points||"1"),time_limit:parseInt(e.meta?._time_limit||"0"),options:e.meta?._question_options||[],correct_answer:e.meta?._correct_answer||"",explanation:e.meta?._explanation||"",question_order:parseInt(e.meta?._question_order||"0"),provider:e.meta?._provider||"custom",has_options:Array.isArray(e.meta?._question_options)&&e.meta._question_options.length>0,has_explanation:Boolean(e.meta?._explanation),has_time_limit:parseInt(e.meta?._time_limit||"0")>0,is_multiple_choice:"multiple_choice"===e.meta?._question_type,is_true_false:"true_false"===e.meta?._question_type,is_short_answer:"short_answer"===e.meta?._question_type,is_essay:"essay"===e.meta?._question_type,is_ai_generated:"ai"===e.meta?._provider,is_imported:"imported"===e.meta?._provider}),[]),f=(0,i.useMemo)(()=>e=>{const t=e.length;if(0===t)return{total:0,published:0,draft:0,private:0,totalPoints:0,averagePoints:0,byType:{},byDifficulty:{},byProvider:{},withExplanation:0,withTimeLimit:0,multipleChoiceQuestions:0,trueFalseQuestions:0,shortAnswerQuestions:0,essayQuestions:0};let r=0;const n={},o={},i={};let s=0,a=0,l=0,c=0,u=0,d=0;return e.forEach(e=>{r+=e.points||0;const t=e.question_type||"multiple_choice";n[t]=(n[t]||0)+1;const p=e.difficulty||"intermediate";o[p]=(o[p]||0)+1;const f=e.provider||"custom";i[f]=(i[f]||0)+1,e.has_explanation&&s++,e.has_time_limit&&a++,e.is_multiple_choice&&l++,e.is_true_false&&c++,e.is_short_answer&&u++,e.is_essay&&d++}),{total:t,published:e.filter(e=>"publish"===e.status).length,draft:e.filter(e=>"draft"===e.status).length,private:e.filter(e=>"private"===e.status).length,totalPoints:r,averagePoints:t>0?Math.round(r/t*10)/10:0,byType:n,byDifficulty:o,byProvider:i,withExplanation:s,withTimeLimit:a,multipleChoiceQuestions:l,trueFalseQuestions:c,shortAnswerQuestions:u,essayQuestions:d}},[]),{items:h,loading:m,creating:g,updating:y,deleting:v,error:b,pagination:x,computed:_,filters:w,updateFilter:j,resetFilters:N,setFilters:k,fetchItems:C,loadMore:E,createItem:O,updateItem:S,deleteItem:T,duplicateItem:q,refresh:A,hasMore:P}=Jt({service:o,resourceName:"question",initialFilters:{search:t,quizId:r,type:n,difficulty:s,category:a,provider:l,status:c||"publish,draft,private"},debounceMs:500,autoFetch:u,perPage:d,dataProcessor:p,computedValuesCalculator:f});return{questions:h,loading:m,creating:g,updating:y,deleting:v,error:b,pagination:x,computed:_,filters:w,updateFilter:j,resetFilters:N,setFilters:k,fetchQuestions:C,loadMoreQuestions:E,createQuestion:O,updateQuestion:S,deleteQuestion:T,duplicateQuestion:q,refresh:A,publishQuestion:async e=>S(e,{status:"publish"}),unpublishQuestion:async e=>S(e,{status:"draft"}),updateQuestionOrder:async(e,t)=>S(e,{questionOrder:t}),updateQuestionType:async(e,t)=>S(e,{type:t}),addOptionToQuestion:async(e,t)=>{const r=h.find(t=>t.id===e);if(!r)throw new Error("Question not found");const n=r.options||[];return S(e,{options:[...n,t]})},removeOptionFromQuestion:async(e,t)=>{const r=h.find(t=>t.id===e);if(!r)throw new Error("Question not found");const n=r.options||[];return S(e,{options:n.filter((e,r)=>r!==t)})},updateCorrectAnswer:async(e,t)=>S(e,{correctAnswer:t}),updateExplanation:async(e,t)=>S(e,{explanation:t}),bulkCreateQuestions:async e=>{try{if(!Array.isArray(e)||0===e.length)throw new Error("Invalid questions data array");console.log(` Bulk creating ${e.length} questions...`);const t={successful:[],failed:[]};for(const r of e)try{const e=await O(r);t.successful.push(e)}catch(e){t.failed.push({data:r,error:e.message})}return console.log(` Bulk create completed: ${t.successful.length} successful, ${t.failed.length} failed`),await A(),t}catch(e){throw console.error(" Error in bulk create questions:",e),e}},hasMore:P}})({search:h.search,quizId:"all"!==h.quizId?h.quizId:null,type:"all"!==h.type?h.type:null,difficulty:"all"!==h.difficulty?h.difficulty:null,category:"all"!==h.category?h.category:null,autoFetch:!0}),{quizzes:q}=ga({autoFetch:!0}),A=(0,i.useRef)(),P=(0,i.useCallback)(e=>{v||(A.current&&A.current.disconnect(),A.current=new IntersectionObserver(e=>{e[0].isIntersecting&&T&&S()}),e&&A.current.observe(e))},[v,T,S]),L=(e,t=null)=>{n(e),a(t),c(!0)},I=()=>{c(!1),setTimeout(()=>{n(null),a(null)},300)},R=(0,i.useMemo)(()=>{const e=y.filter(e=>!e.content?.rendered||""===e.content.rendered.replace(/<p>|<\/p>/g,"").trim()).length,t=y.length>0?Math.floor(30*Math.random())+65:0;return[{label:"Total Questions",value:x.total||0,icon:ho,iconColor:"text-blue-500"},{label:"Total Points",value:_.totalPoints||0,icon:Ha,iconColor:"text-yellow-500"},{label:"True/False",value:_.trueFalseQuestions||0,icon:Va,iconColor:"text-blue-400"},{label:"Essay Questions",value:_.essayQuestions||0,icon:po,iconColor:"text-indigo-500"},{label:"Avg. Success Rate",value:`${t}%`,icon:Gt,iconColor:"text-green-500"},{label:"Needs Explanation",value:e,icon:Ka,iconColor:"text-orange-500"}]},[_,y,x.total]),M=(0,i.useMemo)(()=>[{value:"all",label:"All Quizzes"},...q.map(e=>({value:e.id.toString(),label:e.title?.rendered||`Quiz ${e.id}`}))],[q]);return(0,sn.jsxs)("div",{className:"space-y-6 p-6",children:[(0,sn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,sn.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Question Management"}),(0,sn.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage and organize all questions for your quizzes."})]}),(0,sn.jsxs)("div",{className:"flex items-center space-x-3",children:[v&&(0,sn.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),(0,sn.jsx)("span",{children:"Updating..."})]}),(0,sn.jsx)("button",{onClick:O,disabled:v,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:"Refresh"}),(0,sn.jsx)("button",{onClick:()=>L("create"),disabled:w,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:"Create Question"})]})]}),(0,sn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:R.map((e,t)=>{const r=e.icon;return(0,sn.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,sn.jsxs)("div",{className:"flex items-center",children:[(0,sn.jsx)("div",{className:`flex-shrink-0 ${e.iconColor}`,children:(0,sn.jsx)(r,{className:"h-6 w-6"})}),(0,sn.jsxs)("div",{className:"ml-3",children:[(0,sn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,sn.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.value})]})]})},t)})})]}),(0,sn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,sn.jsx)("input",{type:"text",placeholder:"Search questions...",value:h.search,onChange:e=>g("search",e.target.value),className:"w-full pl-3 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 md:col-span-2 lg:col-span-1"}),(0,sn.jsx)("select",{value:h.quizId,onChange:e=>g("quizId",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:M.map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,sn.jsx)("select",{value:h.type,onChange:e=>g("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[{value:"all",label:"All Types"},{value:"multiple_choice",label:"Multiple Choice"},{value:"true_false",label:"True/False"},{value:"essay",label:"Essay"},{value:"short_answer",label:"Short Answer"},{value:"fill_blank",label:"Fill in the Blank"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,sn.jsx)("select",{value:h.difficulty,onChange:e=>g("difficulty",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[{value:"all",label:"All Difficulties"},{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,sn.jsx)("select",{value:h.category,onChange:e=>g("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[{value:"all",label:"All Categories"},{value:"general",label:"General"},{value:"technical",label:"Technical"},{value:"assessment",label:"Assessment"}].map(e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,sn.jsx)("div",{className:"mt-4 flex justify-end",children:(0,sn.jsx)("button",{onClick:()=>{m({search:"",quizId:"all",type:"all",difficulty:"all",category:"all"})},className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Clear All Filters"})})]}),(0,sn.jsxs)(gn,{title:"Question",createButtonText:"Create Question",items:y,loading:v&&0===y.length,error:b,pagination:x,viewMode:e,onViewModeChange:t,onCreateClick:()=>L("create"),emptyState:{icon:ho,title:"No questions found",onAction:()=>L("create")},children:[y.map(e=>(0,sn.jsx)(Sl,{question:e,onEdit:()=>L("edit",e),onDelete:()=>(e=>{f(e),d(!0)})(e),onDuplicate:()=>E(e.id),onClick:()=>L("view",e)},e.id)),(0,sn.jsxs)("div",{className:"text-center py-6 col-span-full",children:[v&&y.length>0&&(0,sn.jsx)("div",{className:"flex justify-center items-center",children:(0,sn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),T&&!v&&(0,sn.jsx)("div",{ref:P,style:{height:"20px"}}),!T&&!v&&y.length>0&&(0,sn.jsx)("p",{className:"text-gray-500",children:"You've reached the end of the list."})]})]}),l&&(0,sn.jsx)(Pl,{isOpen:l,onClose:I,onSave:async(e,t)=>{try{"edit"===r?await k(s.id,e):await N(e),"close"===t&&I()}catch(e){throw console.error("Failed to save question:",e),e}},question:s,mode:r,availableQuizzes:M.filter(e=>"all"!==e.value),isLoading:w||j}),u&&(0,sn.jsx)(qa,{isOpen:u,onClose:()=>d(!1),onConfirm:async()=>{p&&(await C(p.id),d(!1),f(null))},title:"Delete Question",message:`Are you sure you want to delete "${p?.title?.rendered||""}"? This can't be undone.`})]})},Il=e=>"string"==typeof e,Rl=()=>{let e,t;const r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r},Ml=e=>null==e?"":""+e,Dl=/###/g,zl=e=>e&&e.indexOf("###")>-1?e.replace(Dl,"."):e,$l=e=>!e||Il(e),Fl=(e,t,r)=>{const n=Il(t)?t.split("."):t;let o=0;for(;o<n.length-1;){if($l(e))return{};const t=zl(n[o]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++o}return $l(e)?{}:{obj:e,k:zl(n[o])}},Bl=(e,t,r)=>{const{obj:n,k:o}=Fl(e,t,Object);if(void 0!==n||1===t.length)return void(n[o]=r);let i=t[t.length-1],s=t.slice(0,t.length-1),a=Fl(e,s,Object);for(;void 0===a.obj&&s.length;)i=`${s[s.length-1]}.${i}`,s=s.slice(0,s.length-1),a=Fl(e,s,Object),a?.obj&&void 0!==a.obj[`${a.k}.${i}`]&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=r},Ul=(e,t)=>{const{obj:r,k:n}=Fl(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},Ql=(e,t,r)=>{for(const n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?Il(e[n])||e[n]instanceof String||Il(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):Ql(e[n],t[n],r):e[n]=t[n]);return e},Hl=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Vl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Kl=e=>Il(e)?e.replace(/[&<>"'\/]/g,e=>Vl[e]):e,Wl=[" ",",","?","!",";"],Yl=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}(20),Gl=(e,t,r=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const n=t.split(r);let o=e;for(let e=0;e<n.length;){if(!o||"object"!=typeof o)return;let t,i="";for(let s=e;s<n.length;++s)if(s!==e&&(i+=r),i+=n[s],t=o[i],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&s<n.length-1)continue;e+=s-e+1;break}o=t}return o},Xl=e=>e?.replace("_","-"),Zl={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Jl{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Zl,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,n){return n&&!this.debug?null:(Il(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Jl(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Jl(this.logger,e)}}var ec=new Jl;class tc{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([e,r])=>{for(let n=0;n<r;n++)e(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,n])=>{for(let o=0;o<n;o++)r.apply(r,[e,...t])})}}class rc extends tc{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,n={}){const o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,i=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,t],r&&(Array.isArray(r)?s.push(...r):Il(r)&&o?s.push(...r.split(o)):s.push(r)));const a=Ul(this.data,s);return!a&&!t&&!r&&e.indexOf(".")>-1&&(e=s[0],t=s[1],r=s.slice(2).join(".")),!a&&i&&Il(r)?Gl(this.data?.[e]?.[t],r,o):a}addResource(e,t,r,n,o={silent:!1}){const i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let s=[e,t];r&&(s=s.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(s=e.split("."),n=t,t=s[1]),this.addNamespaces(t),Bl(this.data,s,n),o.silent||this.emit("added",e,t,r,n)}addResources(e,t,r,n={silent:!1}){for(const n in r)(Il(r[n])||Array.isArray(r[n]))&&this.addResource(e,t,n,r[n],{silent:!0});n.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,o,i={silent:!1,skipCopy:!1}){let s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),n=r,r=t,t=s[1]),this.addNamespaces(t);let a=Ul(this.data,s)||{};i.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?Ql(a,r,o):a={...a,...r},Bl(this.data,s,a),i.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var nc={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,o){return e.forEach(e=>{t=this.processors[e]?.process(t,r,n,o)??t}),t}};const oc=Symbol("i18next/PATH_KEY");function ic(e,t){const{[oc]:r}=e(function(){const e=[],t=Object.create(null);let r;return t.get=(n,o)=>(r?.revoke?.(),o===oc?e:(e.push(o),r=Proxy.revocable(n,t),r.proxy)),Proxy.revocable(Object.create(null),t).proxy}());return r.join(t?.keySeparator??".")}const sc={},ac=e=>!Il(e)&&"boolean"!=typeof e&&"number"!=typeof e;class lc extends tc{constructor(e,t={}){var r,n;super(),r=e,n=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(e=>{r[e]&&(n[e]=r[e])}),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=ec.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(null==e)return!1;const n=this.resolve(e,r);return void 0!==n?.res}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");const n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const i=r&&e.indexOf(r)>-1,s=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,r)=>{t=t||"",r=r||"";const n=Wl.filter(e=>t.indexOf(e)<0&&r.indexOf(e)<0);if(0===n.length)return!0;const o=Yl.getRegExp(`(${n.map(e=>"?"===e?"\\?":e).join("|")})`);let i=!o.test(e);if(!i){const t=e.indexOf(r);t>0&&!o.test(e.substring(0,t))&&(i=!0)}return i})(e,r,n));if(i&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Il(o)?[o]:o};const i=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(i[0])>-1)&&(o=i.shift()),e=i.join(n)}return{key:e,namespaces:Il(o)?[o]:o}}translate(e,t,r){let n="object"==typeof t?{...t}:t;if("object"!=typeof n&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof n&&(n={...n}),n||(n={}),null==e)return"";"function"==typeof e&&(e=ic(e,{...this.options,...n})),Array.isArray(e)||(e=[String(e)]);const o=void 0!==n.returnDetails?n.returnDetails:this.options.returnDetails,i=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1];let c=void 0!==n.nsSeparator?n.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");const u=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===u?.toLowerCase())return d?o?{res:`${l}${c}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${c}${s}`:o?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:s;const p=this.resolve(e,n);let f=p?.res;const h=p?.usedKey||s,m=p?.exactUsedKey||s,g=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,v=void 0!==n.count&&!Il(n.count),b=lc.hasDefaultValue(n),x=v?this.pluralResolver.getSuffix(u,n.count,n):"",_=n.ordinal&&v?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",w=v&&!n.ordinal&&0===n.count,j=w&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${x}`]||n[`defaultValue${_}`]||n.defaultValue;let N=f;y&&!f&&b&&(N=j);const k=ac(N),C=Object.prototype.toString.apply(N);if(!(y&&N&&k&&["[object Number]","[object Function]","[object RegExp]"].indexOf(C)<0)||Il(g)&&Array.isArray(N))if(y&&Il(g)&&Array.isArray(f))f=f.join(g),f&&(f=this.extendTranslation(f,e,n,r));else{let t=!1,o=!1;!this.isValidLookup(f)&&b&&(t=!0,f=j),this.isValidLookup(f)||(o=!0,f=s);const a=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:f,d=b&&j!==f&&this.options.updateMissing;if(o||t||d){if(this.logger.log(d?"updateKey":"missingKey",u,l,s,d?j:f),i){const e=this.resolve(s,{...n,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let r=0;r<t.length;r++)e.push(t[r]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(n.lng||this.language):e.push(n.lng||this.language);const r=(e,t,r)=>{const o=b&&r!==f?r:a;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,o,d,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,t,o,d,n),this.emit("missingKey",e,l,t,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&v?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,n);w&&n[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{r([e],s+t,n[`defaultValue${t}`]||j)})}):r(e,s,j))}f=this.extendTranslation(f,e,n,p,r),o&&f===s&&this.options.appendNamespaceToMissingKey&&(f=`${l}${c}${s}`),(o||t)&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${c}${s}`:s,t?f:void 0,n))}else{if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,N,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return o?(p.res=e,p.usedParams=this.getUsedParamsDetails(n),p):e}if(i){const e=Array.isArray(N),t=e?[]:{},r=e?m:h;for(const e in N)if(Object.prototype.hasOwnProperty.call(N,e)){const o=`${r}${i}${e}`;t[e]=b&&!f?this.translate(o,{...n,defaultValue:ac(j)?j[e]:void 0,joinArrays:!1,ns:a}):this.translate(o,{...n,joinArrays:!1,ns:a}),t[e]===o&&(t[e]=N[e])}f=t}}return o?(p.res=f,p.usedParams=this.getUsedParamsDetails(n),p):f}extendTranslation(e,t,r,n,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const i=Il(e)&&(void 0!==r?.interpolation?.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(i){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let a=r.replace&&!Il(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),e=this.interpolator.interpolate(e,a,r.lng||this.language||n.usedLng,r),i){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(r.nest=!1)}!r.lng&&n&&n.res&&(r.lng=this.language||n.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,(...e)=>o?.[0]!==e[0]||r.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null),r)),r.interpolation&&this.interpolator.reset()}const i=r.postProcess||this.options.postProcess,s=Il(i)?[i]:i;return null!=e&&s?.length&&!1!==r.applyPostProcessor&&(e=nc.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,n,o,i,s;return Il(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(r))return;const a=this.extractFromKey(e,t),l=a.key;n=l;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==t.count&&!Il(t.count),d=u&&!t.ordinal&&0===t.count,p=void 0!==t.context&&(Il(t.context)||"number"==typeof t.context)&&""!==t.context,f=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);c.forEach(e=>{this.isValidLookup(r)||(s=e,sc[`${f[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(s)||(sc[`${f[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${f.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(n=>{if(this.isValidLookup(r))return;i=n;const s=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(s,l,n,e,t);else{let e;u&&(e=this.pluralResolver.getSuffix(n,t.count,t));const r=`${this.options.pluralSeparator}zero`,o=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(t.ordinal&&0===e.indexOf(o)&&s.push(l+e.replace(o,this.options.pluralSeparator)),s.push(l+e),d&&s.push(l+r)),p){const n=`${l}${this.options.contextSeparator||"_"}${t.context}`;s.push(n),u&&(t.ordinal&&0===e.indexOf(o)&&s.push(n+e.replace(o,this.options.pluralSeparator)),s.push(n+e),d&&s.push(n+r))}}let a;for(;a=s.pop();)this.isValidLookup(r)||(o=a,r=this.getResource(n,e,a,t))}))})}),{res:r,usedKey:n,exactUsedKey:o,usedLng:i,usedNS:s}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,r,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Il(e.replace);let n=r?e.replace:e;if(r&&void 0!==e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!r){n={...n};for(const e of t)delete n[e]}return n}static hasDefaultValue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}class cc{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ec.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Xl(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Xl(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Il(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const r=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(r)||(t=r)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const r=this.getScriptPartFromCode(e);if(this.isSupportedCode(r))return t=r;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Il(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),n=[],o=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Il(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):Il(e)&&o(this.formatLanguageCode(e)),r.forEach(e=>{n.indexOf(e)<0&&o(this.formatLanguageCode(e))}),n}}const uc={zero:0,one:1,two:2,few:3,many:4,other:5},dc={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class pc{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=ec.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Xl("dev"===e?"en":e),n=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:n});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let i;try{i=new Intl.PluralRules(r,{type:n})}catch(r){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dc;if(!e.match(/-|_/))return dc;const n=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(n,t)}return this.pluralRulesCache[o]=i,i}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(e=>`${t}${e}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((e,t)=>uc[e]-uc[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t,r={}){const n=this.getRule(e,r);return n?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const fc=(e,t,r,n=".",o=!0)=>{let i=((e,t,r)=>{const n=Ul(e,r);return void 0!==n?n:Ul(t,r)})(e,t,r);return!i&&o&&Il(r)&&(i=Gl(e,r,n),void 0===i&&(i=Gl(t,r,n))),i},hc=e=>e.replace(/\$/g,"$$$$");class mc{constructor(e={}){this.logger=ec.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:n,prefix:o,prefixEscaped:i,suffix:s,suffixEscaped:a,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:f,nestingSuffixEscaped:h,nestingOptionsSeparator:m,maxReplaces:g,alwaysFormat:y}=e.interpolation;this.escape=void 0!==t?t:Kl,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==n&&n,this.prefix=o?Hl(o):i||"{{",this.suffix=s?Hl(s):a||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Hl(d):p||Hl("$t("),this.nestingSuffix=f?Hl(f):h||Hl(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,n){let o,i,s;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const o=fc(t,a,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,r,{...n,...t,interpolationkey:e}):o}const o=e.split(this.formatSeparator),i=o.shift().trim(),s=o.join(this.formatSeparator).trim();return this.format(fc(t,a,i,this.options.keySeparator,this.options.ignoreJSONStructure),s,r,{...n,...t,interpolationkey:i})};this.resetRegExp();const c=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,u=void 0!==n?.interpolation?.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>hc(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?hc(this.escape(e)):hc(e)}].forEach(t=>{for(s=0;o=t.regex.exec(e);){const r=o[1].trim();if(i=l(r),void 0===i)if("function"==typeof c){const t=c(e,o,n);i=Il(t)?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,r))i="";else{if(u){i=o[0];continue}this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),i=""}else Il(i)||this.useRawValueToEscape||(i=Ml(i));const a=t.safeValue(i);if(e=e.replace(o[0],a),u?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,t,r={}){let n,o,i;const s=(e,t)=>{const r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;const n=e.split(new RegExp(`${r}[ ]*{`));let o=`{${n[1]}`;e=n[0],o=this.interpolate(o,i);const s=o.match(/'/g),a=o.match(/"/g);((s?.length??0)%2==0&&!a||a.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i={...t,...i})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${r}${o}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let a=[];i={...r},i=i.replace&&!Il(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const l=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(-1!==l&&(a=n[1].slice(l).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),n[1]=n[1].slice(0,l)),o=t(s.call(this,n[1].trim(),i),i),o&&n[0]===e&&!Il(o))return o;Il(o)||(o=Ml(o)),o||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),o=""),a.length&&(o=a.reduce((e,t)=>this.format(e,t,r.lng,{...r,interpolationkey:n[1].trim()}),o.trim())),e=e.replace(n[0],o),this.regexp.lastIndex=0}return e}}const gc=e=>{const t={};return(r,n,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i={...i,[o.interpolationkey]:void 0});const s=n+JSON.stringify(i);let a=t[s];return a||(a=e(Xl(n),o),t[s]=a),a(r)}},yc=e=>(t,r,n)=>e(Xl(r),n)(t);class vc{constructor(e={}){this.logger=ec.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?gc:yc;this.formats={number:r((e,t)=>{const r=new Intl.NumberFormat(e,{...t});return e=>r.format(e)}),currency:r((e,t)=>{const r=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>r.format(e)}),datetime:r((e,t)=>{const r=new Intl.DateTimeFormat(e,{...t});return e=>r.format(e)}),relativetime:r((e,t)=>{const r=new Intl.RelativeTimeFormat(e,{...t});return e=>r.format(e,t.range||"day")}),list:r((e,t)=>{const r=new Intl.ListFormat(e,{...t});return e=>r.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=gc(t)}format(e,t,r,n={}){const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(e=>e.indexOf(")")>-1)){const e=o.findIndex(e=>e.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}return o.reduce((e,t)=>{const{formatName:o,formatOptions:i}=(e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const o=n[1].substring(0,n[1].length-1);"currency"===t&&o.indexOf(":")<0?r.currency||(r.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?r.range||(r.range=o.trim()):o.split(";").forEach(e=>{if(e){const[t,...n]=e.split(":"),o=n.join(":").trim().replace(/^'+|'+$/g,""),i=t.trim();r[i]||(r[i]=o),"false"===o&&(r[i]=!1),"true"===o&&(r[i]=!0),isNaN(o)||(r[i]=parseInt(o,10))}})}return{formatName:t,formatOptions:r}})(t);if(this.formats[o]){let t=e;try{const s=n?.formatParams?.[n.interpolationkey]||{},a=s.locale||s.lng||n.locale||n.lng||r;t=this.formats[o](e,a,{...i,...n,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${o}`),e},e)}}class bc extends tc{constructor(e,t,r,n={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=ec.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,n.backend,n)}queueLoad(e,t,r,n){const o={},i={},s={},a={};return e.forEach(e=>{let n=!0;t.forEach(t=>{const s=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===i[s]&&(i[s]=!0):(this.state[s]=1,n=!1,void 0===i[s]&&(i[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===a[t]&&(a[t]=!0)))}),n||(s[e]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(a)}}loaded(e,t,r){const n=e.split("|"),o=n[0],i=n[1];t&&this.emit("failedLoading",o,i,t),!t&&r&&this.store.addResourceBundle(o,i,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const s={};this.queue.forEach(r=>{((e,t,r)=>{const{obj:n,k:o}=Fl(e,t,Object);n[o]=n[o]||[],n[o].push(r)})(r.loaded,[o],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(e=>{s[e]||(s[e]={});const t=r.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,r,n=0,o=this.retryTimeout,i){if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:o,callback:i});this.readingCalls++;const s=(s,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&a&&n<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,r,n+1,2*o,i)},o):i(s,a)},a=this.backend[r].bind(this.backend);if(2!==a.length)return a(e,t,s);try{const r=a(e,t);r&&"function"==typeof r.then?r.then(e=>s(null,e)).catch(s):s(null,r)}catch(e){s(e)}}prepareLoading(e,t,r={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();Il(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Il(t)&&(t=[t]);const o=this.queueLoad(e,t,r,n);if(!o.toLoad.length)return o.pending.length||n(),null;o.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),n=r[0],o=r[1];this.read(n,o,"read",void 0,void 0,(r,i)=>{r&&this.logger.warn(`${t}loading namespace ${o} for language ${n} failed`,r),!r&&i&&this.logger.log(`${t}loaded namespace ${o} for language ${n}`,i),this.loaded(e,r,i)})}saveMissing(e,t,r,n,o,i={},s=()=>{}){if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=r&&""!==r){if(this.backend?.create){const a={...i,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let o;o=5===l.length?l(e,t,r,n,a):l(e,t,r,n),o&&"function"==typeof o.then?o.then(e=>s(null,e)).catch(s):s(null,o)}catch(e){s(e)}else l(e,t,r,n,s,a)}e&&e[0]&&this.store.addResource(e[0],t,r,n)}}else this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const xc=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Il(e[1])&&(t.defaultValue=e[1]),Il(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const r=e[3]||e[2];Object.keys(r).forEach(e=>{t[e]=r[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),_c=e=>(Il(e.ns)&&(e.ns=[e.ns]),Il(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Il(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),wc=()=>{};class jc extends tc{constructor(e={},t){var r;if(super(),this.options=_c(e),this.services={},this.logger=ec,this.modules={external:[]},r=this,Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(e=>{"function"==typeof r[e]&&(r[e]=r[e].bind(r))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(Il(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=xc();this.options={...r,...this.options,..._c(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator);const n=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?ec.init(n(this.modules.logger),this.options):ec.init(null,this.options),e=this.modules.formatter?this.modules.formatter:vc;const t=new cc(this.options);this.store=new rc(this.options.resources,this.options);const o=this.services;o.logger=ec,o.resourceStore=this.store,o.languageUtils=t,o.pluralResolver=new pc(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!e||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=n(e),o.formatter.init&&o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new mc(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new bc(n(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(o.languageDetector=n(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=n(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new lc(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,t||(t=wc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=(...t)=>this.store[e](...t)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=(...t)=>(this.store[e](...t),this)});const o=Rl(),i=()=>{const e=(e,r)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(r),t(e,r)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?i():setTimeout(i,0),o}loadResources(e,t=wc){let r=t;const n=Il(e)?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===n?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return r();const e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};n?t(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload?.forEach?.(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),r(e)})}else r(null)}reloadResources(e,t,r){const n=Rl();return"function"==typeof e&&(r=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=wc),this.services.backendConnector.reload(e,t,e=>{n.resolve(),r(e)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&nc.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Rl();this.emit("languageChanging",e);const n=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(o,i)=>{i?this.isLanguageChangingTo===e&&(n(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,r.resolve((...e)=>this.t(...e)),t&&t(o,(...e)=>this.t(...e))},i=t=>{e||t||!this.services.languageDetector||(t=[]);const r=Il(t)?t:t&&t[0],i=this.store.hasLanguageSomeTranslations(r)?r:this.services.languageUtils.getBestMatchFromCodes(Il(t)?[t]:t);i&&(this.language||n(i),this.translator.language||this.translator.changeLanguage(i),this.services.languageDetector?.cacheUserLanguage?.(i)),this.loadResources(i,e=>{o(e,i)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}getFixedT(e,t,r){const n=(e,t,...o)=>{let i;i="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(o)):{...t},i.lng=i.lng||n.lng,i.lngs=i.lngs||n.lngs,i.ns=i.ns||n.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||r||n.keyPrefix);const s=this.options.keySeparator||".";let a;return i.keyPrefix&&Array.isArray(e)?a=e.map(e=>("function"==typeof e&&(e=ic(e,{...this.options,...t})),`${i.keyPrefix}${s}${e}`)):("function"==typeof e&&(e=ic(e,{...this.options,...t})),a=i.keyPrefix?`${i.keyPrefix}${s}${e}`:e),this.t(a,i)};return Il(e)?n.lng=e:n.lngs=e,n.ns=t,n.keyPrefix=r,n}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;const i=(e,t)=>{const r=this.services.backendConnector.state[`${e}|${t}`];return-1===r||0===r||2===r};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!(!this.hasResourceBundle(r,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!i(r,e)||n&&!i(o,e)))}loadNamespaces(e,t){const r=Rl();return this.options.ns?(Il(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Rl();Il(e)&&(e=[e]);const n=this.options.preload||[],o=e.filter(e=>n.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return o.length?(this.options.preload=n.concat(o),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(e){}const t=this.services?.languageUtils||new cc(xc());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new jc(e,t)}cloneInstance(e={},t=wc){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},o=new jc(n);if(void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e)),["store","services","language"].forEach(e=>{o[e]=this[e]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((r,n)=>(r[n]={...e[t][n]},r),e[t]),e),{});o.store=new rc(e,n),o.services.resourceStore=o.store}return o.translator=new lc(o.services,n),o.translator.on("*",(e,...t)=>{o.emit(e,...t)}),o.init(n,t),o.translator.options=n,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Nc=jc.createInstance();Nc.createInstance=jc.createInstance,Nc.createInstance,Nc.dir,Nc.init,Nc.loadResources,Nc.reloadResources,Nc.use,Nc.changeLanguage,Nc.getFixedT,Nc.t,Nc.exists,Nc.setDefaultNamespace,Nc.hasLoadedNamespace,Nc.loadNamespaces,Nc.loadLanguages;const kc={en:{translation:JSON.parse('{"common":{"save":"Save","cancel":"Cancel","delete":"Delete","edit":"Edit","duplicate":"Duplicate","view":"View","loading":"Loading...","uploading":"Uploading...","search":"Search...","filter":"Filter","reset":"Reset","refresh":"Refresh","actions":"Actions","status":"Status","published":"Published","draft":"Draft","private":"Private","clearFilters":"Clear All Filters","noResults":"No results found","loadingMore":"Loading more...","endOfList":"You\'ve reached the end of the list.","updating":"Updating...","searching":"Searching...","filtering":"Filtering..."},"courses":{"title":"Courses","description":"Create and manage courses with lessons, pricing and enrollment","addNew":"Add New Course","createCourse":"Create Course","editCourse":"Edit Course","viewCourse":"View Course","duplicateCourse":"Duplicate Course","deleteCourse":"Delete Course","noCourses":"No courses found","noCoursesDescription":"You haven\'t created any courses yet.","searchPlaceholder":"Search courses...","loadingCourses":"Loading courses...","loadingMoreCourses":"Loading more courses...","fields":{"title":"Course Title","description":"Description","excerpt":"Short Description","image":"Featured Image","category":"Category","difficulty":"Difficulty","price":"Price","salePrice":"Sale Price","productType":"Product Type","duration":"Duration","lessons":"Lessons","students":"Students","enrolled":"Enrolled","completion":"Completion","status":"Status","startDate":"Start Date","endDate":"End Date","position":"Display Position","maxStudents":"Maximum Students","difficultyLevel":"Difficulty Level"},"category":{"label":"Category","all":"All Categories","programming":"Programming","design":"Design","business":"Business","marketing":"Marketing","photography":"Photography"},"difficulty":{"label":"Difficulty","all":"All Levels","beginner":"Beginner","intermediate":"Intermediate","advanced":"Advanced","expert":"Expert"},"status":{"label":"Status","all":"All Status","publish":"Published","draft":"Draft","private":"Private"},"priceFilter":{"label":"Price","all":"All Prices","free":"Free","paid":"Paid","premium":"Premium ($100+)"},"stats":{"totalCourses":"Total Courses","totalStudents":"Students","totalLessons":"Lessons","averagePrice":"Avg. Price","revenue":"Revenue","completionRate":"Completion Rate","averageDuration":"Avg. Duration"},"units":{"hours":"hours","hour":"hour","weeks":"weeks","week":"week","lessons":"lessons","lesson":"lesson","students":"students","student":"student","free":"Free","duration":"duration"},"tabs":{"basic":"Basic Info","taxonomies":"Categories & Tags","pricing":"Pricing","schedule":"Schedule","lessons":"Lessons","settings":"Settings"},"taxonomies":{"categories":"Categories","topics":"Topics","difficulty":"Difficulty","providers":"Providers","courseTypes":"Course Types"},"placeholders":{"title":"Enter course title...","excerpt":"Brief description for cards and previews...","content":"Full course description, what students will learn...","newCategory":"New category name..."},"actions":{"uploadImage":"Upload Image","addCategory":"Add New","saveAndCreate":"Save & Create Another"},"hints":{"optional":"Optional","salePrice":"If set, this will be shown as the discounted price","startDate":"When the course becomes available to students","endDate":"When the course closes or expires (optional)","duration":"Estimated time to complete the course","createLessons":"Create lessons first to assign them to this course","position":"Lower numbers appear first in the course list","maxStudents":"0 = unlimited enrollment","difficultyLevel":"This is a meta field, different from taxonomy","image":"Recommended size: 1200x675px. Max 5MB."},"labels":{"pricePreview":"Price Preview","schedulePreview":"Schedule Preview","selected":"selected"},"info":{"woocommerce":"WooCommerce Integration","woocommerceDesc":"A WooCommerce product will be automatically created/updated when you save this course."},"difficultyLevels":{"easy":"Easy","medium":"Medium","hard":"Hard"},"validation":{"titleRequired":"Title is required","contentRequired":"Description is required","priceInvalid":"Price must be greater than 0","endDateInvalid":"End date must be after start date","positionInvalid":"Position must be a number","fixErrors":"Please fix errors before saving"},"messages":{"createSuccess":"Course created successfully","updateSuccess":"Course updated successfully","deleteSuccess":"Course deleted successfully","duplicateSuccess":"Course duplicated successfully","createError":"Error creating course","updateError":"Error updating course","deleteError":"Error deleting course","duplicateError":"Error duplicating course","deleteConfirmTitle":"Delete Course","deleteConfirmMessage":"Are you sure you want to delete \\"{{title}}\\"? This action cannot be undone and will also remove all associated lessons.","found":"{{count}} course found","found_plural":"{{count}} courses found","noCategories":"No categories available","noLessons":"No lessons available yet"}},"lessons":{"title":"Lessons","description":"Create and manage interactive lessons with multiple content types","addNew":"Add New Lesson","noLessons":"No lessons found"},"quizzes":{"title":"Quizzes","description":"Create and manage quizzes to assess student learning","addNew":"Add New Quiz"},"questions":{"title":"Questions","description":"Create and manage questions for quizzes","addNew":"Add New Question"},"notifications":{"createSuccess":"{{resource}} created successfully","updateSuccess":"{{resource}} updated successfully","deleteSuccess":"{{resource}} deleted successfully","error":"An error occurred"}}')},es:{translation:JSON.parse('{"common":{"save":"Guardar","cancel":"Cancelar","delete":"Eliminar","edit":"Editar","duplicate":"Duplicar","view":"Ver","loading":"Cargando...","uploading":"Subiendo...","search":"Buscar...","filter":"Filtrar","reset":"Reiniciar","refresh":"Refrescar","actions":"Acciones","status":"Estado","published":"Publicado","draft":"Borrador","private":"Privado","clearFilters":"Limpiar Todos los Filtros","noResults":"No se encontraron resultados","loadingMore":"Cargando ms...","endOfList":"Has llegado al final de la lista.","updating":"Actualizando...","searching":"Buscando...","filtering":"Filtrando..."},"courses":{"title":"Cursos","description":"Crea y gestiona cursos con lecciones, precios e inscripciones","addNew":"Aadir Nuevo Curso","createCourse":"Crear Curso","editCourse":"Editar Curso","viewCourse":"Ver Curso","duplicateCourse":"Duplicar Curso","deleteCourse":"Eliminar Curso","noCourses":"No se encontraron cursos","noCoursesDescription":"An no has creado ningn curso.","searchPlaceholder":"Buscar cursos...","loadingCourses":"Cargando cursos...","loadingMoreCourses":"Cargando ms cursos...","fields":{"title":"Ttulo del Curso","description":"Descripcin","excerpt":"Descripcin Corta","image":"Imagen Destacada","category":"Categora","difficulty":"Dificultad","price":"Precio","salePrice":"Precio de Oferta","productType":"Tipo de Producto","duration":"Duracin","lessons":"Lecciones","students":"Estudiantes","enrolled":"Inscritos","completion":"Completado","status":"Estado","startDate":"Fecha de Inicio","endDate":"Fecha de Fin","position":"Posicin de Visualizacin","maxStudents":"Estudiantes Mximos","difficultyLevel":"Nivel de Dificultad"},"category":{"label":"Categora","all":"Todas las Categoras","programming":"Programacin","design":"Diseo","business":"Negocios","marketing":"Marketing","photography":"Fotografa"},"difficulty":{"label":"Dificultad","all":"Todos los Niveles","beginner":"Principiante","intermediate":"Intermedio","advanced":"Avanzado","expert":"Experto"},"difficultyLevels":{"easy":"Fcil","medium":"Medio","hard":"Difcil"},"status":{"label":"Estado","all":"Todos los Estados","publish":"Publicado","draft":"Borrador","private":"Privado"},"priceFilter":{"label":"Precio","all":"Todos los Precios","free":"Gratis","paid":"De Pago","premium":"Premium ($100+)"},"stats":{"totalCourses":"Cursos Totales","totalStudents":"Estudiantes","totalLessons":"Lecciones","averagePrice":"Precio Promedio","revenue":"Ingresos","completionRate":"Tasa de Finalizacin","averageDuration":"Duracin Promedio"},"units":{"hours":"horas","hour":"hora","weeks":"semanas","week":"semana","lessons":"lecciones","lesson":"leccin","students":"estudiantes","student":"estudiante","free":"Gratis","duration":"duracin"},"tabs":{"basic":"Informacin Bsica","taxonomies":"Categoras y Etiquetas","pricing":"Precios","schedule":"Calendario","lessons":"Lecciones","settings":"Configuracin"},"taxonomies":{"categories":"Categoras","topics":"Temas","difficulty":"Dificultad","providers":"Proveedores","courseTypes":"Tipos de Curso"},"placeholders":{"title":"Introduce el ttulo del curso...","excerpt":"Descripcin breve para tarjetas y vistas previas...","content":"Descripcin completa del curso, qu aprendern los estudiantes...","newCategory":"Nombre de la nueva categora..."},"actions":{"uploadImage":"Subir Imagen","addCategory":"Aadir Nueva","saveAndCreate":"Guardar y Crear Otro"},"hints":{"optional":"Opcional","salePrice":"Si se establece, se mostrar como el precio con descuento","startDate":"Cundo el curso estar disponible para los estudiantes","endDate":"Cundo el curso cierra o expira (opcional)","duration":"Tiempo estimado para completar el curso","createLessons":"Crea lecciones primero para asignarlas a este curso","position":"Los nmeros ms bajos aparecen primero en la lista de cursos","maxStudents":"0 = inscripcin ilimitada","difficultyLevel":"Este es un campo meta, diferente de la taxonoma","image":"Tamao recomendado: 1200x675px. Mx 5MB."},"labels":{"pricePreview":"Vista Previa del Precio","schedulePreview":"Vista Previa del Calendario","selected":"seleccionadas"},"info":{"woocommerce":"Integracin con WooCommerce","woocommerceDesc":"Se crear/actualizar automticamente un producto de WooCommerce al guardar este curso."},"validation":{"titleRequired":"El ttulo es obligatorio","contentRequired":"La descripcin es obligatoria","priceInvalid":"El precio debe ser mayor que 0","endDateInvalid":"La fecha de fin debe ser posterior a la fecha de inicio","positionInvalid":"La posicin debe ser un nmero","fixErrors":"Por favor corrige los errores antes de guardar"},"messages":{"createSuccess":"Curso creado exitosamente","updateSuccess":"Curso actualizado exitosamente","deleteSuccess":"Curso eliminado exitosamente","duplicateSuccess":"Curso duplicado exitosamente","createError":"Error al crear el curso","updateError":"Error al actualizar el curso","deleteError":"Error al eliminar el curso","duplicateError":"Error al duplicar el curso","deleteConfirmTitle":"Eliminar Curso","deleteConfirmMessage":"Ests seguro de que quieres eliminar \\"{{title}}\\"? Esta accin no se puede deshacer y tambin eliminar todas las lecciones asociadas.","found":"{{count}} curso encontrado","found_plural":"{{count}} cursos encontrados","noCategories":"No hay categoras disponibles","noLessons":"An no hay lecciones disponibles"}},"lessons":{"title":"Lecciones","description":"Crea y gestiona lecciones interactivas con mltiples tipos de contenido","addNew":"Aadir Nueva Leccin","noLessons":"No se encontraron lecciones"},"quizzes":{"title":"Cuestionarios","description":"Crea y gestiona cuestionarios para evaluar el aprendizaje","addNew":"Aadir Nuevo Cuestionario"},"questions":{"title":"Preguntas","description":"Crea y gestiona preguntas para cuestionarios","addNew":"Aadir Nueva Pregunta"},"notifications":{"createSuccess":"{{resource}} creado exitosamente","updateSuccess":"{{resource}} actualizado exitosamente","deleteSuccess":"{{resource}} eliminado exitosamente","error":"Ocurri un error"}}')}};Nc.use(Xe).init({resources:kc,lng:window.qe_data?.locale?.split("_")[0]||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});const Cc=Nc,Ec=function(){return(0,sn.jsx)(rt,{i18n:Cc,children:(0,sn.jsx)(Le,{children:(0,sn.jsxs)("div",{className:"qe-lms-admin-app",children:[(0,sn.jsxs)(pe,{children:[(0,sn.jsx)(ue,{path:"/",element:(0,sn.jsx)("h1",{children:"Pgina de prueba"})}),(0,sn.jsx)(ue,{path:"/courses",element:(0,sn.jsx)(Mn,{})}),(0,sn.jsx)(ue,{path:"/lessons",element:(0,sn.jsx)(Ea,{})}),(0,sn.jsx)(ue,{path:"/quizzes",element:(0,sn.jsx)(Ia,{})}),(0,sn.jsx)(ue,{path:"/questions",element:(0,sn.jsx)(Ll,{})}),(0,sn.jsx)(ue,{path:"/students",element:(0,sn.jsx)(Qa,{})}),(0,sn.jsx)(ue,{path:"/settings",element:(0,sn.jsx)("h1",{children:"Pgina de Ajustes (Prximamente)"})}),(0,sn.jsx)(ue,{path:"*",element:(0,sn.jsx)(ce,{to:"/",replace:!0})})]}),(0,sn.jsx)(Dt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})})},Oc=document.getElementById("root");a.createRoot(Oc).render((0,sn.jsx)(s().StrictMode,{children:(0,sn.jsx)(Ec,{})}))})()})();