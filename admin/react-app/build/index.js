(()=>{var e={2:(e,t,n)=>{var r=n(2199),o=n(4664),i=n(5950);e.exports=function(e){return r(e,i,o)}},79:(e,t,n)=>{var r=n(3702),o=n(80),i=n(4739),a=n(8655),s=n(1175);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},80:(e,t,n)=>{var r=n(6025),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},270:(e,t,n)=>{var r=n(7068),o=n(346);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},289:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).get(e)}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},317:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},659:(e,t,n)=>{var r=n(1873),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},689:(e,t,n)=>{var r=n(2),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var f=c[d];if(!(l?f in t:o.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var y=l;++d<u;){var g=e[f=c[d]],v=t[f];if(i)var b=l?i(v,g,f,t,e,s):i(g,v,f,e,t,s);if(!(void 0===b?g===v||a(g,v,n,i,s):b)){m=!1;break}y||(y="constructor"==f)}if(m&&!y){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},695:(e,t,n)=>{var r=n(8096),o=n(2428),i=n(6449),a=n(3656),s=n(361),l=n(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),d=!n&&!u&&a(e),f=!n&&!u&&!d&&l(e),h=n||u||d||f,p=h?r(e.length,String):[],m=p.length;for(var y in e)!t&&!c.call(e,y)||h&&("length"==y||d&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,m))||p.push(y);return p}},938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},945:(e,t,n)=>{var r=n(79),o=n(8223),i=n(3661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},1042:(e,t,n)=>{var r=n(6110)(Object,"create");e.exports=r},1175:(e,t,n)=>{var r=n(6025);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1420:(e,t,n)=>{var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},1549:(e,t,n)=>{var r=n(2032),o=n(3862),i=n(6721),a=n(2749),s=n(5749);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},1574:function(e){var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(18),i=n(19),a=n(45),s=n(46),l=n(47),c=n(48),u=n(49),d=n(12),f=n(32),h=n(33),p=n(31),m=n(1),y={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:r.default,Format:o.default,Leaf:i.default,Embed:c.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:d.default,Class:f.default,Style:h.default,Store:p.default}};t.default=y},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return o(t,e),t}(Error);t.ParchmentError=i;var a,s={},l={},c={},u={};function d(e,t){var n;if(void 0===t&&(t=a.ANY),"string"==typeof e)n=u[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=u.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?n=u.block:e&a.LEVEL&a.INLINE&&(n=u.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var o in r)if(n=l[r[o]])break;n=n||c[e.tagName]}return null==n?null:t&a.LEVEL&n.scope&&t&a.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var n=d(e);if(null==n)throw new i("Unable to create "+e+" blot");var r=n,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(t);return new r(o,t)},t.find=function e(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:r?e(n.parentNode,r):null},t.query=d,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map(function(t){return e(t)});var r=t[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new i("Invalid definition");if("abstract"===r.blotName)throw new i("Cannot register abstract class");return u[r.blotName||r.attrName]=r,"string"==typeof r.keyName?s[r.keyName]=r:(null!=r.className&&(l[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(function(e){return e.toUpperCase()}):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(function(e){null!=c[e]&&null!=r.className||(c[e]=r)}))),r}},function(e,t,n){var r=n(51),o=n(11),i=n(3),a=n(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach(function(r){(e(r)?t:n).push(r)}),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e},0)},l.prototype.length=function(){return this.reduce(function(e,t){return e+a.length(t)},0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],r=a.iterator(this.ops),o=0;o<t&&r.hasNext();){var i;o<e?i=r.next(e-o):(i=r.next(t-o),n.push(i)),o+=a.length(i)}return new l(n)},l.prototype.compose=function(e){var t=a.iterator(this.ops),n=a.iterator(e.ops),r=[],i=n.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var s=i.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),r.push(t.next());i.retain-s>0&&n.next(i.retain-s)}for(var c=new l(r);t.hasNext()||n.hasNext();)if("insert"===n.peekType())c.push(n.next());else if("delete"===t.peekType())c.push(t.next());else{var u=Math.min(t.peekLength(),n.peekLength()),d=t.next(u),f=n.next(u);if("number"==typeof f.retain){var h={};"number"==typeof d.retain?h.retain=u:h.insert=d.insert;var p=a.attributes.compose(d.attributes,f.attributes,"number"==typeof d.retain);if(p&&(h.attributes=p),c.push(h),!n.hasNext()&&o(c.ops[c.ops.length-1],h)){var m=new l(t.rest());return c.concat(m).chop()}}else"number"==typeof f.delete&&"number"==typeof d.retain&&c.push(f)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map(function(t){return t.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),i=new l,c=r(n[0],n[1],t),u=a.iterator(this.ops),d=a.iterator(e.ops);return c.forEach(function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(d.peekLength(),t),i.push(d.next(n));break;case r.DELETE:n=Math.min(t,u.peekLength()),u.next(n),i.delete(n);break;case r.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),t);var s=u.next(n),l=d.next(n);o(s.insert,l.insert)?i.retain(n,a.attributes.diff(s.attributes,l.attributes)):i.push(l).delete(n)}t-=n}}),i.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),r=new l,o=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),s=a.length(i)-n.peekLength(),c="string"==typeof i.insert?i.insert.indexOf(t,s)-s:-1;if(c<0)r.push(n.next());else if(c>0)r.push(n.next(c));else{if(!1===e(r,n.next(1).attributes||{},o))return;o+=1,r=new l}}r.length()>0&&e(r,{},o)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),r=a.iterator(e.ops),o=new l;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())o.push(r.next());else{var i=Math.min(n.peekLength(),r.peekLength()),s=n.next(i),c=r.next(i);if(s.delete)continue;c.delete?o.push(c):o.retain(i,a.attributes.transform(s.attributes,c.attributes,t))}else o.retain(a.length(n.next()));return o.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<e||!t)&&(e+=o),r+=o):e-=Math.min(o,e-r)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},s=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,o=n.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(t in e);return void 0===t||n.call(e,t)},l=function(e,t){o&&"__proto__"===t.name?o(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,n,r,o,i,u,d=arguments[0],f=1,h=arguments.length,p=!1;for("boolean"==typeof d&&(p=d,d=arguments[1]||{},f=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});f<h;++f)if(null!=(t=arguments[f]))for(n in t)r=c(d,n),d!==(o=c(t,n))&&(p&&o&&(s(o)||(i=a(o)))?(i?(i=!1,u=r&&a(r)?r:[]):u=r&&s(r)?r:{},l(d,{name:n,newValue:e(p,u,o)})):void 0!==o&&l(d,{name:n,newValue:o}));return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=d(n(3)),a=d(n(2)),s=d(n(0)),l=d(n(16)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return f(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"attach",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){if("string"==typeof n&&n.endsWith("\n")){var i=s.default.create(y.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,n.slice(0,-1))}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r)}}]),t}(s.default.Embed);m.scope=s.default.Scope.BLOCK_BLOT;var y=function(e){function t(e){f(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return p(t,e),r(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),g(t))},new a.default).insert("\n",g(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,r,i){n<=0||(s.default.query(r,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(r,i):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),r,i),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);if(0!==n.length){var i=n.split("\n"),a=i.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;i.reduce(function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length},e+a.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),r instanceof l.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},i}}]),t}(s.default.Block);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:g(e.parent,t))}y.blotName="block",y.tagName="P",y.defaultChild="break",y.allowedChildren=[c.default,s.default.Embed,u.default],t.bubbleFormats=g,t.BlockEmbed=m,t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],_n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(_n=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,o=e}finally{try{!_n&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(50);var a=y(n(2)),s=y(n(14)),l=y(n(8)),c=y(n(9)),u=y(n(0)),d=n(15),f=y(d),h=y(n(3)),p=y(n(10)),m=y(n(34));function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=(0,p.default)("quill"),b=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=x(t,r),this.container=this.options.container,null==this.container)return v.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new f.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(e,t){var r=n.selection.lastRange,o=r&&0===r.length?r.index:void 0;w.call(n,function(){return n.editor.update(null,t,o)},e)});var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),p.default.level(e)}},{key:"find",value:function(e){return e.__quill||u.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&v.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var o=e.attrName||e.blotName;"string"==typeof o?this.register("formats/"+o,e,t):Object.keys(e).forEach(function(r){n.register(r,e[r],t)})}else null==this.imports[e]||r||v.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?u.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,i=_(e,t,n),a=o(i,4);return e=a[0],t=a[1],n=a[3],w.call(this,function(){return r.editor.deleteText(e,t)},n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,function(){var r=n.getSelection(!0),o=new a.default;if(null==r)return o;if(u.default.query(e,u.default.Scope.BLOCK))o=n.editor.formatLine(r.index,r.length,g({},e,t));else{if(0===r.length)return n.selection.format(e,t),o;o=n.editor.formatText(r.index,r.length,g({},e,t))}return n.setSelection(r,l.default.sources.SILENT),o},r)}},{key:"formatLine",value:function(e,t,n,r,i){var a,s=this,l=_(e,t,n,r,i),c=o(l,4);return e=c[0],t=c[1],a=c[2],i=c[3],w.call(this,function(){return s.editor.formatLine(e,t,a)},i,e,0)}},{key:"formatText",value:function(e,t,n,r,i){var a,s=this,l=_(e,t,n,r,i),c=o(l,4);return e=c[0],t=c[1],a=c[2],i=c[3],w.call(this,function(){return s.editor.formatText(e,t,a)},i,e,0)}},{key:"getBounds",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t="number"==typeof e?this.selection.getBounds(e,n):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:t.bottom-r.top,height:t.height,left:t.left-r.left,right:t.right-r.left,top:t.top-r.top,width:t.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=_(e,t),r=o(n,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=_(e,t),r=o(n,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,function(){return o.editor.insertEmbed(t,n,r)},i,t)}},{key:"insertText",value:function(e,t,n,r,i){var a,s=this,l=_(e,0,n,r,i),c=o(l,4);return e=c[0],a=c[2],i=c[3],w.call(this,function(){return s.editor.insertText(e,t,a)},i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var r=this,i=_(e,t,n),a=o(i,4);return e=a[0],t=a[1],n=a[3],w.call(this,function(){return r.editor.removeFormat(e,t)},n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,function(){e=new a.default(e);var n=t.getLength(),r=t.editor.deleteText(0,n),o=t.editor.applyDelta(e),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),o.delete(1)),r.compose(o)},n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var i=_(t,n,r),a=o(i,4);t=a[0],n=a[1],r=a[3],this.selection.setRange(new d.Range(t,n),r),r!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new a.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,function(){return e=new a.default(e),t.editor.applyDelta(e,n)},n,!0)}}]),e}();function x(e,t){if((t=(0,h.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=m.default;var n=(0,h.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var r=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var n=b.import("modules/"+t);return null==n?v.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,h.default)(!0,{},b.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e},{}),t}function w(e,t,n,r){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new a.default;var o=null==n?null:this.getSelection(),i=this.editor.delta,s=e();if(null!=o&&(!0===n&&(n=o.index),null==r?o=j(o,s,t):0!==r&&(o=j(o,n,r,t)),this.setSelection(o,l.default.sources.SILENT)),s.length()>0){var c,u,d=[l.default.events.TEXT_CHANGE,s,i,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return s}function _(e,t,n,o,i){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=o,o=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=o,o=n,n=t,t=0),"object"===(void 0===n?"undefined":r(n))?(a=n,i=o):"string"==typeof n&&(null!=o?a[n]=o:i=n),[e,t,a,i=i||l.default.sources.API]}function j(e,t,n,r){if(null==e)return null;var i=void 0,s=void 0;if(t instanceof a.default){var c=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,r!==l.default.sources.USER)}),u=o(c,2);i=u[0],s=u[1]}else{var f=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&r===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)}),h=o(f,2);i=h[0],s=h[1]}return new d.Range(i,s-i)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=l.default.events,b.sources=l.default.sources,b.version="1.3.7",b.imports={delta:a.default,parchment:u.default,"core/module":c.default,"core/theme":m.default},t.expandConfig=x,t.overload=_,t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=s(n(7)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"formatAt",value:function(e,n,r,i){if(t.compare(this.statics.blotName,r)<0&&a.default.query(r,a.default.Scope.BLOT)){var s=this.isolate(e,n);i&&s.wrap(r,i)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,i)}},{key:"optimize",value:function(e){if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),o=t.order.indexOf(n);return r>=0||o>=0?r-o:e===n?0:e<n?-1:1}}]),t}(a.default.Inline);l.allowedChildren=[l,a.default.Embed,i.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(0))&&r.__esModule?r:{default:r}).default.Text);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=a(n(54));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,a(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)})})});var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"emit",value:function(){s.log.apply(s,arguments),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach(function(t){var r=t.node,o=t.handler;(e.target===r||r.contains(e.target))&&o.apply(void 0,[e].concat(n))})}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(i.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n};r.DEFAULTS={},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["error","warn","log","info"],o="warn";function i(e){if(r.indexOf(e)<=r.indexOf(o)){for(var t,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(t=console)[e].apply(t,i)}}function a(e){return r.reduce(function(t,n){return t[n]=i.bind(console,n,e),t},{})}i.level=a.level=function(e){o=e},t.default=a},function(e,t,n){var r=Array.prototype.slice,o=n(52),i=n(53),a=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var c,u;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=r.call(e),t=r.call(t),a(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var d=o(e),f=o(t)}catch(e){return!1}if(d.length!=f.length)return!1;for(d.sort(),f.sort(),c=d.length-1;c>=0;c--)if(d[c]!=f[c])return!1;for(c=d.length-1;c>=0;c--)if(u=d[c],!a(e[u],t[u],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null==e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var o=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|o:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],_n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(_n=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,o=e}finally{try{!_n&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=d(n(2)),s=d(n(0)),l=d(n(4)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return f(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(c.default);m.blotName="code",m.tagName="CODE";var y=function(e){function t(){return f(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),o(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,n){return t.insert(n).insert("\n",e.formats())},new a.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var o=this.descendant(u.default,this.length()-1),a=r(o,1)[0];null!=a&&a.deleteAt(a.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,r,o){if(0!==n&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+n)){var a=this.newlineIndex(e,!0)+1,l=i-a+1,c=this.isolate(a,l),u=c.next;c.format(r,o),u instanceof t&&u.formatAt(0,e-a+n-l,r,o)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var o=this.descendant(u.default,e),i=r(o,2),a=i[0],s=i[1];a.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);y.blotName="code-block",y.tagName="PRE",y.TAB="  ",t.Code=m,t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],_n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(_n=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,o=e}finally{try{!_n&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n(2)),s=g(n(20)),l=g(n(0)),c=g(n(13)),u=g(n(24)),d=n(4),f=g(d),h=g(n(16)),p=g(n(21)),m=g(n(11)),y=g(n(3));function g(e){return e&&e.__esModule?e:{default:e}}var v=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var n=(0,p.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,p.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)},new a.default)}(e)).reduce(function(e,a){var c=a.retain||a.delete||a.insert.length||1,u=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var h=a.insert;h.endsWith("\n")&&n&&(n=!1,h=h.slice(0,-1)),e>=i&&!h.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,h);var p=t.scroll.line(e),m=o(p,2),g=m[0],v=m[1],b=(0,y.default)({},(0,d.bubbleFormats)(g));if(g instanceof f.default){var x=g.descendant(l.default.Leaf,v),w=o(x,1)[0];b=(0,y.default)(b,(0,d.bubbleFormats)(w))}u=s.default.attributes.diff(b,u)||{}}else if("object"===r(a.insert)){var _=Object.keys(a.insert)[0];if(null==_)return e;t.scroll.insertAt(e,_,a.insert[_])}i+=c}return Object.keys(u).forEach(function(n){t.scroll.formatAt(e,c,n,u[n])}),e+c},0),e.reduce(function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach(function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var i=n.scroll.lines(e,Math.max(t,1)),a=t;i.forEach(function(t){var i=t.length();if(t instanceof c.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,o,r[o])}else t.format(o,r[o]);a-=i})}}),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,p.default)(r)))}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach(function(o){n.scroll.formatAt(e,t,o,r[o])}),this.update((new a.default).retain(e).retain(t,(0,p.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach(function(e){var t=o(e,1)[0];t instanceof f.default?n.push(t):t instanceof l.default.Leaf&&r.push(t)}):(n=this.scroll.lines(e,t),r=this.scroll.descendants(l.default.Leaf,e,t));var i=[n,r].map(function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=x((0,d.bubbleFormats)(n),t)}return t});return y.default.apply(y.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"==typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new a.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach(function(o){n.scroll.formatAt(e,t.length,o,r[o])}),this.update((new a.default).retain(e).insert(t,(0,p.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===f.default.blotName&&!(e.children.length>1)&&e.children.head instanceof h.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=this.scroll.line(e+t),i=o(r,2),s=i[0],l=i[1],u=0,d=new a.default;null!=s&&(u=s instanceof c.default?s.newlineIndex(l)-l+1:s.length()-l,d=s.delta().slice(l,l+u-1).insert("\n"));var f=this.getContents(e,t+u).diff((new a.default).insert(n).concat(d)),h=(new a.default).retain(e).concat(f);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(v)&&l.default.find(t[0].target)){var o=l.default.find(t[0].target),i=(0,d.bubbleFormats)(o),s=o.offset(this.scroll),c=t[0].oldValue.replace(u.default.CONTENTS,""),f=(new a.default).insert(c),h=(new a.default).insert(o.value());e=(new a.default).retain(s).concat(f.diff(h,n)).reduce(function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)},new a.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,m.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}]),e}();function x(e,t){return Object.keys(t).reduce(function(n,r){return null==e[r]||(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]]),n},{})}t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],_n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(_n=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,o=e}finally{try{!_n&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(0)),a=c(n(21)),s=c(n(11)),l=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=(0,c(n(10)).default)("quill:selection"),h=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},p=function(){function e(t,n){var r=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){r.mouseDown||setTimeout(r.update.bind(r,l.default.sources.USER),1)}),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&r.update(l.default.sources.SILENT)}),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(l.default.events.SCROLL_UPDATE,function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}})}}),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var n=t.range,o=n.startNode,i=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(o,i,a,s)}}),this.update(l.default.sources.SILENT)}return o(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(l.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=i.default.find(n.start.node,!1);if(null==r)return;if(r instanceof i.default.Leaf){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var o=void 0,i=this.scroll.leaf(e),a=r(i,2),s=a[0],l=a[1];if(null==s)return null;var c=s.position(l,!0),u=r(c,2);o=u[0],l=u[1];var d=document.createRange();if(t>0){d.setStart(o,l);var f=this.scroll.leaf(e+t),h=r(f,2);if(s=h[0],l=h[1],null==s)return null;var p=s.position(l,!0),m=r(p,2);return o=m[0],l=m[1],d.setEnd(o,l),d.getBoundingClientRect()}var y="left",g=void 0;return o instanceof Text?(l<o.data.length?(d.setStart(o,l),d.setEnd(o,l+1)):(d.setStart(o,l-1),d.setEnd(o,l),y="right"),g=d.getBoundingClientRect()):(g=s.domNode.getBoundingClientRect(),l>0&&(y="right")),{bottom:g.top+g.height,height:g.height,left:g[y],right:g[y],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return f.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var o=n.map(function(e){var n=r(e,2),o=n[0],a=n[1],s=i.default.find(o,!0),l=s.offset(t.scroll);return 0===a?l:s instanceof i.default.Container?l+s.length():l+s.index(o,a)}),a=Math.min(Math.max.apply(Math,u(o)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(u(o)));return new h(s,a-s)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n}),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],o=[],i=this.scroll.length();return n.forEach(function(e,n){e=Math.min(i-1,e);var a,s=t.scroll.leaf(e),l=r(s,2),c=l[0],u=l[1],d=c.position(u,0!==n),f=r(d,2);a=f[0],u=f[1],o.push(a,u)}),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,o)),a=r(i,1)[0],s=a;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,o));s=r(l,1)[0]}if(null!=a&&null!=s){var c=e.getBoundingClientRect();n.top<c.top?e.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(e.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(f.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,r),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t&&(n=t,t=!1),f.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,u(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),o=r(n,2),i=o[0],c=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var d,f=[l.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(f)),e!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,f)}}}]),e}();function m(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=h,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"insertInto",value:function(e,n){0===e.children.length?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((r=n(0))&&r.__esModule?r:{default:r}).default.Embed);a.blotName="break",a.tagName="BR",t.default=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),a=n(30),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return o(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var n=c(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,n){e.deleteAt(t,n)})},t.prototype.descendant=function(e,n){var r=this.children.find(n),o=r[0],i=r[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,i]:o instanceof t?o.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var o=[],i=r;return this.children.forEachAt(n,r,function(n,r,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&o.push(n),n instanceof t&&(o=o.concat(n.descendants(e,r,i))),i-=a}),o},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,function(e,t,o){e.formatAt(t,o,n,r)})},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),o=r[0],i=r[1];if(o)o.insertAt(i,t,n);else{var a=null==n?s.create("text",t):s.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(n){e.insertBefore(n,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),o=r[0],i=r[1],a=[[this,e]];return o instanceof t?a.concat(o.path(i,n)):(null!=o&&a.push([o,i]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),function(e,r,o){e=e.split(r,t),n.appendChild(e)}),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],o=[];e.forEach(function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),o.push.apply(o,e.removedNodes))}),o.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}}),r.filter(function(e){return e.parentNode==n.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var r=c(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))})},t}(a.default);function c(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),a=n(31),s=n(17),l=n(1),c=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new a.default(n.domNode),n}return o(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=l.query(e);n instanceof i.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some(function(e){return e.target===r.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(n,r){var o=e.prototype.wrap.call(this,n,r);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(s.default);t.default=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(30),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=s},function(e,t,n){var r=n(11),o=n(3),i={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=o(!0,{},t);for(var i in n||(r=Object.keys(r).reduce(function(e,t){return null!=r[t]&&(e[t]=r[t]),e},{})),e)void 0!==e[i]&&void 0===t[i]&&(r[i]=e[i]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce(function(n,o){return r(e[o],t[o])||(n[o]=void 0===t[o]?null:t[o]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce(function(n,r){return void 0===e[r]&&(n[r]=t[r]),n},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=i.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e.exports=i},function(e,t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{r=Promise}catch(e){r=function(){}}function o(i,s,l,c,u){"object"==typeof s&&(l=s.depth,c=s.prototype,u=s.includeNonEnumerable,s=s.circular);var d=[],f=[],h="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===l&&(l=1/0),function i(l,p){if(null===l)return null;if(0===p)return l;var m,y;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,n))m=new n;else if(e(l,r))m=new r(function(e,t){l.then(function(t){e(i(t,p-1))},function(e){t(i(e,p-1))})});else if(o.__isArray(l))m=[];else if(o.__isRegExp(l))m=new RegExp(l.source,a(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(o.__isDate(l))m=new Date(l.getTime());else{if(h&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):void 0===c?(y=Object.getPrototypeOf(l),m=Object.create(y)):(m=Object.create(c),y=c)}if(s){var g=d.indexOf(l);if(-1!=g)return f[g];d.push(l),f.push(m)}for(var v in e(l,t)&&l.forEach(function(e,t){var n=i(t,p-1),r=i(e,p-1);m.set(n,r)}),e(l,n)&&l.forEach(function(e){var t=i(e,p-1);m.add(t)}),l){var b;y&&(b=Object.getOwnPropertyDescriptor(y,v)),b&&null==b.set||(m[v]=i(l[v],p-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(l);for(v=0;v<x.length;v++){var w=x[v];(!(j=Object.getOwnPropertyDescriptor(l,w))||j.enumerable||u)&&(m[w]=i(l[w],p-1),j.enumerable||Object.defineProperty(m,w,{enumerable:!1}))}}if(u){var _=Object.getOwnPropertyNames(l);for(v=0;v<_.length;v++){var j,N=_[v];(j=Object.getOwnPropertyDescriptor(l,N))&&j.enumerable||(m[N]=i(l[N],p-1),Object.defineProperty(m,N,{enumerable:!1}))}}return m}(i,l)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();"object"==typeof e&&e.exports&&(e.exports=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],_n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(_n=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,o=e}finally{try{!_n&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=h(n(0)),s=h(n(8)),l=n(4),c=h(l),u=h(n(16)),d=h(n(13)),f=h(n(25));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){return e instanceof c.default||e instanceof l.BlockEmbed}var m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),r.domNode.addEventListener("DOMNodeInserted",function(){}),r.optimize(),r.enable(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var o=this.line(e),a=r(o,2),s=a[0],c=a[1],f=this.line(e+n),h=r(f,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=h&&s!==h&&c>0){if(s instanceof l.BlockEmbed||h instanceof l.BlockEmbed)return void this.optimize();if(s instanceof d.default){var p=s.newlineIndex(s.length(),!0);if(p>-1&&(s=s.split(p+1))===h)return void this.optimize()}else if(h instanceof d.default){var m=h.newlineIndex(0);m>-1&&h.split(m+1)}var y=h.children.head instanceof u.default?null:h.children.head;s.moveChildren(h,y),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,r,o){(null==this.whitelist||this.whitelist[r])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,o),this.optimize())}},{key:"insertAt",value:function(e,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==r||null==a.default.query(n,a.default.Scope.BLOCK)){var o=a.default.create(this.statics.defaultChild);this.appendChild(o),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,r)}else{var s=a.default.create(n,r);this.appendChild(s)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var r=a.default.create(this.statics.defaultChild);r.appendChild(e),e=r}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(p,e)}},{key:"lines",value:function(){return function e(t,n,r){var o=[],i=r;return t.children.forEachAt(n,r,function(t,n,r){p(t)?o.push(t):t instanceof a.default.Container&&(o=o.concat(e(t,n,i))),i-=r}),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(a.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[c.default,l.BlockEmbed,f.default],t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],_n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(_n=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,o=e}finally{try{!_n&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n(21)),s=m(n(11)),l=m(n(3)),c=m(n(2)),u=m(n(20)),d=m(n(0)),f=m(n(5)),h=m(n(10)),p=m(n(9));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(0,h.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bindings={},Object.keys(r.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])}),r.addBinding({key:t.keys.ENTER,shiftKey:null},N),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},w),r.addBinding({key:t.keys.DELETE},{collapsed:!0},_)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},_)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},j),r.addBinding({key:t.keys.DELETE},{collapsed:!1},j),r.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),r.listen(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"match",value:function(e,t){return t=O(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!t[n]!==e[n]&&null!==t[n]})&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=O(e);if(null==r||null==r.key)return g.warn("Attempted to add invalid keyboard binding",r);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),r=(0,l.default)(r,t,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,a=(e.bindings[i]||[]).filter(function(e){return t.match(n,e)});if(0!==a.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),u=o(c,2),f=u[0],h=u[1],p=e.quill.getLeaf(l.index),m=o(p,2),y=m[0],g=m[1],v=0===l.length?[y,g]:e.quill.getLeaf(l.index+l.length),b=o(v,2),x=b[0],w=b[1],_=y instanceof d.default.Text?y.value().slice(0,g):"",j=x instanceof d.default.Text?x.value().slice(w):"",N={collapsed:0===l.length,empty:0===l.length&&f.length()<=1,format:e.quill.getFormat(l),offset:h,prefix:_,suffix:j};a.some(function(t){if(null!=t.collapsed&&t.collapsed!==N.collapsed)return!1;if(null!=t.empty&&t.empty!==N.empty)return!1;if(null!=t.offset&&t.offset!==N.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==N.format[e]}))return!1}else if("object"===r(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=N.format[e]:!1===t.format[e]?null==N.format[e]:(0,s.default)(t.format[e],N.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(N.prefix)||null!=t.suffix&&!t.suffix.test(N.suffix)||!0===t.handler.call(e,l,N))})&&n.preventDefault()}}}})}}]),t}(p.default);function x(e,t){var n,r=e===b.keys.LEFT?"prefix":"suffix";return y(n={key:e,shiftKey:t,altKey:null},r,/^$/),y(n,"handler",function(n){var r=n.index;e===b.keys.RIGHT&&(r+=n.length+1);var i=this.quill.getLeaf(r);return!(o(i,1)[0]instanceof d.default.Embed&&(e===b.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,f.default.sources.USER):this.quill.setSelection(n.index-1,f.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,f.default.sources.USER):this.quill.setSelection(n.index+n.length+1,f.default.sources.USER),1))}),n}function w(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),r=o(n,1)[0],i={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=o(a,1)[0];if(null!=s&&s.length()>1){var l=r.formats(),c=this.quill.getFormat(e.index-1,1);i=u.default.attributes.diff(l,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,f.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-d,d,i,f.default.sources.USER),this.quill.focus()}}function _(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},i=0,a=this.quill.getLine(e.index),s=o(a,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),c=o(l,1)[0];if(c){var d=s.formats(),h=this.quill.getFormat(e.index,1);r=u.default.attributes.diff(d,h)||{},i=c.length()}}this.quill.deleteText(e.index,n,f.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index+i-1,n,r,f.default.sources.USER)}}function j(e){var t=this.quill.getLines(e),n={};if(t.length>1){var r=t[0].formats(),o=t[t.length-1].formats();n=u.default.attributes.diff(o,r)||{}}this.quill.deleteText(e,f.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,f.default.sources.USER),this.quill.setSelection(e.index,f.default.sources.SILENT),this.quill.focus()}function N(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce(function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e},{});this.quill.insertText(e.index,"\n",r,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],f.default.sources.USER))})}function k(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),r=t.index,i=t.length,a=this.quill.scroll.descendant(n,r),s=o(a,2),l=s[0],c=s[1];if(null!=l){var u=this.quill.getIndex(l),h=l.newlineIndex(c,!0)+1,p=l.newlineIndex(u+c+i),m=l.domNode.textContent.slice(h,p).split("\n");c=0,m.forEach(function(t,o){e?(l.insertAt(h+c,n.TAB),c+=n.TAB.length,0===o?r+=n.TAB.length:i+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(h+c,n.TAB.length),c-=n.TAB.length,0===o?r-=n.TAB.length:i-=n.TAB.length),c+=t.length+1}),this.quill.update(f.default.sources.USER),this.quill.setSelection(r,i,f.default.sources.SILENT)}}}}function E(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],f.default.sources.USER)}}}function O(e){if("string"==typeof e||"number"==typeof e)return O({key:e});if("object"===(void 0===e?"undefined":r(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[v]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:E("bold"),italic:E("italic"),underline:E("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",f.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",f.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",f.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,f.default.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,f.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,f.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,f.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,f.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,f.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=o(t,2),r=n[0],i=n[1],a=(0,l.default)({},r.formats(),{list:"checked"}),s=(new c.default).retain(e.index).insert("\n",a).retain(r.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),r=o(n,2),i=r[0],a=r[1],s=(new c.default).retain(e.index).insert("\n",t.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,r=this.quill.getLine(e.index),i=o(r,2),a=i[0],s=i[1];if(s>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",f.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(e.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(u,f.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,f.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=o(t,2),r=n[0],i=n[1],a=(new c.default).retain(e.index+r.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,f.default.sources.USER)}},"embed left":x(b.keys.LEFT,!1),"embed left shift":x(b.keys.LEFT,!0),"embed right":x(b.keys.RIGHT,!1),"embed right shift":x(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=n,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"value",value:function(){}}]),o(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var o=this,a=0;null!=o&&o.statics.scope!==i.default.Scope.BLOCK_BLOT;)a+=o.offset(o.parent),o=o.parent;null!=o&&(this._length=t.CONTENTS.length,o.optimize(),o.formatAt(a,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),r=void 0,o=void 0,s=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var l=[e,n.start.offset,n.end.offset];r=l[0],o=l[1],s=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof a.default?(r=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(i.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],_n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(_n=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,o=e}finally{try{!_n&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([o,s].map(function(e){return Math.max(0,Math.min(r.data.length,e-1))}),2);return o=u[0],s=u[1],{startNode:r,startOffset:o,endNode:r,endOffset:s}}}}},{key:"update",value:function(e,t){var n=this;if(e.some(function(e){return"characterData"===e.type&&e.target===n.textNode})){var r=this.restore();r&&(t.range=r)}}},{key:"value",value:function(){return""}}]),t}(i.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),o=n(4),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Container);s.allowedChildren=[i.default,o.BlockEmbed,s],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=(r=n(0))&&r.__esModule?r:{default:r},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?"#"+(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join(""):n}}]),t}(a.default.Attributor.Style),l=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),c=new s("color","color",{scope:a.default.Scope.INLINE});t.ColorAttributor=s,t.ColorClass=l,t.ColorStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return s(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((r=n(6))&&r.__esModule?r:{default:r}).default);function s(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}a.blotName="link",a.tagName="A",a.SANITIZED_URL="about:blank",a.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=a,t.sanitize=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(23)),a=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case i.default.keys.ENTER:n.togglePicker();break;case i.default.keys.ESCAPE:n.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return o(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",function(){t.selectItem(n,!0)}),n.addEventListener("keydown",function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(n){var r=e.buildItem(n);t.appendChild(r),!0===n.selected&&e.selectItem(r)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":r(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(0)),o=g(n(5)),i=n(4),a=g(i),s=g(n(16)),l=g(n(25)),c=g(n(24)),u=g(n(35)),d=g(n(6)),f=g(n(22)),h=g(n(7)),p=g(n(55)),m=g(n(42)),y=g(n(23));function g(e){return e&&e.__esModule?e:{default:e}}o.default.register({"blots/block":a.default,"blots/block/embed":i.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":f.default,"blots/text":h.default,"modules/clipboard":p.default,"modules/history":m.default,"modules/keyboard":y.default}),r.default.register(a.default,s.default,c.default,d.default,f.default,h.default),t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(e){this.domNode=e,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,o){var i=this.isolate(e,t);if(null!=r.query(n,r.Scope.BLOT)&&o)i.wrap(n,o);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);i.wrap(a),a.format(n,o)}},e.prototype.insertAt=function(e,t,n){var o=null==n?r.create("text",t):r.create(t,n),i=this.split(e);this.parent.insertBefore(o,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?r.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(32),i=n(33),a=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),n=o.default.keys(this.domNode),s=i.default.keys(this.domNode);t.concat(n).concat(s).forEach(function(t){var n=a.query(t,a.Scope.ATTRIBUTE);n instanceof r.default&&(e.attributes[n.attrName]=n)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,n){return t[n]=e.attributes[n].value(e.domNode),t},{})},e}();t.default=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});function i(e){var t=e.split("-"),n=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();o.DEFAULTS={modules:{}},o.themes={default:o},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=s(n(0)),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(e){n.contentNode.appendChild(e)}),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,r=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof a.default){var o=this.prev.length();this.prev.insertAt(o,r),t={startNode:this.prev.domNode,startOffset:o+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(i.default.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(i.default.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=l,t}},{key:"update",value:function(e,t){var n=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}})}}]),t}(i.default.Embed);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new o.default.Attributor.Attribute("align","align",i),s=new o.default.Attributor.Class("align","ql-align",i),l=new o.default.Attributor.Style("align","text-align",i);t.AlignAttribute=a,t.AlignClass=s,t.AlignStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(26),a=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),s=new i.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=a,t.BackgroundStyle=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},a=new o.default.Attributor.Attribute("direction","dir",i),s=new o.default.Attributor.Class("direction","ql-direction",i),l=new o.default.Attributor.Style("direction","direction",i);t.DirectionAttribute=a,t.DirectionClass=s,t.DirectionStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=(r=n(0))&&r.__esModule?r:{default:r},s={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},l=new a.default.Attributor.Class("font","ql-font",s),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(a.default.Attributor.Style),u=new c("font","font-family",s);t.FontStyle=u,t.FontClass=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=i,t.SizeStyle=a},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(0)),i=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(i.default.events.EDITOR_CHANGE,function(e,t,n,o){e!==i.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==i.default.sources.USER?r.transform(t):r.record(t,n))}),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],i.default.sources.USER),this.ignoreChange=!1;var r=l(n[e]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(a(n(9)).default);function l(e){var t=e.reduce(function(e,t){return e+(t.delete||0)},0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=o.default.query(e,o.default.Scope.BLOCK)}))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=p(n(3)),a=p(n(2)),s=p(n(8)),l=p(n(23)),c=p(n(34)),u=p(n(59)),d=p(n(60)),f=p(n(28)),h=p(n(61));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],x=[!1,"serif","monospace"],w=["1","2","3",!1],_=["small",!1,"large","huge"],j=function(e){function t(e,n){m(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach(function(e){e.container.contains(n.target)||e.close()})}),r}return g(t,e),r(t,[{key:"addModule",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice(3),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}})})}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&k(e,v),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&k(e,b,"background"===n?"#ffffff":"#000000"),new u.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?k(e,x):e.classList.contains("ql-header")?k(e,w):e.classList.contains("ql-size")&&k(e,_)),new f.default(e)}),this.quill.on(s.default.events.EDITOR_CHANGE,function(){n.pickers.forEach(function(e){e.update()})})}}]),t}(c.default);j.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var r=e.quill.getSelection(!0);e.quill.updateContents((new a.default).retain(r.index).delete(r.length).insert({image:n.target.result}),s.default.sources.USER),e.quill.setSelection(r.index+1,s.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var N=function(e){function t(e,n){m(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return g(t,e),r(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var r=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,s.default.sources.USER)),this.quill.root.scrollTop=r;break;case"video":n=(t=(e=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!n)break;var o=this.quill.getSelection(!0);if(null!=o){var i=o.index+o.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),n,s.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",s.default.sources.USER),this.quill.setSelection(i+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(h.default);function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",t),e.appendChild(r)})}t.BaseTooltip=N,t.default=j},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,r=this.iterator();n=r();){var o=n.length();if(e<o||t&&e===o&&(null==n.next||0!==n.next.length()))return[n,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r,o=this.find(e),i=o[0],a=e-o[1],s=this.iterator(i);(r=s())&&a<e+t;){var l=r.length();e>a?n(r,e-a,Math.min(t,a+l-e)):n(r,0,Math.min(l,e+t-a)),a+=l}},e.prototype.map=function(e){return this.reduce(function(t,n){return t.push(e(n)),t},[])},e.prototype.reduce=function(e,t){for(var n,r=this.iterator();n=r();)t=e(t,n);return t},e}();t.default=r},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),a=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver(function(e){n.update(e)}),n.observer.observe(n.domNode,s),n.attach(),n}return o(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,o){this.update(),e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(l),e.optimize(n))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=a.find(e,!1);s(t,!1),t instanceof i.default&&t.children.forEach(function(e){s(e,!1)})})):"attributes"===e.type&&s(t.prev)),s(t))}),this.children.forEach(l),o=(c=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map(function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==r&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],n)}),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,r){var o=this;n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):(this.children.forEach(function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,n,r,o){null!=this.formats()[r]||a.query(r,a.Scope.ATTRIBUTE)?this.isolate(t,n).format(r,o):e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(r,o.formats())&&(o.moveChildren(this),o.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(n){var r=a.query(t.blotName).tagName;if(n.tagName!==r)return e.formats.call(this,n)},t.prototype.format=function(n,r){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,r,o){null!=a.query(r,a.Scope.BLOCK)?this.format(r,o):e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=a.query(n,a.Scope.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var o=this.split(t),i=a.create(n,r);o.parent.insertBefore(i,o)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,o){0===t&&n===this.length()?this.format(r,o):e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=i},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),a=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return o(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=a.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some(function(e){return"characterData"===e.type&&e.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=s},function(e,t,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:o.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(t=n[i],e.call(o,t,i,n))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var n=-1;function r(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var u=i(e,t),d=e.substring(0,u);u=a(e=e.substring(u),t=t.substring(u));var f=e.substring(e.length-u),h=function(e,t){var s;if(!e)return[[1,t]];if(!t)return[[n,e]];var l=e.length>t.length?e:t,c=e.length>t.length?t:e,u=l.indexOf(c);if(-1!=u)return s=[[1,l.substring(0,u)],[0,c],[1,l.substring(u+c.length)]],e.length>t.length&&(s[0][0]=s[2][0]=n),s;if(1==c.length)return[[n,e],[1,t]];var d=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function o(e,t,n){for(var r,o,s,l,c=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(c,u+1));){var f=i(e.substring(n),t.substring(u)),h=a(e.substring(0,n),t.substring(0,u));d.length<h+f&&(d=t.substring(u-h,u)+t.substring(u,u+f),r=e.substring(0,n-h),o=e.substring(n+f),s=t.substring(0,u-h),l=t.substring(u+f))}return 2*d.length>=e.length?[r,o,s,l,d]:null}var s,l,c,u,d,f=o(n,r,Math.ceil(n.length/4)),h=o(n,r,Math.ceil(n.length/2));return f||h?(s=h?f&&f[4].length>h[4].length?f:h:f,e.length>t.length?(l=s[0],c=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],l=s[2],c=s[3]),[l,c,u,d,s[4]]):null}(e,t);if(d){var f=d[0],h=d[1],p=d[2],m=d[3],y=d[4],g=r(f,p),v=r(h,m);return g.concat([[0,y]],v)}return function(e,t){for(var r=e.length,i=t.length,a=Math.ceil((r+i)/2),s=a,l=2*a,c=new Array(l),u=new Array(l),d=0;d<l;d++)c[d]=-1,u[d]=-1;c[s+1]=0,u[s+1]=0;for(var f=r-i,h=f%2!=0,p=0,m=0,y=0,g=0,v=0;v<a;v++){for(var b=-v+p;b<=v-m;b+=2){for(var x=s+b,w=(E=b==-v||b!=v&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-b;E<r&&w<i&&e.charAt(E)==t.charAt(w);)E++,w++;if(c[x]=E,E>r)m+=2;else if(w>i)p+=2;else if(h&&(N=s+f-b)>=0&&N<l&&-1!=u[N]&&E>=(j=r-u[N]))return o(e,t,E,w)}for(var _=-v+y;_<=v-g;_+=2){for(var j,N=s+_,k=(j=_==-v||_!=v&&u[N-1]<u[N+1]?u[N+1]:u[N-1]+1)-_;j<r&&k<i&&e.charAt(r-j-1)==t.charAt(i-k-1);)j++,k++;if(u[N]=j,j>r)g+=2;else if(k>i)y+=2;else if(!h){var E;if((x=s+f-_)>=0&&x<l&&-1!=c[x]&&(w=s+(E=c[x])-x,E>=(j=r-j)))return o(e,t,E,w)}}}return[[n,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-u),t=t.substring(0,t.length-u));return d&&h.unshift([0,d]),f&&h.push([0,f]),s(h),null!=l&&(h=function(e,t){var r=function(e,t){if(0===t)return[0,e];for(var r=0,o=0;o<e.length;o++){var i=e[o];if(i[0]===n||0===i[0]){var a=r+i[1].length;if(t===a)return[o+1,e];if(t<a){e=e.slice();var s=t-r,l=[i[0],i[1].slice(0,s)],c=[i[0],i[1].slice(s)];return e.splice(o,1,l,c),[o+1,e]}r=a}}throw new Error("cursor_pos is out of bounds!")}(e,t),o=r[1],i=r[0],a=o[i],s=o[i+1];if(null==a)return e;if(0!==a[0])return e;if(null!=s&&a[1]+s[1]===s[1]+a[1])return o.splice(i,2,s,a),c(o,i,2);if(null!=s&&0===s[1].indexOf(a[1])){o.splice(i,2,[s[0],a[1]],[0,a[1]]);var l=s[1].slice(a[1].length);return l.length>0&&o.splice(i+2,0,[s[0],l]),c(o,i,3)}return e}(h,l)),function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},o=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},i=2;i<e.length;i+=1)0===e[i-2][0]&&o(e[i-2][1])&&e[i-1][0]===n&&r(e[i-1][1])&&1===e[i][0]&&r(e[i][1])&&(t=!0,e[i-1][1]=e[i-2][1].slice(-1)+e[i-1][1],e[i][1]=e[i-2][1].slice(-1)+e[i][1],e[i-2][1]=e[i-2][1].slice(0,-1));if(!t)return e;var a=[];for(i=0;i<e.length;i+=1)e[i][1].length>0&&a.push(e[i]);return a}(h)}function o(e,t,n,o){var i=e.substring(0,n),a=t.substring(0,o),s=e.substring(n),l=t.substring(o),c=r(i,a),u=r(s,l);return c.concat(u)}function i(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(i,o)==t.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function a(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function s(e){e.push([0,""]);for(var t,r=0,o=0,l=0,c="",u="";r<e.length;)switch(e[r][0]){case 1:l++,u+=e[r][1],r++;break;case n:o++,c+=e[r][1],r++;break;case 0:o+l>1?(0!==o&&0!==l&&(0!==(t=i(u,c))&&(r-o-l>0&&0==e[r-o-l-1][0]?e[r-o-l-1][1]+=u.substring(0,t):(e.splice(0,0,[0,u.substring(0,t)]),r++),u=u.substring(t),c=c.substring(t)),0!==(t=a(u,c))&&(e[r][1]=u.substring(u.length-t)+e[r][1],u=u.substring(0,u.length-t),c=c.substring(0,c.length-t))),0===o?e.splice(r-l,o+l,[1,u]):0===l?e.splice(r-o,o+l,[n,c]):e.splice(r-o-l,o+l,[n,c],[1,u]),r=r-o-l+(o?1:0)+(l?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,l=0,o=0,c="",u=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),d=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),d=!0)),r++;d&&s(e)}var l=r;function c(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var o=e[r],i=e[r+1];o[0]===i[1]&&e.splice(r,2,[o[0],o[1]+i[1]])}return e}l.INSERT=1,l.DELETE=n,l.EQUAL=0,e.exports=l},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function o(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:o).supported=r,t.unsupported=o},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function o(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)n.call(e,t)&&o.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e,t){var n=r?r+e:e,o=this._events[n];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,s=new Array(a);i<a;i++)s[i]=o[i].fn;return s},a.prototype.emit=function(e,t,n,o,i,a){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,o),!0;case 5:return u.fn.call(u.context,t,n,o,i),!0;case 6:return u.fn.call(u.context,t,n,o,i,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,o);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,n){var o=new i(t,n||this),a=r?r+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function(e,t,n){var o=new i(t,n||this,!0),a=r?r+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return 0===--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new o:delete this._events[t])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],_n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(_n=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,o=e}finally{try{!_n&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=b(n(3)),s=b(n(2)),l=b(n(0)),c=b(n(5)),u=b(n(10)),d=b(n(9)),f=n(36),h=n(37),p=b(n(13)),m=n(26),y=n(38),g=n(39),v=n(40);function b(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=(0,u.default)("quill:clipboard"),_="__ql-matcher",j=[[Node.TEXT_NODE,D],[Node.TEXT_NODE,L],["br",function(e,t){return S(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,function(e,t){var n={},r=e.style||{};return r.fontStyle&&"italic"===C(e).fontStyle&&(n.italic=!0),r.fontWeight&&(C(e).fontWeight.startsWith("bold")||parseInt(C(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=O(t,n)),parseFloat(r.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!S(t,"\n"))return t;for(var r=-1,o=e.parentNode;!o.classList.contains("ql-clipboard");)"list"===(l.default.query(o)||{}).blotName&&(r+=1),o=o.parentNode;return r<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:r}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new s.default}]],N=[f.AlignAttribute,y.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),k=[f.AlignStyle,h.BackgroundStyle,m.ColorStyle,y.DirectionStyle,g.FontStyle,v.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),E=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],j.concat(r.options.matchers).forEach(function(e){var t=o(e,2),i=t[0],a=t[1];(n.matchVisual||a!==R)&&r.addMatcher(i,a)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[p.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,x({},p.default.blotName,t[p.default.blotName]))}var r=this.prepareMatching(),i=o(r,2),a=i[0],l=i[1],c=q(this.container,a,l);return S(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new s.default).retain(c.length()-1).delete(1))),w.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var r=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){r=r.concat(t.convert()).delete(n.length),t.quill.updateContents(r,c.default.sources.USER),t.quill.setSelection(r.length()-n.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach(function(r){var i=o(r,2),a=i[0],s=i[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(a),function(e){e[_]=e[_]||[],e[_].push(s)})}}),[t,n]}}]),t}(d.default);function O(e,t,n){return"object"===(void 0===t?"undefined":r(t))?Object.keys(t).reduce(function(e,n){return O(e,n,t[n])},e):e.reduce(function(e,r){return r.attributes&&r.attributes[t]?e.push(r):e.insert(r.insert,(0,a.default)({},x({},t,n),r.attributes))},new s.default)}function C(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function S(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var o=e.ops[r];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*t.length)===t}function A(e){if(0===e.childNodes.length)return!1;var t=C(e);return["block","list-item"].indexOf(t.display)>-1}function q(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce(function(t,n){return n(e,t)},new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(r,o){var i=q(o,t,n);return o.nodeType===e.ELEMENT_NODE&&(i=t.reduce(function(e,t){return t(o,e)},i),i=(o[_]||[]).reduce(function(e,t){return t(o,e)},i)),r.concat(i)},new s.default):new s.default}function T(e,t,n){return O(n,e,!0)}function P(e,t){var n=l.default.Attributor.Attribute.keys(e),r=l.default.Attributor.Class.keys(e),o=l.default.Attributor.Style.keys(e),i={};return n.concat(r).concat(o).forEach(function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(e),i[n.attrName])||(null==(n=N[t])||n.attrName!==t&&n.keyName!==t||(i[n.attrName]=n.value(e)||void 0),null==(n=k[t])||n.attrName!==t&&n.keyName!==t||(n=k[t],i[n.attrName]=n.value(e)||void 0))}),Object.keys(i).length>0&&(t=O(t,i)),t}function M(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var r={},o=n.value(e);null!=o&&(r[n.blotName]=o,t=(new s.default).insert(r,n.formats(e)))}else"function"==typeof n.formats&&(t=O(t,n.blotName,n.formats(e)));return t}function L(e,t){return S(t,"\n")||(A(e)||t.length()>0&&e.nextSibling&&A(e.nextSibling))&&t.insert("\n"),t}function R(e,t){if(A(e)&&null!=e.nextElementSibling&&!S(t,"\n\n")){var n=e.offsetHeight+parseFloat(C(e).marginTop)+parseFloat(C(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function D(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!C(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&A(e.parentNode)||null!=e.previousSibling&&A(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&A(e.parentNode)||null!=e.nextSibling&&A(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}E.DEFAULTS={matchers:[],matchVisual:!0},t.default=E,t.matchAttributor=P,t.matchBlot=M,t.matchNewline=L,t.matchSpacing=R,t.matchText=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((r=n(6))&&r.__esModule?r:{default:r}).default);a.blotName="bold",a.tagName=["STRONG","B"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],_n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(_n=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,o=e}finally{try{!_n&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(2)),a=u(n(0)),s=u(n(5)),l=u(n(10)),c=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=(0,l.default)("quill:toolbar"),h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(i.options.container)){var a=document.createElement("div");m(a,i.options.container),e.container.parentNode.insertBefore(a,e.container),i.container=a}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach(function(e){i.addHandler(e,i.options.handlers[e])}),[].forEach.call(i.container.querySelectorAll("button, select"),function(e){i.attach(e)}),i.quill.on(s.default.events.EDITOR_CHANGE,function(e,t){e===s.default.events.SELECTION_CHANGE&&i.update(t)}),i.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){var e=i.quill.selection.getRange(),t=r(e,1)[0];i.update(t)}),i):(o=f.error("Container required for toolbar",i.options),d(i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(n){if(n=n.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void f.warn("ignoring attaching to disabled format",n,e);if(null==a.default.query(n))return void f.warn("ignoring attaching to nonexistent format",n,e)}var o="SELECT"===e.tagName?"change":"click";e.addEventListener(o,function(o){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),o.preventDefault();t.quill.focus();var u=t.quill.selection.getRange(),d=r(u,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new i.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),s.default.sources.USER)}else t.quill.format(n,l,s.default.sources.USER);t.update(d)}),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(n){var o=r(n,2),i=o[0],a=o[1];if("SELECT"===a.tagName){var s=void 0;if(null==e)s=null;else if(null==t[i])s=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){var l=t[i];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+l+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var c=t[i]===a.getAttribute("value")||null!=t[i]&&t[i].toString()===a.getAttribute("value")||null==t[i]&&!a.getAttribute("value");a.classList.toggle("ql-active",c)}else a.classList.toggle("ql-active",null!=t[i])})}}]),t}(c.default);function p(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+t),null!=n&&(r.value=n),e.appendChild(r)}function m(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach(function(e){if("string"==typeof e)p(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){var r=document.createElement("select");r.classList.add("ql-"+t),n.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),r.appendChild(t)}),e.appendChild(r)}(n,t,r):p(n,t,r)}}),e.appendChild(n)})}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0);if("+1"===e||"-1"===e){var o="+1"===e?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",r+o,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=h,t.addControls=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildItem",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var r=this.label.querySelector(".ql-color-label"),o=e&&e.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=o:r.style.fill=o)}}]),t}(((r=n(28))&&r.__esModule?r:{default:r}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=n[e.getAttribute("data-value")||""]}),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"selectItem",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((r=n(28))&&r.__esModule?r:{default:r}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return r(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left=t+i+"px"),o.left<r.left&&(i=r.left-o.left,this.root.style.left=t+i+"px"),o.bottom>r.bottom){var a=o.bottom-o.top,s=e.bottom-e.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(3)),a=f(n(8)),s=n(43),l=f(s),c=f(n(27)),u=n(15),d=f(n(41));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],g=function(e){function t(e,n){h(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=y);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-snow"),r}return m(t,e),o(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default),this.tooltip=new v(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,n){e.handlers.link.call(e,!n.format.link)})}}]),t}(l.default);g.DEFAULTS=(0,i.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var v=function(e){function t(e,n){h(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return m(t,e),o(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,a.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(a.default.events.SELECTION_CHANGE,function(t,n,r){if(null!=t){if(0===t.length&&r===a.default.sources.USER){var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],_n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(_n=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,o=e}finally{try{!_n&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e.quill.scroll.descendant(c.default,t.index),2),i=o[0],s=o[1];if(null!=i){e.linkRange=new u.Range(t.index-s,i.length());var l=c.default.formats(i.domNode);return e.preview.textContent=l,e.preview.setAttribute("href",l),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(s.BaseTooltip);v.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=L(n(29)),o=n(36),i=n(38),a=n(64),s=L(n(65)),l=L(n(66)),c=n(67),u=L(c),d=n(37),f=n(26),h=n(39),p=n(40),m=L(n(56)),y=L(n(68)),g=L(n(27)),v=L(n(69)),b=L(n(70)),x=L(n(71)),w=L(n(72)),_=L(n(73)),j=n(13),N=L(j),k=L(n(74)),E=L(n(75)),O=L(n(57)),C=L(n(41)),S=L(n(28)),A=L(n(59)),q=L(n(60)),T=L(n(61)),P=L(n(108)),M=L(n(62));function L(e){return e&&e.__esModule?e:{default:e}}r.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":f.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":f.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":p.SizeStyle},!0),r.default.register({"formats/align":o.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":f.ColorStyle,"formats/font":h.FontClass,"formats/size":p.SizeClass,"formats/blockquote":s.default,"formats/code-block":N.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":m.default,"formats/code":j.Code,"formats/italic":y.default,"formats/link":g.default,"formats/script":v.default,"formats/strike":b.default,"formats/underline":x.default,"formats/image":w.default,"formats/video":_.default,"formats/list/item":c.ListItem,"modules/formula":k.default,"modules/syntax":E.default,"modules/toolbar":O.default,"themes/bubble":P.default,"themes/snow":M.default,"ui/icons":C.default,"ui/picker":S.default,"ui/icon-picker":q.default,"ui/color-picker":A.default,"ui/tooltip":T.default},!0),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=(r=n(0))&&r.__esModule?r:{default:r},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var r=this.value(e)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(a.default.Attributor.Class),l=new s("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(4))&&r.__esModule?r:{default:r}).default);o.blotName="blockquote",o.tagName="blockquote",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((r=n(4))&&r.__esModule?r:{default:r}).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=l(n(0)),a=l(n(4)),s=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"format",value:function(e,n){e!==h.blotName||n?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:o(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(a.default);f.blotName="list-item",f.tagName="LI";var h=function(e){function t(e){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=function(t){if(t.target.parentNode===e){var r=n.statics.formats(e),o=i.default.find(t.target);"checked"===r?o.format("list","unchecked"):"unchecked"===r&&o.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),n}return d(t,e),r(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",r=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof f)o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var r=null==n?this.length():n.offset(this),i=this.split(r);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=i.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);h.blotName="list",h.scope=i.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[f],t.ListItem=f,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(56))&&r.__esModule?r:{default:r}).default);o.blotName="italic",o.tagName=["EM","I"],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((r=n(6))&&r.__esModule?r:{default:r}).default);a.blotName="script",a.tagName=["SUB","SUP"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(6))&&r.__esModule?r:{default:r}).default);o.blotName="strike",o.tagName="S",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(6))&&r.__esModule?r:{default:r}).default);o.blotName="underline",o.tagName="U",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=(r=n(0))&&r.__esModule?r:{default:r},s=n(27),l=["alt","height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,n){l.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return l.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,s.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.default.Embed);c.blotName="image",c.tagName="IMG",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(4),s=(r=n(27))&&r.__esModule?r:{default:r},l=["height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,n){l.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return l.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"sanitize",value:function(e){return s.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.BlockEmbed);c.blotName="video",c.className="ql-video",c.tagName="IFRAME",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=l(n(35)),a=l(n(5)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,null,[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(i.default);f.blotName="formula",f.className="ql-formula",f.tagName="SPAN";var h=function(e){function t(){c(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),r(t,null,[{key:"register",value:function(){a.default.register(f,!0)}}]),t}(s.default);t.FormulaBlot=f,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=l(n(0)),a=l(n(5)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(n(13)).default);f.className="ql-syntax";var h=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),p=function(e){function t(e,n){c(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return r.quill.on(a.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(o),o=setTimeout(function(){r.highlight(),o=null},r.options.interval)}),r.highlight(),r}return d(t,e),r(t,null,[{key:"register",value:function(){a.default.register(h,!0),a.default.register(f,!0)}}]),r(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(f).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(a.default.sources.SILENT),null!=t&&this.quill.setSelection(t,a.default.sources.SILENT)}}}]),t}(s.default);p.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=f,t.CodeToken=h,t.default=p},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var r=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(3)),a=d(n(8)),s=n(43),l=d(s),c=n(15),u=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],y=function(e){function t(e,n){f(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-bubble"),r}return p(t,e),o(t,[{key:"extendToolbar",value:function(e){this.tooltip=new g(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default)}}]),t}(l.default);y.DEFAULTS=(0,i.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var g=function(e){function t(e,n){f(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.on(a.default.events.EDITOR_CHANGE,function(e,t,n,o){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&o===a.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var i=r.quill.getLines(t.index,t.length);if(1===i.length)r.position(r.quill.getBounds(t));else{var s=i[i.length-1],l=r.quill.getIndex(s),u=Math.min(s.length()-1,t.index+t.length-l),d=r.quill.getBounds(new c.Range(l,u));r.position(d)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()}),r}return p(t,e),o(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(a.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===n)return n;o.style.marginLeft=-1*n-o.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);g.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=g,t.default=y},function(e,t,n){e.exports=n(63)}]).default},e.exports=t()},1609:e=>{"use strict";e.exports=window.React},1873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},1882:(e,t,n)=>{var r=n(2552),o=n(3805);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1986:(e,t,n)=>{var r=n(1873),o=n(7828),i=n(5288),a=n(5911),s=n(317),l=n(4247),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=l),e.size!=t.size&&!p)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var y=a(h(e),h(t),r,c,d,f);return f.delete(e),y;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},2032:(e,t,n)=>{var r=n(1042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2199:(e,t,n)=>{var r=n(4528),o=n(6449);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},2404:(e,t,n)=>{var r=n(270);e.exports=function(e,t){return r(e,t)}},2428:(e,t,n)=>{var r=n(7534),o=n(346),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2552:(e,t,n)=>{var r=n(1873),o=n(659),i=n(9350),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},2651:(e,t,n)=>{var r=n(4218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2749:(e,t,n)=>{var r=n(1042),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},2804:(e,t,n)=>{var r=n(6110)(n(9325),"Promise");e.exports=r},2949:(e,t,n)=>{var r=n(2651);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},3040:(e,t,n)=>{var r=n(1549),o=n(79),i=n(8223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},3345:e=>{e.exports=function(){return[]}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},3650:(e,t,n)=>{var r=n(4335)(Object.keys,Object);e.exports=r},3656:(e,t,n)=>{e=n.nmd(e);var r=n(9325),o=n(9935),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},3661:(e,t,n)=>{var r=n(3040),o=n(7670),i=n(289),a=n(4509),s=n(2949);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},4248:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},4509:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).has(e)}},4528:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},4664:(e,t,n)=>{var r=n(9770),o=n(3345),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=s},4739:(e,t,n)=>{var r=n(6025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4840:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},4894:(e,t,n)=>{var r=n(1882),o=n(294);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},4901:(e,t,n)=>{var r=n(2552),o=n(294),i=n(346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},5083:(e,t,n)=>{var r=n(1882),o=n(7296),i=n(3805),a=n(7473),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5338:(e,t,n)=>{"use strict";var r=n(5795);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},5481:(e,t,n)=>{var r=n(9325)["__core-js_shared__"];e.exports=r},5527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5580:(e,t,n)=>{var r=n(6110)(n(9325),"DataView");e.exports=r},5708:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=s(n(1609)),c=s(n(5795)),u=s(n(2404)),d=s(n(1574)),f=function(e){function t(t){var n=e.call(this,t)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(e,t,r,o){var i,a,s,l;"text-change"===e?null===(a=(i=n).onEditorChangeText)||void 0===a||a.call(i,n.editor.root.innerHTML,t,o,n.unprivilegedEditor):"selection-change"===e&&(null===(l=(s=n).onEditorChangeSelection)||void 0===l||l.call(s,t,o,n.unprivilegedEditor))};var r=n.isControlled()?t.value:t.defaultValue;return n.value=null!=r?r:"",n}return o(t,e),t.prototype.validateProps=function(e){var t;if(l.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(l.default.Children.count(e.children)&&"textarea"===(null===(t=l.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var n,r=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var o=this.getEditorContents(),i=null!=(n=e.value)?n:"";this.isEqualValue(i,o)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),a(this.cleanProps,this.dirtyProps).some(function(t){return!u.default(e[t],r.props[t])})},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(n){return!u.default(e[n],t.props[n])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.editor&&this.shouldComponentRegenerate(e)){var r=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var i=this.regenerationSnapshot,a=(r=i.delta,i.selection);delete this.regenerationSnapshot,this.instantiateEditor();var s=this.editor;s.setContents(r),h(function(){return n.setEditorSelection(s,a)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var n=new d.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(n,t.tabIndex),this.hookEditor(n),n},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?u.default(e.ops,t.ops):u.default(e,t)},t.prototype.setEditorContents=function(e,t){var n=this;this.value=t;var r=this.getEditorSelection();"string"==typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),h(function(){return n.setEditorSelection(e,r)})},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var n=e.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var n,r;(null===(r=null===(n=e)||void 0===n?void 0:n.scroll)||void 0===r?void 0:r.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=c.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,n=t.children,r=t.preserveWhitespace,o={key:this.state.generation,ref:function(t){e.editingArea=t}};return l.default.Children.count(n)?l.default.cloneElement(l.default.Children.only(n),o):r?l.default.createElement("pre",i({},o)):l.default.createElement("div",i({},o))},t.prototype.render=function(){var e;return l.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!=e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,n,r){var o,i;if(this.editor){var a=this.isDelta(this.value)?r.getContents():r.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,null===(i=(o=this.props).onChange)||void 0===i||i.call(o,e,t,n,r))}},t.prototype.onEditorChangeSelection=function(e,t,n){var r,o,i,a,s,l;if(this.editor){var c=this.getEditorSelection(),d=!c&&e,f=c&&!e;u.default(e,c)||(this.selection=e,null===(o=(r=this.props).onChangeSelection)||void 0===o||o.call(r,e,t,n),d?null===(a=(i=this.props).onFocus)||void 0===a||a.call(i,e,t,n):f&&(null===(l=(s=this.props).onBlur)||void 0===l||l.call(s,c,t,n)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=d.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(l.default.Component);function h(e){Promise.resolve().then(e)}e.exports=f},5749:(e,t,n)=>{var r=n(1042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5795:e=>{"use strict";e.exports=window.ReactDOM},5861:(e,t,n)=>{var r=n(5580),o=n(8223),i=n(2804),a=n(6545),s=n(8303),l=n(2552),c=n(7473),u="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",m=c(r),y=c(o),g=c(i),v=c(a),b=c(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||o&&x(new o)!=u||i&&x(i.resolve())!=d||a&&x(new a)!=f||s&&x(new s)!=h)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case y:return u;case g:return d;case v:return f;case b:return h}return t}),e.exports=x},5911:(e,t,n)=>{var r=n(8859),o=n(4248),i=n(9219);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var f=l.get(e),h=l.get(t);if(f&&h)return f==t&&h==e;var p=-1,m=!0,y=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var g=e[p],v=t[p];if(a)var b=c?a(v,g,p,t,e,l):a(g,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(y){if(!o(t,function(e,t){if(!i(y,t)&&(g===e||s(g,e,n,a,l)))return y.push(t)})){m=!1;break}}else if(g!==v&&!s(g,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},5950:(e,t,n)=>{var r=n(695),o=n(8984),i=n(4894);e.exports=function(e){return i(e)?r(e):o(e)}},6009:(e,t,n)=>{e=n.nmd(e);var r=n(4840),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},6025:(e,t,n)=>{var r=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},6110:(e,t,n)=>{var r=n(5083),o=n(392);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},6449:e=>{var t=Array.isArray;e.exports=t},6545:(e,t,n)=>{var r=n(6110)(n(9325),"Set");e.exports=r},6721:(e,t,n)=>{var r=n(1042),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},7068:(e,t,n)=>{var r=n(7217),o=n(5911),i=n(1986),a=n(689),s=n(5861),l=n(6449),c=n(3656),u=n(7167),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,y,g){var v=l(e),b=l(t),x=v?f:s(e),w=b?f:s(t),_=(x=x==d?h:x)==h,j=(w=w==d?h:w)==h,N=x==w;if(N&&c(e)){if(!c(t))return!1;v=!0,_=!1}if(N&&!_)return g||(g=new r),v||u(e)?o(e,t,n,m,y,g):i(e,t,x,n,m,y,g);if(!(1&n)){var k=_&&p.call(e,"__wrapped__"),E=j&&p.call(t,"__wrapped__");if(k||E){var O=k?e.value():e,C=E?t.value():t;return g||(g=new r),y(O,C,n,m,g)}}return!!N&&(g||(g=new r),a(e,t,n,m,y,g))}},7167:(e,t,n)=>{var r=n(4901),o=n(7301),i=n(6009),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},7217:(e,t,n)=>{var r=n(79),o=n(1420),i=n(938),a=n(3605),s=n(9817),l=n(945);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},7296:(e,t,n)=>{var r,o=n(5481),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7534:(e,t,n)=>{var r=n(2552),o=n(346);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},7670:(e,t,n)=>{var r=n(2651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},8096:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},8223:(e,t,n)=>{var r=n(6110)(n(9325),"Map");e.exports=r},8303:(e,t,n)=>{var r=n(6110)(n(9325),"WeakMap");e.exports=r},8655:(e,t,n)=>{var r=n(6025);e.exports=function(e){return r(this.__data__,e)>-1}},8859:(e,t,n)=>{var r=n(3661),o=n(1380),i=n(1459);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},8984:(e,t,n)=>{var r=n(5527),o=n(3650),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},9219:e=>{e.exports=function(e,t){return e.has(t)}},9325:(e,t,n)=>{var r=n(4840),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9770:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},9935:e=>{e.exports=function(){return!1}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=n(1609),t=n.n(e),r=n(5338),o="popstate";function i(e={}){return function(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,d=i.history,f="POP",h=null,p=m();function m(){return(d.state||{idx:null}).idx}function y(){f="POP";let e=m(),t=null==e?null:e-p;p=e,h&&h({action:f,location:v.location,delta:t})}function g(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),a(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:u(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}(e)}null==p&&(p=0,d.replaceState({...d.state,idx:p},""));let v={get action(){return f},get location(){return e(i,d)},listen(e){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(o,y),h=e,()=>{i.removeEventListener(o,y),h=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f="PUSH";let r=c(v.location,e,t);n&&n(r,e),p=m()+1;let o=l(r,p),a=v.createHref(r);try{d.pushState(o,"",a)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(a)}s&&h&&h({action:f,location:v.location,delta:1})},replace:function(e,t){f="REPLACE";let r=c(v.location,e,t);n&&n(r,e),p=m();let o=l(r,p),i=v.createHref(r);d.replaceState(o,"",i),s&&h&&h({action:f,location:v.location,delta:0})},go:e=>d.go(e)};return v}(function(e,t){let{pathname:n="/",search:r="",hash:o=""}=d(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),c("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:u(t))},function(e,t){s("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},e)}function a(e,t){if(!1===e||null==e)throw new Error(t)}function s(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function u({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n="/"){return function(e,t,n,r){let o=E(("string"==typeof t?d(t):t).pathname||"/",n);if(null==o)return null;let i=h(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let e=0;null==a&&e<i.length;++e){let t=k(o);a=j(i[e],t,r)}return a}(e,t,n,!1)}function h(e,t=[],n=[],r="",o=!1){let i=(e,i,s=o,l)=>{let c={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&s)return;a(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let u=A([r,c.relativePath]),d=n.concat(c);e.children&&e.children.length>0&&(a(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),h(e.children,t,d,u,s)),(null!=e.path||e.index)&&t.push({path:u,score:_(u,e.index),routesMeta:d})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of p(e.path))i(e,t,!0,n);else i(e,t)}),t}function p(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=p(r.join("/")),s=[];return s.push(...a.map(e=>""===e?i:[i,e].join("/"))),o&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}new WeakMap;var m=/^:[\w-]+$/,y=3,g=2,v=1,b=10,x=-2,w=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(w)&&(r+=x),t&&(r+=g),n.filter(e=>!w(e)).reduce((e,t)=>e+(m.test(t)?y:""===t?v:b),r)}function j(e,t,n=!1){let{routesMeta:r}=e,o={},i="/",a=[];for(let e=0;e<r.length;++e){let s=r[e],l=e===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=N({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c),d=s.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=N({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),a.push({params:o,pathname:A([i,u.pathname]),pathnameBase:q(A([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=A([i,u.pathnameBase]))}return a}function N(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){s("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=l[r]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[r];return e[t]=n&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function k(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function E(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function S(e,t,n,r=!1){let o;"string"==typeof e?o=d(e):(o={...e},a(!o.pathname||!o.pathname.includes("?"),O("?","pathname","search",o)),a(!o.pathname||!o.pathname.includes("#"),O("#","pathname","hash",o)),a(!o.search||!o.search.includes("#"),O("#","search","hash",o)));let i,s=""===e||""===o.pathname,l=s?"/":o.pathname;if(null==l)i=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e,t="/"){let{pathname:n,search:r="",hash:o=""}="string"==typeof e?d(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:T(r),hash:P(o)}}(o,i),u=l&&"/"!==l&&l.endsWith("/"),f=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!f||(c.pathname+="/"),c}var A=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),T=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",P=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function M(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}var L=["POST","PUT","PATCH","DELETE"],R=(new Set(L),["GET",...L]);new Set(R),Symbol("ResetLoaderData");var D=e.createContext(null);D.displayName="DataRouter";var I=e.createContext(null);I.displayName="DataRouterState";e.createContext(!1);var z=e.createContext({isTransitioning:!1});z.displayName="ViewTransition",e.createContext(new Map).displayName="Fetchers",e.createContext(null).displayName="Await";var B=e.createContext(null);B.displayName="Navigation";var F=e.createContext(null);F.displayName="Location";var $=e.createContext({outlet:null,matches:[],isDataRoute:!1});$.displayName="Route";var U=e.createContext(null);function H(){return null!=e.useContext(F)}function W(){return a(H(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(F).location}U.displayName="RouteError";var K="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V(t){e.useContext(B).static||e.useLayoutEffect(t)}function Q(){let{isDataRoute:t}=e.useContext($);return t?function(){let{router:t}=function(t){let n=e.useContext(D);return a(n,te(t)),n}("useNavigate"),n=ne("useNavigate"),r=e.useRef(!1);return V(()=>{r.current=!0}),e.useCallback(async(e,o={})=>{s(r.current,K),r.current&&("number"==typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...o}))},[t,n])}():function(){a(H(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(D),{basename:n,navigator:r}=e.useContext(B),{matches:o}=e.useContext($),{pathname:i}=W(),l=JSON.stringify(C(o)),c=e.useRef(!1);return V(()=>{c.current=!0}),e.useCallback((e,o={})=>{if(s(c.current,K),!c.current)return;if("number"==typeof e)return void r.go(e);let a=S(e,JSON.parse(l),i,"path"===o.relative);null==t&&"/"!==n&&(a.pathname="/"===a.pathname?n:A([n,a.pathname])),(o.replace?r.replace:r.push)(a,o.state,o)},[n,r,l,i,t])}()}function Y(t,{relative:n}={}){let{matches:r}=e.useContext($),{pathname:o}=W(),i=JSON.stringify(C(r));return e.useMemo(()=>S(t,JSON.parse(i),o,"path"===n),[t,i,o,n])}function Z(t,n,r,o,i){a(H(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=e.useContext(B),{matches:c}=e.useContext($),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let e=y&&y.path||"";oe(p,!y||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,v=W();if(n){let e="string"==typeof n?d(n):n;a("/"===m||e.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=v;let b=g.pathname||"/",x=b;if("/"!==m){let e=m.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=f(t,{pathname:x});s(y||null!=w,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),s(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=function(t,n=[],r=null,o=null){if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,s=r?.errors;if(null!=s){let e=i.findIndex(e=>e.route.id&&void 0!==s?.[e.route.id]);a(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let l=!1,c=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:n}=r,o=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||o){l=!0,i=c>=0?i.slice(0,c+1):[i[0]];break}}}return i.reduceRight((t,a,u)=>{let d,f=!1,h=null,p=null;r&&(d=s&&a.route.id?s[a.route.id]:void 0,h=a.route.errorElement||G,l&&(c<0&&0===u?(oe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,p=null):c===u&&(f=!0,p=a.route.hydrateFallbackElement||null)));let m=n.concat(i.slice(0,u+1)),y=()=>{let n;return n=d?h:f?p:a.route.Component?e.createElement(a.route.Component,null):a.route.element?a.route.element:t,e.createElement(ee,{match:a,routeContext:{outlet:t,matches:m,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===u)?e.createElement(J,{location:r.location,revalidation:r.revalidation,component:h,error:d,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:o}):y()},null)}(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:A([m,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:A([m,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),c,r,o,i);return n&&_?e.createElement(F.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},_):_}function X(){let t=function(){let t=e.useContext(U),n=function(t){let n=e.useContext(I);return a(n,te(t)),n}("useRouteError"),r=ne("useRouteError");return void 0!==t?t:n.errors?.[r]}(),n=M(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},s={padding:"2px 4px",backgroundColor:o},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=e.createElement(e.Fragment,null,e.createElement("p",null,"💿 Hey developer 👋"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,l)}e.createContext(null);var G=e.createElement(X,null),J=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?e.createElement($.Provider,{value:this.props.routeContext},e.createElement(U.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ee({routeContext:t,match:n,children:r}){let o=e.useContext(D);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),e.createElement($.Provider,{value:t},r)}function te(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ne(t){let n=function(t){let n=e.useContext($);return a(n,te(t)),n}(t),r=n.matches[n.matches.length-1];return a(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}var re={};function oe(e,t,n){t||re[e]||(re[e]=!0,s(!1,n))}function ie({to:t,replace:n,state:r,relative:o}){a(H(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=e.useContext(B);s(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=e.useContext($),{pathname:c}=W(),u=Q(),d=S(t,C(l),c,"path"===o),f=JSON.stringify(d);return e.useEffect(()=>{u(JSON.parse(f),{replace:n,state:r,relative:o})},[u,f,o,n,r]),null}function ae(e){a(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function se({basename:t="/",children:n=null,location:r,navigationType:o="POP",navigator:i,static:l=!1}){a(!H(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=e.useMemo(()=>({basename:c,navigator:i,static:l,future:{}}),[c,i,l]);"string"==typeof r&&(r=d(r));let{pathname:f="/",search:h="",hash:p="",state:m=null,key:y="default"}=r,g=e.useMemo(()=>{let e=E(f,c);return null==e?null:{location:{pathname:e,search:h,hash:p,state:m,key:y},navigationType:o}},[c,f,h,p,m,y,o]);return s(null!=g,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),null==g?null:e.createElement(B.Provider,{value:u},e.createElement(F.Provider,{children:n,value:g}))}function le({children:e,location:t}){return Z(ce(e),t)}function ce(t,n=[]){let r=[];return e.Children.forEach(t,(t,o)=>{if(!e.isValidElement(t))return;let i=[...n,o];if(t.type===e.Fragment)return void r.push.apply(r,ce(t.props.children,i));a(t.type===ae,`[${"string"==typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),a(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=ce(t.props.children,i)),r.push(s)}),r}e.memo(function({routes:e,future:t,state:n,unstable_onError:r}){return Z(e,void 0,n,r,t)}),e.Component;var ue="get",de="application/x-www-form-urlencoded";function fe(e){return null!=e&&"string"==typeof e.tagName}var he=null,pe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function me(e){return null==e||pe.has(e)?e:(s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${de}"`),null)}function ye(e,t){if(!1===e||null==e)throw new Error(t)}function ge(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function ve(e,t,n,r,o,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>a(e,t)||s(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function be(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1),[...new Set(r)];var r}function xe(){let t=e.useContext(D);return ye(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function we(){let t=e.useContext(I);return ye(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0"),"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis,Symbol("SingleFetchRedirect");var _e=e.createContext(void 0);function je(){let t=e.useContext(_e);return ye(t,"You must render this element inside a <HydratedRouter> element"),t}function Ne(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ke({page:t,...n}){let{router:r}=xe(),o=e.useMemo(()=>f(r.routes,t,r.basename),[r.routes,t,r.basename]);return o?e.createElement(Oe,{page:t,matches:o,...n}):null}function Ee(t){let{manifest:n,routeModules:r}=je(),[o,i]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return function(e,t){let n=new Set,r=new Set(t);return e.reduce((e,o)=>{if(t&&(null==(i=o)||"string"!=typeof i.page)&&"script"===o.as&&o.href&&r.has(o.href))return e;var i;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(a)||(n.add(a),e.push({key:a,link:o})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(ge).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(t,n,r).then(t=>{e||i(t)}),()=>{e=!0}},[t,n,r]),o}function Oe({page:t,matches:n,...r}){let o=W(),{manifest:i,routeModules:a}=je(),{basename:s}=xe(),{loaderData:l,matches:c}=we(),u=e.useMemo(()=>ve(t,n,c,i,o,"data"),[t,n,c,i,o]),d=e.useMemo(()=>ve(t,n,c,i,o,"assets"),[t,n,c,i,o]),f=e.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{let n=i.routes[t.route.id];n&&n.hasLoader&&(!u.some(e=>e.route.id===t.route.id)&&t.route.id in l&&a[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let c=function(e,t,n){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===E(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}(t,s,"data");return r&&e.size>0&&c.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[c.pathname+c.search]},[s,l,o,i,u,n,t,a]),h=e.useMemo(()=>be(d,i),[d,i]),p=Ee(d);return e.createElement(e.Fragment,null,f.map(t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...r})),h.map(t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...r})),p.map(({key:t,link:n})=>e.createElement("link",{key:t,nonce:r.nonce,...n})))}_e.displayName="FrameworkContext";function Ce(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}e.Component;var Se="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Se&&(window.__reactRouterVersion="7.8.2")}catch(e){}function Ae({basename:t,children:n,window:r}){let o=e.useRef();null==o.current&&(o.current=i({window:r,v5Compat:!0}));let a=o.current,[s,l]=e.useState({action:a.action,location:a.location}),c=e.useCallback(t=>{e.startTransition(()=>l(t))},[l]);return e.useLayoutEffect(()=>a.listen(c),[a,c]),e.createElement(se,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a})}var qe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=e.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:l,state:c,target:d,to:f,preventScrollReset:h,viewTransition:p,...m},y){let g,{basename:v}=e.useContext(B),b="string"==typeof f&&qe.test(f),x=!1;if("string"==typeof f&&b&&(g=f,Se))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=E(t.pathname,v);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:x=!0}catch(e){s(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=function(t,{relative:n}={}){a(H(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=e.useContext(B),{hash:i,pathname:s,search:l}=Y(t,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:A([r,s])),o.createHref({pathname:c,search:l,hash:i})}(f,{relative:o}),[_,j,N]=function(t,n){let r=e.useContext(_e),[o,i]=e.useState(!1),[a,s]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=n,h=e.useRef(null);e.useEffect(()=>{if("render"===t&&s(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(o){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[o]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return r?"intent"!==t?[a,h,{}]:[a,h,{onFocus:Ne(l,p),onBlur:Ne(c,m),onMouseEnter:Ne(u,p),onMouseLeave:Ne(d,m),onTouchStart:Ne(f,p)}]:[!1,h,{}]}(r,m),k=function(t,{target:n,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:s}={}){let l=Q(),c=W(),d=Y(t,{relative:a});return e.useCallback(e=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(e,n)){e.preventDefault();let n=void 0!==r?r:u(c)===u(d);l(t,{replace:n,state:o,preventScrollReset:i,relative:a,viewTransition:s})}},[c,l,d,r,o,n,t,i,a,s])}(f,{replace:l,state:c,target:d,preventScrollReset:h,relative:o,viewTransition:p}),O=e.createElement("a",{...m,...N,href:g||w,onClick:x||i?t:function(e){t&&t(e),e.defaultPrevented||k(e)},ref:Ce(y,j),target:d,"data-discover":b||"render"!==n?void 0:"true"});return _&&!b?e.createElement(e.Fragment,null,O,e.createElement(ke,{page:w})):O});function Pe(t){let n=e.useContext(D);return a(n,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(t)),n}Te.displayName="Link",e.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:s,viewTransition:l,children:c,...u},d){let f=Y(s,{relative:u.relative}),h=W(),p=e.useContext(I),{navigator:m,basename:y}=e.useContext(B),g=null!=p&&function(t,{relative:n}={}){let r=e.useContext(z);a(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Pe("useViewTransitionState"),i=Y(t,{relative:n});if(!r.isTransitioning)return!1;let s=E(r.currentLocation.pathname,o)||r.currentLocation.pathname,l=E(r.nextLocation.pathname,o)||r.nextLocation.pathname;return null!=N(i.pathname,l)||null!=N(i.pathname,s)}(f)&&!0===l,v=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,b=h.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(b=b.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&y&&(x=E(x,y)||x);const w="/"!==v&&v.endsWith("/")?v.length-1:v.length;let _,j=b===v||!o&&b.startsWith(v)&&"/"===b.charAt(w),k=null!=x&&(x===v||!o&&x.startsWith(v)&&"/"===x.charAt(v.length)),O={isActive:j,isPending:k,isTransitioning:g},C=j?t:void 0;_="function"==typeof r?r(O):[r,j?"active":null,k?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let S="function"==typeof i?i(O):i;return e.createElement(Te,{...u,"aria-current":C,className:_,ref:d,style:S,to:s,viewTransition:l},"function"==typeof c?c(O):c)}).displayName="NavLink",e.forwardRef(({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:o,replace:i,state:s,method:l=ue,action:c,onSubmit:d,relative:f,preventScrollReset:h,viewTransition:p,...m},y)=>{let g=function(){let{router:t}=Pe("useSubmit"),{basename:n}=e.useContext(B),r=ne("useRouteId");return e.useCallback(async(e,o={})=>{let{action:i,method:a,encType:s,formData:l,body:c}=function(e,t){let n,r,o,i,a;if(fe(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?E(a,t):null,n=e.getAttribute("method")||ue,o=me(e.getAttribute("enctype"))||de,i=new FormData(e)}else if(function(e){return fe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return fe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?E(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||ue,o=me(e.getAttribute("formenctype"))||me(a.getAttribute("enctype"))||de,i=new FormData(a,e),!function(){if(null===he)try{new FormData(document.createElement("form"),0),he=!1}catch(e){he=!0}return he}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(fe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ue,r=null,o=de,a=e}var s;return i&&"text/plain"===o&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}(e,n);if(!1===o.navigate){let e=o.fetcherKey||Le();await t.fetch(e,r,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,flushSync:o.flushSync})}else await t.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,n,r])}(),v=function(t,{relative:n}={}){let{basename:r}=e.useContext(B),o=e.useContext($);a(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),s={...Y(t||".",{relative:n})},l=W();if(null==t){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?`?${n}`:""}}return t&&"."!==t||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(s.pathname="/"===s.pathname?r:A([r,s.pathname])),u(s)}(c,{relative:f}),b="get"===l.toLowerCase()?"get":"post",x="string"==typeof c&&qe.test(c);return e.createElement("form",{ref:y,method:b,action:v,onSubmit:o?d:e=>{if(d&&d(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,o=t?.getAttribute("formmethod")||l;g(t||e.currentTarget,{fetcherKey:n,method:o,navigate:r,replace:i,state:s,relative:f,preventScrollReset:h,viewTransition:p})},...m,"data-discover":x||"render"!==t?void 0:"true"})}).displayName="Form";var Me=0,Le=()=>`__${String(++Me)}__`;const Re=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},De=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),Ie=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var ze={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Be=(0,e.forwardRef)(({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:i="",children:a,iconNode:s,...l},c)=>(0,e.createElement)("svg",{ref:c,...ze,width:n,height:n,stroke:t,strokeWidth:o?24*Number(r)/Number(n):r,className:De("lucide",i),...!a&&!Ie(l)&&{"aria-hidden":"true"},...l},[...s.map(([t,n])=>(0,e.createElement)(t,n)),...Array.isArray(a)?a:[a]])),Fe=(t,n)=>{const r=(0,e.forwardRef)(({className:r,...o},i)=>{return(0,e.createElement)(Be,{ref:i,iconNode:n,className:De(`lucide-${a=Re(t),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,r),...o});var a});return r.displayName=Re(t),r},$e=Fe("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Ue=Fe("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),He=Fe("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),We=Fe("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ke=Fe("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),Ve=Fe("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Qe=Fe("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ye=Fe("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Ze=()=>{const e=window.qe_data||window.qeApiConfig||{},{api_url:t,nonce:n,endpoints:r}=e;if(console.log("🔍 API Config Debug:",{hasQeData:!!window.qe_data,hasQeApiConfig:!!window.qeApiConfig,apiUrl:t,hasNonce:!!n,hasEndpoints:!!r}),!t||!n)throw new Error(`WordPress API configuration not found. \n      Ensure qe_data is properly localized in WordPress. \n      Available data: ${JSON.stringify(e,null,2)}`);const o={apiUrl:t,nonce:n,endpoints:r||{courses:`${t}/wp/v2/course`,lessons:`${t}/wp/v2/lesson`,quizzes:`${t}/wp/v2/quiz`,questions:`${t}/wp/v2/question`,books:`${t}/wp/v2/book`,categories:`${t}/wp/v2/qe_category`,topics:`${t}/wp/v2/qe_topic`,difficulties:`${t}/wp/v2/qe_difficulty`,courseTypes:`${t}/wp/v2/course_type`,media:`${t}/wp/v2/media`,users:`${t}/wp/v2/users`},debug:e.debug||!1,user:e.user||null};return console.log("✅ Final API Configuration:",o),o},Xe=(t={})=>{const{type:n=null,category:r=null,status:o=null,search:i="",autoFetch:a=!0,initialFilters:s={},debounceMs:l=500}=t,[c,u]=(0,e.useState)([]),[d,f]=(0,e.useState)(!0),[h,p]=(0,e.useState)(!1),[m,y]=(0,e.useState)(null),[g,v]=(0,e.useState)({currentPage:1,totalPages:1,total:0,perPage:20}),[b,x]=(0,e.useState)(!1),[w,_]=(0,e.useState)({search:i||"",type:n,category:r,status:o||"publish,draft,private",...s}),j=(0,e.useRef)(w),N=(0,e.useRef)(t),k=(0,e.useRef)(null),E=(0,e.useRef)(!0),O=(0,e.useRef)("");(0,e.useEffect)(()=>{j.current=w},[w]),(0,e.useEffect)(()=>{N.current=t},[t]),(0,e.useEffect)(()=>()=>{E.current=!1,k.current&&clearTimeout(k.current)},[]);const C=async(e,t={})=>{try{const n={headers:{"Content-Type":"application/json","X-WP-Nonce":Ze().nonce},credentials:"same-origin",...t},r=await fetch(e,n);if(!r.ok){const e=await r.text();throw new Error(`API Error ${r.status}: ${r.statusText} - ${e}`)}return r}catch(e){throw console.error("API Request Error:",e),e}},S=(0,e.useCallback)(async(e={})=>{const{reset:t=!1,page:n=1,additionalFilters:r={}}=e;try{t&&(f(!0),y(null));const e=Ze(),o=j.current,i=new URLSearchParams({page:n.toString(),per_page:"20",status:o.status||"publish,draft",orderby:"date",order:"desc",_embed:"true"});o.search&&i.append("search",o.search),o.type&&i.append("course_type",o.type),o.category&&i.append("categories",o.category),Object.entries(r).forEach(([e,t])=>{null!=t&&""!==t&&i.append(e,t)});const a=`${e.endpoints.courses}?${i}`,s=`${a}-${n}-${t}`;if(s===O.current)return void console.log("🚫 Duplicate course request prevented:",a);O.current=s,console.log("🚀 Fetching courses:",a);const l=await C(a),c=await l.json();if(!E.current)return;const d=l.headers.get("X-WP-Total"),h=l.headers.get("X-WP-TotalPages"),p={currentPage:n,totalPages:h?parseInt(h,10):1,total:d?parseInt(d,10):c.length,perPage:20};v(p),x(n<p.totalPages),u(t||1===n?c:e=>{const t=new Set(e.map(e=>e.id)),n=c.filter(e=>!t.has(e.id));return[...e,...n]}),console.log("✅ Courses loaded:",c.length)}catch(e){console.error("❌ Error fetching courses:",e),E.current&&(y(e.message||"Failed to fetch courses"),(t||1===n)&&(u([]),v({currentPage:1,totalPages:1,total:0,perPage:20}),x(!1)))}finally{E.current&&f(!1)}},[]),A=(0,e.useCallback)((e={})=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{E.current&&S({reset:!0,...e})},l)},[S,l]);(0,e.useEffect)(()=>{a&&(console.log("🎯 Initial course load"),S({reset:!0}))},[]),(0,e.useEffect)(()=>{_(e=>{const t={...e,search:i||"",type:n,category:r,status:o||e.status};return JSON.stringify(t)!==JSON.stringify(e)?t:e})},[i,n,r,o]),(0,e.useEffect)(()=>{a&&(console.log("🔄 Course filters changed, debouncing fetch..."),A())},[w,A,a]);const q=(0,e.useCallback)(async e=>{try{p(!0),y(null);const t=Ze(),n={title:e.title||"",content:e.content||"",excerpt:e.excerpt||"",status:e.status||"draft",meta:{_course_price:e.price||"0",_course_duration:e.duration||"",_course_difficulty:e.difficulty||"beginner",_course_instructor:e.instructor||"",_course_max_students:e.maxStudents||"0",_course_requirements:e.requirements||"",_course_outcomes:e.outcomes||"",_course_featured:e.featured?"yes":"no",...e.meta},course_type:e.typeId?[e.typeId]:[],categories:e.categoryIds||[],featured_media:e.featuredImageId||0};console.log("🚀 Creating course:",n);const r=await C(t.endpoints.courses,{method:"POST",body:JSON.stringify(n)}),o=await r.json();return u(e=>[o,...e]),v(e=>({...e,total:e.total+1})),console.log("✅ Course created:",o),o}catch(e){throw console.error("❌ Error creating course:",e),y(e.message||"Failed to create course"),e}finally{p(!1)}},[]),T=(0,e.useCallback)(async e=>{try{y(null);const t=Ze();console.log("🗑️ Deleting course:",e),await C(`${t.endpoints.courses}/${e}`,{method:"DELETE"}),u(t=>t.filter(t=>t.id!==e)),v(e=>({...e,total:Math.max(0,e.total-1)})),console.log("✅ Course deleted")}catch(e){throw console.error("❌ Error deleting course:",e),y(e.message||"Failed to delete course"),e}},[]),P=(0,e.useCallback)(async e=>{try{y(null);const t=c.find(t=>t.id===e);if(!t)throw new Error("Course not found");const n={title:`${t.title?.rendered||t.title} (Copy)`,content:t.content?.rendered||t.content||"",excerpt:t.excerpt?.rendered||t.excerpt||"",status:"draft",price:t.meta?._course_price,duration:t.meta?._course_duration,difficulty:t.meta?._course_difficulty,instructor:t.meta?._course_instructor,maxStudents:t.meta?._course_max_students,requirements:t.meta?._course_requirements,outcomes:t.meta?._course_outcomes,featured:"yes"===t.meta?._course_featured,typeId:t.course_type?.[0],categoryIds:t.categories||[],meta:t.meta};return console.log("📋 Duplicating course:",e),await q(n)}catch(e){throw console.error("❌ Error duplicating course:",e),y(e.message||"Failed to duplicate course"),e}},[c,q]),M=(0,e.useCallback)(()=>{b&&!d&&S({page:g.currentPage+1,reset:!1})},[b,d,g.currentPage,S]),L=(0,e.useCallback)(()=>{O.current="",S({reset:!0})},[S]),R=(0,e.useMemo)(()=>({totalCourses:c.length,publishedCourses:c.filter(e=>"publish"===e.status).length,draftCourses:c.filter(e=>"draft"===e.status).length,privateCourses:c.filter(e=>"private"===e.status).length,coursesByType:c.reduce((e,t)=>((t.course_type||[]).forEach(t=>{e[t]=(e[t]||0)+1}),e),{}),coursesByDifficulty:c.reduce((e,t)=>{const n=t.meta?._course_difficulty||"beginner";return e[n]=(e[n]||0)+1,e},{}),averagePrice:c.length>0?Math.round(c.reduce((e,t)=>e+parseFloat(t.meta?._course_price||"0"),0)/c.length):0,totalRevenue:c.reduce((e,t)=>e+parseFloat(t.meta?._course_price||"0"),0),freeCourses:c.filter(e=>0===parseFloat(e.meta?._course_price||"0")).length,paidCourses:c.filter(e=>parseFloat(e.meta?._course_price||"0")>0).length,featuredCourses:c.filter(e=>"yes"===e.meta?._course_featured).length,coursesWithInstructor:c.filter(e=>e.meta?._course_instructor&&""!==e.meta._course_instructor.trim()).length,averageDuration:c.length>0?Math.round(c.reduce((e,t)=>{const n=t.meta?._course_duration||"";return e+(parseFloat(n)||0)},0)/c.length):0,totalStudents:c.reduce((e,t)=>e+parseInt(t.meta?._course_max_students||"0"),0)}),[c]);return{courses:c,loading:d,creating:h,error:m,pagination:g,hasMore:b,filters:w,computed:R,createCourse:q,deleteCourse:T,duplicateCourse:P,refreshCourses:L,loadMoreCourses:M,fetchCourses:A}},Ge=Fe("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Je=Fe("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),et=Fe("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),tt=Fe("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),nt=Fe("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),rt=Fe("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ot=Fe("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),it=Fe("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),at=Fe("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),st=Fe("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),lt=window.ReactJSXRuntime,ct=({item:n,viewMode:r="cards",actions:o=[],children:i,className:a="",header:s,footer:l,onClick:c,clickable:u=!1})=>{const[d,f]=(0,e.useState)(!1),h="bg-white border border-gray-200 transition-shadow "+(u?"cursor-pointer hover:shadow-lg":"shadow-sm hover:shadow-md"),p="cards"===r?"rounded-lg p-6":"rounded-md p-4 flex items-center space-x-4";return(0,lt.jsxs)("div",{className:`${h} ${p} ${a}`,onClick:e=>{e.target.closest(".dropdown-menu")||e.target.closest(".dropdown-trigger")||c&&u&&c(n)},children:[s&&(0,lt.jsx)("div",{className:"mb-4",children:s}),(0,lt.jsx)("div",{className:"list"===r?"flex-1":"",children:i}),l&&(0,lt.jsx)("div",{className:"mt-4",children:l}),o.length>0&&(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("button",{onClick:e=>{e.stopPropagation(),f(!d)},className:"dropdown-trigger p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:(0,lt.jsx)(st,{className:"h-5 w-5"})}),d&&(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),(0,lt.jsx)("div",{className:"dropdown-menu absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-20",children:(0,lt.jsx)("div",{className:"py-1",children:o.map((e,r)=>(0,lt.jsxs)(t().Fragment,{children:[(0,lt.jsxs)("button",{onClick:t=>((e,t)=>{t.stopPropagation(),f(!1),e.onClick&&e.onClick(n)})(e,t),className:`w-full text-left px-4 py-2 text-sm flex items-center space-x-2 hover:bg-gray-50 ${e.color||"text-gray-700"}`,children:[e.icon&&(0,lt.jsx)(e.icon,{className:"h-4 w-4"}),(0,lt.jsx)("span",{children:e.label})]}),e.divider&&(0,lt.jsx)("div",{className:"border-t border-gray-100 my-1"})]},r))})})]})]})]})},ut=({course:e,viewMode:t="cards",onEdit:n,onDelete:r,onDuplicate:o,onClick:i,showPrice:a=!0,showStats:s=!0,className:l=""})=>{const c=parseFloat(e.meta?._course_price||"0"),u=parseFloat(e.meta?._sale_price||"0"),d=e.meta?._course_category,f=e.meta?._course_difficulty||"beginner",h=e.meta?._course_duration||"",p=e.meta?._course_instructor||"",m=parseInt(e.meta?._course_max_students||"0"),y="yes"===e.meta?._course_featured,g=parseInt(e.meta?._enrolled_students||"0"),v=e=>{switch(e){case"publish":return"text-green-600 bg-green-100";case"draft":return"text-yellow-600 bg-yellow-100";case"private":default:return"text-gray-600 bg-gray-100";case"pending":return"text-blue-600 bg-blue-100"}},b=e=>{switch(e){case"beginner":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-orange-600 bg-orange-100";case"expert":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},x=e=>e?new Date(e).toLocaleDateString():"N/A",w=(e,t)=>0===e?"Free":t>0&&t<e?(0,lt.jsxs)("span",{children:[(0,lt.jsxs)("span",{className:"line-through text-gray-400",children:["$",e]}),(0,lt.jsxs)("span",{className:"ml-1 text-green-600",children:["$",t]})]}):`$${e}`,_=[{label:"Edit",icon:Ge,onClick:n,color:"text-blue-600"},{label:"Duplicate",icon:Je,onClick:o,color:"text-green-600"},{label:"Delete",icon:et,onClick:r,color:"text-red-600"}].filter(e=>e.onClick);return(0,lt.jsx)(ct,{item:e,viewMode:t,actions:_,className:l,clickable:!!i,onClick:i,children:"cards"===t?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${v(e.status)}`,children:e.status}),y&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-yellow-600 bg-yellow-100",children:[(0,lt.jsx)(Ve,{className:"h-3 w-3 mr-1"}),"Featured"]})]}),a&&(0,lt.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:w(c,u)})]}),(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title?.rendered||e.title||"Untitled Course"}),e.excerpt&&(0,lt.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.excerpt.rendered||e.excerpt}),(0,lt.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[f&&(0,lt.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b(f)}`,children:[(0,lt.jsx)(tt,{className:"h-3 w-3 mr-1"}),f]}),d&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-gray-600 bg-gray-100",children:[(0,lt.jsx)(nt,{className:"h-3 w-3 mr-1"}),d]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[h&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(rt,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[h,"h"]})]}),p&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(ot,{className:"h-4 w-4"}),(0,lt.jsx)("span",{className:"truncate",children:p})]})]}),s&&(0,lt.jsx)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:m>0&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(it,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[g,"/",m," students"]})]})})]}),(0,lt.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 pt-3 border-t border-gray-100",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(at,{className:"h-3 w-3"}),(0,lt.jsxs)("span",{children:["Updated ",x(e.modified)]})]}),(0,lt.jsxs)("span",{children:["ID: ",e.id]})]})]}):(0,lt.jsxs)("div",{className:"flex items-center w-full",children:[(0,lt.jsx)("div",{className:"flex-shrink-0 mr-4",children:(0,lt.jsx)("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,lt.jsx)($e,{className:"h-6 w-6 text-blue-600"})})}),(0,lt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.title?.rendered||e.title||"Untitled Course"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[y&&(0,lt.jsx)(Ve,{className:"h-4 w-4 text-yellow-500"}),f&&(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b(f)}`,children:f}),(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${v(e.status)}`,children:e.status})]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-500",children:[d&&(0,lt.jsx)("span",{className:"truncate",children:d}),h&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(rt,{className:"h-3 w-3"}),(0,lt.jsxs)("span",{children:[h,"h"]})]}),p&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(ot,{className:"h-3 w-3"}),(0,lt.jsx)("span",{className:"truncate",children:p})]}),a&&c>0&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(Ue,{className:"h-3 w-3"}),(0,lt.jsx)("span",{children:w(c,u)})]}),(0,lt.jsx)("span",{children:x(e.modified)})]})]})]})})},dt=({stats:e=[],className:t="",cols:n=7})=>e.length?(0,lt.jsx)("div",{className:`grid grid-cols-1 sm:grid-cols-2 ${{1:"lg:grid-cols-1",2:"lg:grid-cols-2",3:"lg:grid-cols-3",4:"lg:grid-cols-4",5:"lg:grid-cols-5",6:"lg:grid-cols-6",7:"lg:grid-cols-7",8:"lg:grid-cols-8"}[n]||"lg:grid-cols-7"} gap-4 ${t}`,children:e.map((e,t)=>{const n=e.icon;return(0,lt.jsx)("div",{className:`${e.bgColor||"bg-white"} overflow-hidden shadow rounded-lg border border-gray-200`,children:(0,lt.jsx)("div",{className:"p-5",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:(0,lt.jsx)(n,{className:`h-8 w-8 ${e.iconColor||"text-gray-400"}`})}),(0,lt.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,lt.jsxs)("dl",{children:[(0,lt.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:e.label}),(0,lt.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:e.value})]})})]})})},t)})}):null,ft=({currentMode:e,onModeChange:t,modes:n=[],className:r="",size:o="sm"})=>{if(!n.length)return null;const i={xs:"p-1 text-xs",sm:"p-2 text-sm",md:"p-3 text-base",lg:"p-4 text-lg"},a={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return(0,lt.jsx)("div",{className:`flex items-center border border-gray-200 rounded-lg p-1 ${r}`,children:n.map(n=>{const r=n.icon,s=e===n.value;return(0,lt.jsxs)("button",{onClick:()=>t(n.value),className:`${i[o]} rounded flex items-center space-x-1 transition-colors ${s?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,title:`Switch to ${n.label} view`,children:[r&&(0,lt.jsx)(r,{className:a[o]}),(0,lt.jsx)("span",{children:n.label})]},n.value)})})},ht=Fe("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),pt=({size:e="default",message:t,variant:n="default",centered:r=!0,className:o="",fullScreen:i=!1,overlay:a=!1})=>{const s={xs:{spinner:"h-3 w-3",text:"text-xs"},sm:{spinner:"h-4 w-4",text:"text-sm"},default:{spinner:"h-6 w-6",text:"text-base"},lg:{spinner:"h-8 w-8",text:"text-lg"},xl:{spinner:"h-12 w-12",text:"text-xl"}}[e],l={default:{spinner:"text-gray-400",text:"text-gray-600"},primary:{spinner:"text-indigo-600",text:"text-indigo-600"},white:{spinner:"text-white",text:"text-white"}}[n],c=[r&&"flex flex-col items-center justify-center",i&&"fixed inset-0 z-50",i&&a&&"bg-black bg-opacity-50",!i&&r&&"py-8",o].filter(Boolean).join(" "),u=["flex flex-col items-center justify-center",t?"space-y-3":"",i&&"bg-white rounded-lg p-8 shadow-lg"].filter(Boolean).join(" ");return(0,lt.jsx)("div",{className:c,children:(0,lt.jsxs)("div",{className:u,children:[(0,lt.jsx)(ht,{className:`${s.spinner} ${l.spinner} animate-spin`}),t&&(0,lt.jsx)("p",{className:`${s.text} ${l.text} font-medium`,children:t})]})})},mt=({children:e,variant:t="primary",type:n="button",className:r="",...o})=>{const i=`px-4 py-2 rounded-md font-semibold text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-indigo-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[t]} ${r}`;return(0,lt.jsx)("button",{type:n,className:i,...o,children:e})},yt=({icon:e,title:t,description:n,actionText:r,onAction:o,actionVariant:i="primary",size:a="default",className:s="",children:l})=>{const c={small:{container:"py-6",icon:"h-8 w-8",title:"text-lg",description:"text-sm",spacing:"space-y-3"},default:{container:"py-12",icon:"h-12 w-12",title:"text-xl",description:"text-base",spacing:"space-y-4"},large:{container:"py-20",icon:"h-16 w-16",title:"text-2xl",description:"text-lg",spacing:"space-y-6"}}[a];return(0,lt.jsx)("div",{className:`text-center ${c.container} ${s}`,children:(0,lt.jsxs)("div",{className:`mx-auto ${c.spacing}`,children:[e&&(0,lt.jsx)("div",{className:"mx-auto flex items-center justify-center",children:(0,lt.jsx)(e,{className:`${c.icon} text-gray-400`,strokeWidth:1.5})}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:`${c.title} font-semibold text-gray-900`,children:t}),n&&(0,lt.jsx)("p",{className:`mt-2 ${c.description} text-gray-500 max-w-sm mx-auto`,children:n})]}),l,r&&o&&(0,lt.jsx)("div",{children:(0,lt.jsx)(mt,{variant:i,onClick:o,className:"inline-flex items-center",children:r})})]})})},gt=({title:e="Items",description:t,createButtonText:n="Create Item",onCreateClick:r,statistics:o=[],items:i=[],loading:a=!1,viewMode:s="cards",onViewModeChange:l,viewModes:c=[{value:"cards",label:"Cards"},{value:"list",label:"List"}],children:u,emptyStateComponent:d,filtersComponent:f,emptyState:h,className:p="",showStatistics:m=!0,showViewToggle:y=!0,showCreateButton:g=!0,showItemCount:v=!0})=>{const b=e||"Items",x=b.toLowerCase(),w={title:`No ${x} found`,description:`You haven't created any ${x} yet.`,actionText:n||`Create ${b}`,...h};return(0,lt.jsxs)("div",{className:`space-y-6 ${p}`,children:[(0,lt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:b}),t&&(0,lt.jsx)("p",{className:"text-gray-600 mt-1",children:t})]}),g&&(0,lt.jsx)("div",{className:"flex items-center space-x-3",children:(0,lt.jsxs)("button",{onClick:r,disabled:a,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,lt.jsx)(Qe,{className:"h-4 w-4 mr-2"}),n||`Create ${b}`]})})]}),f&&(0,lt.jsx)("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:f}),m&&o.length>0&&(0,lt.jsx)(dt,{stats:o}),(0,lt.jsxs)("div",{className:"flex justify-between items-center",children:[v&&(0,lt.jsx)("div",{className:"text-sm text-gray-600",children:a?"Loading...":`${i.length} ${x}${1!==i.length?"s":""} found`}),y&&l&&(0,lt.jsx)(ft,{currentMode:s,onModeChange:l,modes:c})]}),a&&0===i.length?(0,lt.jsx)("div",{className:"text-center py-12",children:(0,lt.jsx)(pt,{size:"lg",message:`Loading ${x}...`})}):0===i.length?d||(0,lt.jsx)(yt,{icon:w.icon,title:w.title,description:w.description,actionText:w.actionText,onAction:r}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("div",{className:"cards"===s?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u}),a&&i.length>0&&(0,lt.jsx)("div",{className:"text-center py-4",children:(0,lt.jsx)(pt,{size:"sm",message:`Loading more ${x}...`})})]})]})},vt=Fe("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bt=Fe("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),xt=({isOpen:n,onClose:r,onConfirm:o,title:i="Confirm Delete",message:a,confirmText:s="Delete",cancelText:l="Cancel",requiresTyping:c=!1,itemName:u="",loading:d=!1,variant:f="danger"})=>{const[h,p]=(0,e.useState)(""),[m,y]=(0,e.useState)(!1);t().useEffect(()=>{n&&(p(""),y(!1))},[n]),t().useEffect(()=>{const e=e=>{"Escape"===e.key&&n&&!m&&r()};if(n)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n,m,r]);const g={danger:{icon:"text-red-600",iconBg:"bg-red-100",confirmButton:"danger"},warning:{icon:"text-yellow-600",iconBg:"bg-yellow-100",confirmButton:"primary"}}[f];return n?(0,lt.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:m?void 0:r}),(0,lt.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,lt.jsxs)("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,lt.jsx)("button",{onClick:r,disabled:m,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,lt.jsx)(vt,{className:"h-5 w-5"})}),(0,lt.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,lt.jsx)("div",{className:`mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${g.iconBg} sm:mx-0 sm:h-10 sm:w-10`,children:(0,lt.jsx)(bt,{className:`h-6 w-6 ${g.icon}`})}),(0,lt.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left w-full",children:[(0,lt.jsx)("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:i}),a&&(0,lt.jsx)("div",{className:"mt-2",children:(0,lt.jsx)("p",{className:"text-sm text-gray-500",children:a})}),c&&(0,lt.jsxs)("div",{className:"mt-4",children:[(0,lt.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Type ",(0,lt.jsx)("span",{className:"font-mono font-bold",children:"DELETE"})," to confirm:"]}),(0,lt.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Type DELETE here",disabled:m})]}),u&&(0,lt.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:[(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:"Item to delete:"}),(0,lt.jsx)("p",{className:"font-medium text-gray-900 truncate",children:u})]})]})]}),(0,lt.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse sm:gap-3",children:[(0,lt.jsx)(mt,{variant:g.confirmButton,onClick:async()=>{if(!c||"DELETE"===h){y(!0);try{await o(),r()}catch(e){console.error("Error during deletion:",e)}finally{y(!1)}}},disabled:m||c&&"DELETE"!==h,className:"w-full sm:w-auto",children:m?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):s}),(0,lt.jsx)(mt,{variant:"secondary",onClick:r,disabled:m,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:l})]})]})})]}):null},wt=()=>{const[t,n]=(0,e.useState)("all"),[r,o]=(0,e.useState)("all"),[i,a]=(0,e.useState)("all"),[s,l]=(0,e.useState)("all"),[c,u]=(0,e.useState)(""),[d,f]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),[m,y]=(0,e.useState)(null),[g,v]=(0,e.useState)("cards"),{courses:b,loading:x,error:w,pagination:_,computed:j,createCourse:N,deleteCourse:k,duplicateCourse:E,creating:O}=Xe({search:c,type:"all"!==t?t:null,category:"all"!==r?r:null,status:"all"!==s?s:null,autoFetch:!0}),C=(0,e.useMemo)(()=>["all","beginner","intermediate","advanced","expert"],[]),S=(0,e.useMemo)(()=>["all","online","hybrid","workshop","masterclass"],[]),A=(0,e.useMemo)(()=>["all","programming","design","business","marketing","data-science"],[]),q=(0,e.useMemo)(()=>["all","publish","draft","private","pending"],[]),T=(0,e.useMemo)(()=>{const e=j.totalCourses||0,t=j.averagePrice||0,n=j.totalRevenue||0,r=j.freeCourses||0,o=j.paidCourses||0,i=j.featuredCourses||0;return[{label:"Total Courses",value:e,icon:$e,iconColor:"text-blue-500"},{label:"Average Price",value:t>0?`$${t}`:"Free",icon:Ue,iconColor:"text-green-500"},{label:"Total Revenue",value:`$${n.toLocaleString()}`,icon:He,iconColor:"text-purple-500"},{label:"Free Courses",value:r,icon:We,iconColor:"text-blue-400"},{label:"Paid Courses",value:o,icon:Ke,iconColor:"text-yellow-500"},{label:"Featured",value:i,icon:Ve,iconColor:"text-orange-500"}]},[j]),P=(0,e.useCallback)(e=>{n(e)},[]),M=(0,e.useCallback)(e=>{o(e)},[]),L=(0,e.useCallback)(e=>{a(e)},[]),R=(0,e.useCallback)(e=>{l(e)},[]),D=(0,e.useCallback)(e=>{u(e.target.value)},[]),I=((0,e.useCallback)(async e=>{try{const t=await N(e);return f(!1),t}catch(e){throw console.error("Error creating course:",e),e}},[N]),(0,e.useCallback)(e=>{y(e),p(!0)},[])),z=(0,e.useCallback)(async()=>{if(m)try{await k(m.id),p(!1),y(null)}catch(e){console.error("Error deleting course:",e)}},[m,k]),B=(0,e.useCallback)(async e=>{try{await E(e.id)}catch(e){console.error("Error duplicating course:",e)}},[E]),F=(0,e.useCallback)(e=>{console.log("Navigate to course details:",e.id)},[]),$=(0,e.useCallback)(()=>{u("")},[]),U=(0,e.useCallback)(()=>{n("all"),o("all"),a("all"),l("all"),u("")},[]);return(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Course Management"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-1",children:"Create and manage your courses"})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[x&&(0,lt.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),"Loading..."]}),(0,lt.jsxs)("button",{onClick:()=>f(!0),disabled:O,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,lt.jsx)(Qe,{className:"h-4 w-4 mr-2"}),O?"Creating...":"Create Course"]})]})]}),(0,lt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:T.map((e,t)=>{const n=e.icon;return(0,lt.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:`flex-shrink-0 ${e.iconColor}`,children:(0,lt.jsx)(n,{className:"h-6 w-6"})}),(0,lt.jsxs)("div",{className:"ml-3",children:[(0,lt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,lt.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.value})]})]})},t)})})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,lt.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})}),(0,lt.jsx)("input",{type:"text",placeholder:"Search courses...",value:c,onChange:D,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),c&&(0,lt.jsxs)("button",{onClick:$,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:[(0,lt.jsx)("span",{className:"sr-only",children:"Clear search"}),"×"]})]}),(0,lt.jsx)("select",{value:t,onChange:e=>P(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:S.map(e=>(0,lt.jsx)("option",{value:e,children:"all"===e?"All Types":e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,lt.jsx)("select",{value:r,onChange:e=>M(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:A.map(e=>(0,lt.jsx)("option",{value:e,children:"all"===e?"All Categories":e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ")},e))}),(0,lt.jsx)("select",{value:i,onChange:e=>L(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:C.map(e=>(0,lt.jsx)("option",{value:e,children:"all"===e?"All Difficulties":e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,lt.jsx)("select",{value:s,onChange:e=>R(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:q.map(e=>(0,lt.jsx)("option",{value:e,children:"all"===e?"All Statuses":e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,lt.jsx)("div",{className:"mt-4 flex justify-end",children:(0,lt.jsx)("button",{onClick:U,className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Clear All Filters"})})]}),(0,lt.jsx)(gt,{items:b,loading:x,error:w,pagination:_,viewMode:g,onViewModeChange:v,renderCard:e=>(0,lt.jsx)(ut,{course:e,onEdit:F,onDelete:I,onDuplicate:B,onClick:F},e.id),emptyState:{icon:$e,title:"No courses found",description:"Get started by creating your first course.",actionLabel:"Create Course",onAction:()=>f(!0)}}),d&&(0,lt.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,lt.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,lt.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,lt.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,lt.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,lt.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,lt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Create New Course"}),(0,lt.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Course creation form would go here..."})]}),(0,lt.jsx)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:(0,lt.jsx)("button",{onClick:()=>f(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Close"})})]})]})}),h&&m&&(0,lt.jsx)(xt,{isOpen:h,onClose:()=>p(!1),onConfirm:z,title:"Delete Course",message:`Are you sure you want to delete "${m.title?.rendered||m.title}"? This action cannot be undone.`,confirmLabel:"Delete Course",isLoading:!1})]})},_t=Fe("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),jt=Fe("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Nt=Fe("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),kt=Fe("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Et=Fe("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ot=(t,n,r=[])=>{const o=(0,e.useRef)(null),i=(0,e.useRef)(t);return(0,e.useEffect)(()=>{i.current=t},[t]),(0,e.useEffect)(()=>()=>{o.current&&clearTimeout(o.current)},[]),(0,e.useCallback)((...e)=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{i.current(...e)},n)},[n,...r])},Ct=Fe("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),St=Fe("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),At=Fe("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qt=Fe("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Tt=Fe("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),Pt=({lesson:t,viewMode:n="cards",onEdit:r,onDelete:o,onDuplicate:i,courses:a=[],showCourse:s=!0,className:l=""})=>{const c=t.meta?._lesson_type||"text",u=t.meta?._content_type||"free",d=parseInt(t.meta?._duration_minutes||"0"),f=t.meta?._course_id,h="yes"===t.meta?._has_quiz||"quiz"===t.meta?._lesson_type,p=t.meta?._video_url,m=(0,e.useMemo)(()=>f&&a.length?a.find(e=>e.id.toString()===f.toString()||e.id===parseInt(f,10)):null,[f,a]),y=e=>{switch(e){case"publish":return"text-green-600 bg-green-100";case"draft":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},g=[{label:"Edit",icon:Ge,onClick:r,color:"text-blue-600"},{label:"Duplicate",icon:Je,onClick:i,color:"text-green-600"},{label:"Delete",icon:et,onClick:o,color:"text-red-600",divider:!0}].filter(e=>e.onClick),v=(e=>{switch(e){case"video":return Nt;case"quiz":return Ct;default:return St}})(c),b="premium"===u?Et:kt;return(0,lt.jsx)(ct,{item:t,viewMode:n,actions:g,className:l,clickable:!1,children:"cards"===n?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,lt.jsx)(v,{className:"h-4 w-4"}),(0,lt.jsx)("span",{className:"capitalize",children:c})]}),h&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-purple-600",children:[(0,lt.jsx)(Ct,{className:"h-3 w-3"}),(0,lt.jsx)("span",{children:"Quiz"})]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)(b,{className:"h-4 w-4 text-gray-400"}),(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${y(t.status)}`,children:"publish"===t.status?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(At,{className:"h-3 w-3 mr-1"}),"Published"]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(qt,{className:"h-3 w-3 mr-1"}),t.status]})})]})]}),(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:t.title?.rendered||t.title||"Untitled Lesson"}),t.excerpt?.rendered&&(0,lt.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:t.excerpt.rendered.replace(/<[^>]*>/g,"")}),(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[d>0&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(rt,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[d," min"]})]}),p&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-blue-600",children:[(0,lt.jsx)(Tt,{className:"h-4 w-4"}),(0,lt.jsx)("span",{children:"Video"})]})]}),s&&m&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,lt.jsx)($e,{className:"h-4 w-4"}),(0,lt.jsx)("span",{className:"truncate",children:m.title})]}),(0,lt.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(at,{className:"h-3 w-3"}),(0,lt.jsx)("span",{children:new Date(t.modified).toLocaleDateString()})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(ot,{className:"h-3 w-3"}),(0,lt.jsxs)("span",{children:["ID: ",t.id]})]})]})]})]}):(0,lt.jsxs)("div",{className:"flex items-center w-full",children:[(0,lt.jsx)("div",{className:"flex-shrink-0 mr-4",children:(0,lt.jsx)("div",{className:"h-10 w-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,lt.jsx)(v,{className:"h-5 w-5 text-gray-600"})})}),(0,lt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:t.title?.rendered||t.title||"Untitled Lesson"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[h&&(0,lt.jsx)(Ct,{className:"h-4 w-4 text-purple-500"}),(0,lt.jsx)(b,{className:"h-4 w-4 text-gray-400"}),(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${y(t.status)}`,children:t.status})]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-500",children:[s&&m&&(0,lt.jsx)("span",{className:"truncate",children:m.title}),d>0&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(rt,{className:"h-3 w-3"}),(0,lt.jsxs)("span",{children:[d,"m"]})]}),(0,lt.jsx)("span",{children:new Date(t.modified).toLocaleDateString()})]})]})]})})},Mt=()=>{const[t,n]=(0,e.useState)("all"),[r,o]=(0,e.useState)("all"),[i,a]=(0,e.useState)("all"),[s,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!1),[d,f]=(0,e.useState)(null),[h,p]=(0,e.useState)("cards"),{searchValue:m,isSearching:y,handleSearchChange:g,clearSearch:v}=((t="",n,r=500)=>{const[o,i]=(0,e.useState)(t),[a,s]=(0,e.useState)(!1),l=Ot(async e=>{s(!0);try{await n(e)}finally{s(!1)}},r,[n]);return{searchValue:o,isSearching:a,handleSearchChange:(0,e.useCallback)(e=>{i(e),l(e)},[l]),clearSearch:(0,e.useCallback)(()=>{i(""),l("")},[l]),setSearchValue:i}})("",async e=>{console.log("🔍 Lesson search triggered:",e)},500),{filters:b,isFiltering:x,updateFilter:w,resetFilters:_}=((t={},n,r=300)=>{const[o,i]=(0,e.useState)(t),[a,s]=(0,e.useState)(!1),l=Ot(async e=>{s(!0);try{await n(e)}finally{s(!1)}},r,[n]);return{filters:o,isFiltering:a,updateFilter:(0,e.useCallback)((e,t)=>{i(n=>{const r={...n,[e]:t};return l(r),r})},[l]),updateFilters:(0,e.useCallback)(e=>{i(t=>{const n={...t,...e};return l(n),n})},[l]),resetFilters:(0,e.useCallback)(()=>{i(t),l(t)},[t,l])}})({courseId:"all",type:"all",contentType:"all"},async e=>{console.log("🔧 Lesson filters changed:",e)},300),{lessons:j,loading:N,error:k,pagination:E,computed:O,createLesson:C,deleteLesson:S,duplicateLesson:A,creating:q,refreshLessons:T}=((t={})=>{const{courseId:n=null,type:r=null,contentType:o=null,search:i="",autoFetch:a=!0,initialFilters:s={},debounceMs:l=500}=t,[c,u]=(0,e.useState)([]),[d,f]=(0,e.useState)(!0),[h,p]=(0,e.useState)(!1),[m,y]=(0,e.useState)(null),[g,v]=(0,e.useState)({currentPage:1,totalPages:1,total:0,perPage:20}),[b,x]=(0,e.useState)(!1),[w,_]=(0,e.useState)({search:i||"",courseId:n,type:r,contentType:o,status:"publish,draft,private",...s}),j=(0,e.useRef)(w),N=(0,e.useRef)(t),k=(0,e.useRef)(null),E=(0,e.useRef)(!0),O=(0,e.useRef)("");(0,e.useEffect)(()=>{j.current=w},[w]),(0,e.useEffect)(()=>{N.current=t},[t]),(0,e.useEffect)(()=>()=>{E.current=!1,k.current&&clearTimeout(k.current)},[]);const C=async(e,t={})=>{try{const n={headers:{"Content-Type":"application/json","X-WP-Nonce":Ze().nonce},credentials:"same-origin",...t},r=await fetch(e,n);if(!r.ok){const e=await r.text();throw new Error(`API Error ${r.status}: ${r.statusText} - ${e}`)}return r}catch(e){throw console.error("API Request Error:",e),e}},S=(0,e.useCallback)(async(e={})=>{const{reset:t=!1,page:n=1,additionalFilters:r={}}=e;try{t&&(f(!0),y(null));const e=Ze(),o=j.current,i=new URLSearchParams({page:n.toString(),per_page:"20",status:o.status||"publish,draft",orderby:"menu_order",order:"asc",_embed:"true"});if(o.search&&i.append("search",o.search),o.courseId&&(i.append("meta_query[0][key]","_course_id"),i.append("meta_query[0][value]",o.courseId.toString()),i.append("meta_query[0][compare]","="),i.append("meta_query[0][type]","NUMERIC")),o.type){const e=o.courseId?1:0;i.append(`meta_query[${e}][key]`,"_lesson_type"),i.append(`meta_query[${e}][value]`,o.type),i.append(`meta_query[${e}][compare]`,"=")}if(o.contentType){const e=(o.courseId?1:0)+(o.type?1:0);i.append(`meta_query[${e}][key]`,"_content_type"),i.append(`meta_query[${e}][value]`,o.contentType),i.append(`meta_query[${e}][compare]`,"=")}[o.courseId,o.type,o.contentType].filter(Boolean).length>1&&i.append("meta_query[relation]","AND"),Object.entries(r).forEach(([e,t])=>{null!=t&&""!==t&&i.append(e,t)});const a=`${e.endpoints.lessons}?${i}`,s=`${a}-${n}-${t}`;if(s===O.current)return void console.log("🚫 Duplicate lesson request prevented:",a);O.current=s,console.log("🚀 Fetching lessons:",a);const l=await C(a),c=await l.json();if(!E.current)return;const d=l.headers.get("X-WP-Total"),h=l.headers.get("X-WP-TotalPages"),p={currentPage:n,totalPages:h?parseInt(h,10):1,total:d?parseInt(d,10):c.length,perPage:20};v(p),x(n<p.totalPages),u(t||1===n?c:e=>{const t=new Set(e.map(e=>e.id)),n=c.filter(e=>!t.has(e.id));return[...e,...n]}),console.log("✅ Lessons loaded:",c.length)}catch(e){console.error("❌ Error fetching lessons:",e),E.current&&(y(e.message||"Failed to fetch lessons"),(t||1===n)&&(u([]),v({currentPage:1,totalPages:1,total:0,perPage:20}),x(!1)))}finally{E.current&&f(!1)}},[]),A=(0,e.useCallback)((e={})=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{E.current&&S({reset:!0,...e})},l)},[S,l]);(0,e.useEffect)(()=>{a&&(console.log("🎯 Initial lesson load"),S({reset:!0}))},[]),(0,e.useEffect)(()=>{_(e=>{const t={...e,search:i||"",courseId:n,type:r,contentType:o};return JSON.stringify(t)!==JSON.stringify(e)?t:e})},[i,n,r,o]),(0,e.useEffect)(()=>{a&&(console.log("🔄 Lesson filters changed, debouncing fetch..."),A())},[w,A,a]);const q=(0,e.useCallback)(async e=>{try{p(!0),y(null);const t=Ze(),n={title:e.title||"",content:e.content||"",excerpt:e.excerpt||"",status:e.status||"draft",menu_order:e.menuOrder||1,meta:{_course_id:e.courseId||"",_lesson_order:e.lessonOrder||"1",_duration_minutes:e.durationMinutes||"",_lesson_type:e.type||"video",_video_url:e.videoUrl||"",_content_type:e.contentType||"free",_prerequisite_lessons:e.prerequisiteLessons||"",_resources_urls:e.resourcesUrls||"",_completion_criteria:e.completionCriteria||"view",...e.meta}};console.log("🚀 Creating lesson:",n);const r=await C(t.endpoints.lessons,{method:"POST",body:JSON.stringify(n)}),o=await r.json();return u(e=>[o,...e]),v(e=>({...e,total:e.total+1})),console.log("✅ Lesson created:",o),o}catch(e){throw console.error("❌ Error creating lesson:",e),y(e.message||"Failed to create lesson"),e}finally{p(!1)}},[]),T=(0,e.useCallback)(async e=>{try{y(null);const t=Ze();console.log("🗑️ Deleting lesson:",e),await C(`${t.endpoints.lessons}/${e}`,{method:"DELETE"}),u(t=>t.filter(t=>t.id!==e)),v(e=>({...e,total:Math.max(0,e.total-1)})),console.log("✅ Lesson deleted")}catch(e){throw console.error("❌ Error deleting lesson:",e),y(e.message||"Failed to delete lesson"),e}},[]),P=(0,e.useCallback)(async e=>{try{y(null);const t=c.find(t=>t.id===e);if(!t)throw new Error("Lesson not found");const n={title:`${t.title?.rendered||t.title} (Copy)`,content:t.content?.rendered||t.content||"",excerpt:t.excerpt?.rendered||t.excerpt||"",status:"draft",courseId:t.meta?._course_id,type:t.meta?._lesson_type,contentType:t.meta?._content_type,durationMinutes:t.meta?._duration_minutes,videoUrl:t.meta?._video_url,prerequisiteLessons:t.meta?._prerequisite_lessons,resourcesUrls:t.meta?._resources_urls,completionCriteria:t.meta?._completion_criteria,meta:t.meta};return console.log("📋 Duplicating lesson:",e),await q(n)}catch(e){throw console.error("❌ Error duplicating lesson:",e),y(e.message||"Failed to duplicate lesson"),e}},[c,q]),M=(0,e.useCallback)(()=>{b&&!d&&S({page:g.currentPage+1,reset:!1})},[b,d,g.currentPage,S]),L=(0,e.useCallback)(()=>{O.current="",S({reset:!0})},[S]),R=(0,e.useMemo)(()=>({totalLessons:c.length,publishedLessons:c.filter(e=>"publish"===e.status).length,draftLessons:c.filter(e=>"draft"===e.status).length,privateLessons:c.filter(e=>"private"===e.status).length,lessonsByType:c.reduce((e,t)=>{const n=t.meta?._lesson_type||"video";return e[n]=(e[n]||0)+1,e},{}),lessonsByContentType:c.reduce((e,t)=>{const n=t.meta?._content_type||"free";return e[n]=(e[n]||0)+1,e},{}),averageDuration:c.length>0?Math.round(c.reduce((e,t)=>e+parseInt(t.meta?._duration_minutes||"0"),0)/c.length):0,totalDuration:c.reduce((e,t)=>e+parseInt(t.meta?._duration_minutes||"0"),0),lessonsWithVideo:c.filter(e=>e.meta?._video_url&&""!==e.meta._video_url.trim()).length,lessonsWithPrerequisites:c.filter(e=>e.meta?._prerequisite_lessons&&""!==e.meta._prerequisite_lessons.trim()).length,freeLessons:c.filter(e=>"free"===e.meta?._content_type).length,premiumLessons:c.filter(e=>"premium"===e.meta?._content_type).length}),[c]);return{lessons:c,loading:d,creating:h,error:m,pagination:g,hasMore:b,filters:w,computed:R,createLesson:q,deleteLesson:T,duplicateLesson:P,refreshLessons:L,loadMoreLessons:M,fetchLessons:A}})({search:m,courseId:"all"!==b.courseId?b.courseId:null,type:"all"!==b.type?b.type:null,contentType:"all"!==b.contentType?b.contentType:null,autoFetch:!0,debounceMs:500}),{courses:P}=Xe({autoFetch:!0,debounceMs:300}),M=(0,e.useCallback)(e=>{n(e),w("courseId",e)},[w]),L=(0,e.useCallback)(e=>{o(e),w("type",e)},[w]),R=(0,e.useCallback)(e=>{a(e),w("contentType",e)},[w]),D=(0,e.useCallback)(e=>{const t=e.target.value;g(t)},[g]),I=((0,e.useCallback)(async e=>{try{const t=await C(e);return l(!1),t}catch(e){throw console.error("Error creating lesson:",e),e}},[C]),(0,e.useCallback)(e=>{f(e),u(!0)},[])),z=(0,e.useCallback)(async()=>{if(d)try{await S(d.id),u(!1),f(null)}catch(e){console.error("Error deleting lesson:",e)}},[d,S]),B=(0,e.useCallback)(async e=>{try{await A(e.id)}catch(e){console.error("Error duplicating lesson:",e)}},[A]),F=(0,e.useCallback)(e=>{console.log("Navigate to lesson details:",e.id)},[]),$=(0,e.useCallback)(()=>{T()},[T]),U=(0,e.useMemo)(()=>{const e=O.totalLessons||0,t=O.averageDuration||0,n=O.totalDuration||0,r=O.lessonsWithVideo||0,o=O.freeLessons||0,i=O.premiumLessons||0;return[{label:"Total Lessons",value:e,icon:_t,iconColor:"text-blue-500"},{label:"Avg. Duration",value:t>0?`${t}min`:"N/A",icon:rt,iconColor:"text-green-500"},{label:"Total Duration",value:n>0?`${Math.floor(n/60)}h ${n%60}m`:"N/A",icon:jt,iconColor:"text-purple-500"},{label:"Video Lessons",value:r,icon:Nt,iconColor:"text-red-500"},{label:"Free Lessons",value:o,icon:kt,iconColor:"text-blue-400"},{label:"Premium Lessons",value:i,icon:Et,iconColor:"text-yellow-500"}]},[O]),H=(0,e.useMemo)(()=>[{value:"all",label:"All Courses"},...P.map(e=>({value:e.id.toString(),label:e.title?.rendered||e.title||`Course ${e.id}`}))],[P]);return(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Lesson Management"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-1",children:"Create and manage your lessons"})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(N||y||x)&&(0,lt.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),y?"Searching...":x?"Filtering...":"Loading..."]}),(0,lt.jsx)("button",{onClick:$,disabled:N,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:"Refresh"}),(0,lt.jsx)("button",{onClick:()=>l(!0),disabled:q,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:q?"Creating...":"Create Lesson"})]})]}),(0,lt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:U.map((e,t)=>{const n=e.icon;return(0,lt.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:`flex-shrink-0 ${e.iconColor}`,children:(0,lt.jsx)(n,{className:"h-6 w-6"})}),(0,lt.jsxs)("div",{className:"ml-3",children:[(0,lt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,lt.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.value})]})]})},t)})})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,lt.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})}),(0,lt.jsx)("input",{type:"text",placeholder:"Search lessons...",value:m,onChange:D,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),m&&(0,lt.jsxs)("button",{onClick:v,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:[(0,lt.jsx)("span",{className:"sr-only",children:"Clear search"}),"×"]})]}),(0,lt.jsx)("select",{value:t,onChange:e=>M(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:H.map(e=>(0,lt.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,lt.jsx)("select",{value:r,onChange:e=>L(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[{value:"all",label:"All Types"},{value:"video",label:"Video"},{value:"text",label:"Text"},{value:"quiz",label:"Quiz"},{value:"assignment",label:"Assignment"},{value:"live",label:"Live Session"}].map(e=>(0,lt.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,lt.jsx)("select",{value:i,onChange:e=>R(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[{value:"all",label:"All Access Types"},{value:"free",label:"Free"},{value:"premium",label:"Premium"}].map(e=>(0,lt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,lt.jsx)("div",{className:"mt-4 flex justify-end",children:(0,lt.jsx)("button",{onClick:_,className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Clear All Filters"})})]}),(0,lt.jsx)(gt,{items:j,loading:N,error:k,pagination:E,viewMode:h,onViewModeChange:p,renderCard:e=>(0,lt.jsx)(Pt,{lesson:e,onEdit:F,onDelete:I,onDuplicate:B,onClick:F},e.id),emptyState:{icon:_t,title:"No lessons found",description:"Get started by creating your first lesson.",actionLabel:"Create Lesson",onAction:()=>l(!0)}}),s&&(0,lt.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,lt.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,lt.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,lt.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,lt.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,lt.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,lt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Create New Lesson"}),(0,lt.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Lesson creation form would go here..."})]}),(0,lt.jsx)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:(0,lt.jsx)("button",{onClick:()=>l(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Close"})})]})]})}),c&&d&&(0,lt.jsx)(xt,{isOpen:c,onClose:()=>u(!1),onConfirm:z,title:"Delete Lesson",message:`Are you sure you want to delete "${d.title?.rendered||d.title}"? This action cannot be undone.`,confirmLabel:"Delete Lesson",isLoading:!1})]})},Lt=()=>(0,lt.jsx)("div",{className:"wrap",children:(0,lt.jsx)(Mt,{showCourseSelection:!0,title:"Lesson Management"})}),Rt=Fe("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Dt=Fe("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),It=Fe("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),zt=(t={})=>{const{courseId:n=null,difficulty:r=null,category:o=null,search:i="",autoFetch:a=!0,initialFilters:s={},debounceMs:l=500}=t,[c,u]=(0,e.useState)([]),[d,f]=(0,e.useState)(!0),[h,p]=(0,e.useState)(!1),[m,y]=(0,e.useState)(null),[g,v]=(0,e.useState)({currentPage:1,totalPages:1,total:0,perPage:20}),[b,x]=(0,e.useState)(!1),[w,_]=(0,e.useState)({search:i||"",courseId:n,difficulty:r,category:o,status:"publish,draft,private",...s}),j=(0,e.useRef)(w),N=(0,e.useRef)(t),k=(0,e.useRef)(null),E=(0,e.useRef)(!0),O=(0,e.useRef)("");(0,e.useEffect)(()=>{j.current=w},[w]),(0,e.useEffect)(()=>{N.current=t},[t]),(0,e.useEffect)(()=>()=>{E.current=!1,k.current&&clearTimeout(k.current)},[]);const C=async(e,t={})=>{try{const n={headers:{"Content-Type":"application/json","X-WP-Nonce":Ze().nonce},credentials:"same-origin",...t},r=await fetch(e,n);if(!r.ok){const e=await r.text();throw new Error(`API Error ${r.status}: ${r.statusText} - ${e}`)}return r}catch(e){throw console.error("API Request Error:",e),e}},S=(0,e.useCallback)(async(e={})=>{const{reset:t=!1,page:n=1,additionalFilters:r={}}=e;try{t&&(f(!0),y(null));const e=Ze(),o=j.current,i=new URLSearchParams({page:n.toString(),per_page:"20",status:o.status||"publish,draft",_embed:"true"});if(o.search&&i.append("search",o.search),o.courseId&&(i.append("meta_query[0][key]","_course_id"),i.append("meta_query[0][value]",o.courseId.toString()),i.append("meta_query[0][compare]","=")),o.difficulty){const e=o.courseId?1:0;i.append(`meta_query[${e}][key]`,"_difficulty_level"),i.append(`meta_query[${e}][value]`,o.difficulty),i.append(`meta_query[${e}][compare]`,"=")}if(o.category){const e=(o.courseId?1:0)+(o.difficulty?1:0);i.append(`meta_query[${e}][key]`,"_quiz_category"),i.append(`meta_query[${e}][value]`,o.category),i.append(`meta_query[${e}][compare]`,"=")}[o.courseId,o.difficulty,o.category].filter(Boolean).length>1&&i.append("meta_query[relation]","AND"),Object.entries(r).forEach(([e,t])=>{null!=t&&""!==t&&i.append(e,t)});const a=`${e.endpoints.quizzes}?${i}`,s=`${a}-${n}-${t}`;if(s===O.current)return void console.log("🚫 Duplicate request prevented:",a);O.current=s,console.log("🚀 Fetching quizzes:",a);const l=await C(a),c=await l.json();if(!E.current)return;const d=l.headers.get("X-WP-Total"),h=l.headers.get("X-WP-TotalPages"),p={currentPage:n,totalPages:h?parseInt(h,10):1,total:d?parseInt(d,10):c.length,perPage:20};v(p),x(n<p.totalPages),u(t||1===n?c:e=>{const t=new Set(e.map(e=>e.id)),n=c.filter(e=>!t.has(e.id));return[...e,...n]}),console.log("✅ Quizzes loaded:",c.length)}catch(e){console.error("❌ Error fetching quizzes:",e),E.current&&(y(e.message||"Failed to fetch quizzes"),(t||1===n)&&(u([]),v({currentPage:1,totalPages:1,total:0,perPage:20}),x(!1)))}finally{E.current&&f(!1)}},[]),A=(0,e.useCallback)((e={})=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{E.current&&S({reset:!0,...e})},l)},[S,l]);(0,e.useEffect)(()=>{a&&(console.log("🎯 Initial quiz load"),S({reset:!0}))},[]),(0,e.useEffect)(()=>{_(e=>{const t={...e,search:i||"",courseId:n,difficulty:r,category:o};return JSON.stringify(t)!==JSON.stringify(e)?t:e})},[i,n,r,o]),(0,e.useEffect)(()=>{a&&(console.log("🔄 Filters changed, debouncing fetch..."),A())},[w,A,a]);const q=(0,e.useCallback)(async e=>{try{p(!0),y(null);const t=Ze(),n={title:e.title||"",content:e.content||"",excerpt:e.excerpt||"",status:e.status||"draft",meta:{_course_id:e.courseId||"",_difficulty_level:e.difficulty||"medium",_quiz_category:e.category||"",_time_limit:e.timeLimit||"0",_max_attempts:e.maxAttempts||"0",_passing_score:e.passingScore||"70",_randomize_questions:e.randomizeQuestions?"yes":"no",_show_results:e.showResults?"yes":"no",_quiz_question_ids:e.questionIds||[],...e.meta}};console.log("🚀 Creating quiz:",n);const r=await C(t.endpoints.quizzes,{method:"POST",body:JSON.stringify(n)}),o=await r.json();return u(e=>[o,...e]),v(e=>({...e,total:e.total+1})),console.log("✅ Quiz created:",o),o}catch(e){throw console.error("❌ Error creating quiz:",e),y(e.message||"Failed to create quiz"),e}finally{p(!1)}},[]),T=(0,e.useCallback)(async e=>{try{y(null);const t=Ze();console.log("🗑️ Deleting quiz:",e),await C(`${t.endpoints.quizzes}/${e}`,{method:"DELETE"}),u(t=>t.filter(t=>t.id!==e)),v(e=>({...e,total:Math.max(0,e.total-1)})),console.log("✅ Quiz deleted")}catch(e){throw console.error("❌ Error deleting quiz:",e),y(e.message||"Failed to delete quiz"),e}},[]),P=(0,e.useCallback)(async e=>{try{y(null);const t=c.find(t=>t.id===e);if(!t)throw new Error("Quiz not found");const n={title:`${t.title?.rendered||t.title} (Copy)`,content:t.content?.rendered||t.content||"",excerpt:t.excerpt?.rendered||t.excerpt||"",status:"draft",courseId:t.meta?._course_id,difficulty:t.meta?._difficulty_level,category:t.meta?._quiz_category,timeLimit:t.meta?._time_limit,maxAttempts:t.meta?._max_attempts,passingScore:t.meta?._passing_score,randomizeQuestions:"yes"===t.meta?._randomize_questions,showResults:"yes"===t.meta?._show_results,questionIds:t.meta?._quiz_question_ids||[],meta:t.meta};return console.log("📋 Duplicating quiz:",e),await q(n)}catch(e){throw console.error("❌ Error duplicating quiz:",e),y(e.message||"Failed to duplicate quiz"),e}},[c,q]),M=(0,e.useCallback)(()=>{b&&!d&&S({page:g.currentPage+1,reset:!1})},[b,d,g.currentPage,S]),L=(0,e.useCallback)(()=>{O.current="",S({reset:!0})},[S]),R=(0,e.useMemo)(()=>({totalQuizzes:c.length,publishedQuizzes:c.filter(e=>"publish"===e.status).length,draftQuizzes:c.filter(e=>"draft"===e.status).length,privateQuizzes:c.filter(e=>"private"===e.status).length,quizzesByDifficulty:c.reduce((e,t)=>{const n=t.meta?._difficulty_level||"medium";return e[n]=(e[n]||0)+1,e},{}),quizzesByCategory:c.reduce((e,t)=>{const n=t.meta?._quiz_category||"assessment";return e[n]=(e[n]||0)+1,e},{}),averageTimeLimit:c.length>0?Math.round(c.reduce((e,t)=>e+parseInt(t.meta?._time_limit||"0"),0)/c.length):0,averagePassingScore:c.length>0?Math.round(c.reduce((e,t)=>e+parseInt(t.meta?._passing_score||"70"),0)/c.length):70,quizzesWithTimeLimit:c.filter(e=>parseInt(e.meta?._time_limit||"0")>0).length,quizzesWithRandomization:c.filter(e=>"yes"===e.meta?._randomize_questions).length,totalAttempts:0,performanceScore:0}),[c]);return{quizzes:c,loading:d,creating:h,error:m,pagination:g,hasMore:b,filters:w,computed:R,createQuiz:q,deleteQuiz:T,duplicateQuiz:P,refreshQuizzes:L,loadMoreQuizzes:M,fetchQuizzes:A}},Bt=Fe("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Ft=Fe("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),$t=({question:t,viewMode:n="cards",onEdit:r,onDelete:o,onDuplicate:i,onClick:a,quizzes:s=[],showQuiz:l=!0,showStats:c=!0,className:u=""})=>{const d=t.meta?._question_type||"multiple_choice",f=t.meta?._difficulty_level||"medium",h=parseInt(t.meta?._points||"1"),p=parseInt(t.meta?._time_limit||"0"),m=t.meta?._quiz_id,y=t.meta?._question_category,g=t.meta?._explanation,v=(0,e.useMemo)(()=>m&&s.length?s.find(e=>e.id.toString()===m.toString()||e.id===parseInt(m,10)):null,[m,s]),b={timesAsked:Math.floor(100*Math.random())+1,correctAnswers:Math.floor(80*Math.random())+10,averageTime:Math.floor(30*Math.random())+10,difficultyScore:5*Math.random()+1},x=b.timesAsked>0?Math.round(b.correctAnswers/b.timesAsked*100):0,w=e=>{switch(e){case"publish":return"text-green-600 bg-green-100";case"draft":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},_=e=>{switch(e){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},j=e=>{switch(e){case"multiple_choice":return"Multiple Choice";case"true_false":return"True/False";case"short_answer":return"Short Answer";case"essay":return"Essay";case"fill_blank":return"Fill in Blank";default:return"Question"}},N=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600",k=e=>e?new Date(e).toLocaleDateString():null,E=[{label:"Edit",icon:Ge,onClick:r,color:"text-blue-600"},{label:"Duplicate",icon:Je,onClick:i,color:"text-green-600"},{label:"Delete",icon:et,onClick:o,color:"text-red-600",divider:!0}].filter(e=>e.onClick),O=(e=>{switch(e){case"multiple_choice":return Dt;case"true_false":return We;case"short_answer":return Ge;case"essay":return $e;case"fill_blank":return Bt;default:return Ct}})(d);return(0,lt.jsx)(ct,{item:t,viewMode:n,actions:E,className:u,clickable:!!a,onClick:a,children:"cards"===n?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-blue-600",children:[(0,lt.jsx)(O,{className:"h-4 w-4"}),(0,lt.jsx)("span",{children:j(d)})]}),y&&(0,lt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:y}),(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${_(f)}`,children:f})]}),(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${w(t.status)}`,children:"publish"===t.status?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(At,{className:"h-3 w-3 mr-1"}),"Published"]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(qt,{className:"h-3 w-3 mr-1"}),t.status]})})]}),(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 line-clamp-3",children:t.title?.rendered||t.title||"Untitled Question"}),l&&v&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600 mb-3",children:[(0,lt.jsx)($e,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{className:"truncate",children:["Quiz: ",v.title?.rendered||v.title]})]}),g&&(0,lt.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:g}),(0,lt.jsxs)("div",{className:"space-y-3",children:[(0,lt.jsx)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(Rt,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[h," point",1!==h?"s":""]})]}),p>0&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(rt,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[p,"s"]})]})]})}),c&&(0,lt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-gray-500",children:[(0,lt.jsx)(jt,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[b.timesAsked," attempts"]})]}),(0,lt.jsxs)("div",{className:`flex items-center space-x-1 ${N(x)}`,children:[(0,lt.jsx)(We,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[x,"% success"]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-gray-500",children:[(0,lt.jsx)(rt,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[b.averageTime,"s avg"]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-gray-500",children:[(0,lt.jsx)(Ft,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[b.difficultyScore.toFixed(1),"/5"]})]})]}),(0,lt.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 pt-2 border-t border-gray-100",children:[(0,lt.jsxs)("span",{children:["Modified ",k(t.modified)]}),(0,lt.jsxs)("span",{children:["ID: ",t.id]})]})]})]}):(0,lt.jsxs)("div",{className:"flex items-center w-full",children:[(0,lt.jsx)("div",{className:"flex-shrink-0 mr-4",children:(0,lt.jsx)("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,lt.jsx)(O,{className:"h-5 w-5 text-blue-600"})})}),(0,lt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:t.title?.rendered||t.title||"Untitled Question"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${_(f)}`,children:f}),c&&(0,lt.jsxs)("span",{className:`text-xs font-medium ${N(x)}`,children:[x,"%"]}),(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${w(t.status)}`,children:t.status})]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-500",children:[(0,lt.jsx)("span",{children:j(d)}),l&&v&&(0,lt.jsx)("span",{className:"truncate",children:v.title?.rendered||v.title}),(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(Rt,{className:"h-3 w-3"}),(0,lt.jsxs)("span",{children:[h,"pt"]})]}),p>0&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(rt,{className:"h-3 w-3"}),(0,lt.jsxs)("span",{children:[p,"s"]})]}),(0,lt.jsx)("span",{children:k(t.modified)})]})]})]})})},Ut=Fe("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var Ht=n(5708),Wt=n.n(Ht),Kt=n(5795);const Vt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function Qt(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Yt(e){return"nodeType"in e}function Zt(e){var t,n;return e?Qt(e)?e:Yt(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Xt(e){const{Document:t}=Zt(e);return e instanceof t}function Gt(e){return!Qt(e)&&e instanceof Zt(e).HTMLElement}function Jt(e){return e instanceof Zt(e).SVGElement}function en(e){return e?Qt(e)?e.document:Yt(e)?Xt(e)?e:Gt(e)||Jt(e)?e.ownerDocument:document:document:document}const tn=Vt?e.useLayoutEffect:e.useEffect;function nn(t){const n=(0,e.useRef)(t);return tn(()=>{n.current=t}),(0,e.useCallback)(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)},[])}function rn(t,n){void 0===n&&(n=[t]);const r=(0,e.useRef)(t);return tn(()=>{r.current!==t&&(r.current=t)},n),r}function on(t,n){const r=(0,e.useRef)();return(0,e.useMemo)(()=>{const e=t(r.current);return r.current=e,e},[...n])}function an(t){const n=nn(t),r=(0,e.useRef)(null),o=(0,e.useCallback)(e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e},[]);return[r,o]}function sn(t){const n=(0,e.useRef)();return(0,e.useEffect)(()=>{n.current=t},[t]),n.current}let ln={};function cn(t,n){return(0,e.useMemo)(()=>{if(n)return n;const e=null==ln[t]?0:ln[t]+1;return ln[t]=e,t+"-"+e},[t,n])}function un(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[n,o]of r){const r=t[n];null!=r&&(t[n]=r+e*o)}return t},{...t})}}const dn=un(1),fn=un(-1);function hn(e){if(!e)return!1;const{KeyboardEvent:t}=Zt(e.target);return t&&e instanceof t}function pn(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Zt(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const mn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[mn.Translate.toString(e),mn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),yn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gn(e){return e.matches(yn)?e:e.querySelector(yn)}const vn={display:"none"};function bn(e){let{id:n,value:r}=e;return t().createElement("div",{id:n,style:vn},r)}function xn(e){let{id:n,announcement:r,ariaLiveType:o="assertive"}=e;return t().createElement("div",{id:n,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":o,"aria-atomic":!0},r)}const wn=(0,e.createContext)(null),jn={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Nn={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function kn(n){let{announcements:r=Nn,container:o,hiddenTextDescribedById:i,screenReaderInstructions:a=jn}=n;const{announce:s,announcement:l}=function(){const[t,n]=(0,e.useState)("");return{announce:(0,e.useCallback)(e=>{null!=e&&n(e)},[]),announcement:t}}(),c=cn("DndLiveRegion"),[u,d]=(0,e.useState)(!1);if((0,e.useEffect)(()=>{d(!0)},[]),function(t){const n=(0,e.useContext)(wn);(0,e.useEffect)(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(t)},[t,n])}((0,e.useMemo)(()=>({onDragStart(e){let{active:t}=e;s(r.onDragStart({active:t}))},onDragMove(e){let{active:t,over:n}=e;r.onDragMove&&s(r.onDragMove({active:t,over:n}))},onDragOver(e){let{active:t,over:n}=e;s(r.onDragOver({active:t,over:n}))},onDragEnd(e){let{active:t,over:n}=e;s(r.onDragEnd({active:t,over:n}))},onDragCancel(e){let{active:t,over:n}=e;s(r.onDragCancel({active:t,over:n}))}}),[s,r])),!u)return null;const f=t().createElement(t().Fragment,null,t().createElement(bn,{id:i,value:a.draggable}),t().createElement(xn,{id:c,announcement:l}));return o?(0,Kt.createPortal)(f,o):f}var En,On;function Cn(){}(On=En||(En={})).DragStart="dragStart",On.DragMove="dragMove",On.DragEnd="dragEnd",On.DragCancel="dragCancel",On.DragOver="dragOver",On.RegisterDroppable="registerDroppable",On.SetDroppableDisabled="setDroppableDisabled",On.UnregisterDroppable="unregisterDroppable";const Sn=Object.freeze({x:0,y:0});function An(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function qn(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Tn(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Pn(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const Mn=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Pn(t,t.left,t.top),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=An(Pn(r),o);i.push({id:t,data:{droppableContainer:e,value:n}})}}return i.sort(qn)};function Ln(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-r,s=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=a*s;return Number((o/(n+r-o)).toFixed(4))}return 0}const Rn=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const e of r){const{id:r}=e,i=n.get(r);if(i){const n=Ln(i,t);n>0&&o.push({id:r,data:{droppableContainer:e,value:n}})}}return o.sort(Tn)};function Dn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Sn}function In(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}const zn=In(1);const Bn={ignoreTransform:!1};function Fn(e,t){void 0===t&&(t=Bn);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=Zt(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:o,scaleY:i,x:a,y:s}=r,l=e.left-a-(1-o)*parseFloat(n),c=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(n,t,r))}const{top:r,left:o,width:i,height:a,bottom:s,right:l}=n;return{top:r,left:o,width:i,height:a,bottom:s,right:l}}function $n(e){return Fn(e,{ignoreTransform:!0})}function Un(e,t){const n=[];return e?function r(o){if(null!=t&&n.length>=t)return n;if(!o)return n;if(Xt(o)&&null!=o.scrollingElement&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Gt(o)||Jt(o))return n;if(n.includes(o))return n;const i=Zt(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=Zt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"==typeof r&&n.test(r)})}(o,i)&&n.push(o),function(e,t){return void 0===t&&(t=Zt(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?n:r(o.parentNode)}(e):n}function Hn(e){const[t]=Un(e,1);return null!=t?t:null}function Wn(e){return Vt&&e?Qt(e)?e:Yt(e)?Xt(e)||e===en(e).scrollingElement?window:Gt(e)?e:null:null:null}function Kn(e){return Qt(e)?e.scrollX:e.scrollLeft}function Vn(e){return Qt(e)?e.scrollY:e.scrollTop}function Qn(e){return{x:Kn(e),y:Vn(e)}}var Yn;function Zn(e){return!(!Vt||!e)&&e===document.scrollingElement}function Xn(e){const t={x:0,y:0},n=Zn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Yn||(Yn={}));const Gn={x:.2,y:.2};function Jn(e,t,n,r,o){let{top:i,left:a,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===o&&(o=Gn);const{isTop:c,isBottom:u,isLeft:d,isRight:f}=Xn(e),h={x:0,y:0},p={x:0,y:0},m=t.height*o.y,y=t.width*o.x;return!c&&i<=t.top+m?(h.y=Yn.Backward,p.y=r*Math.abs((t.top+m-i)/m)):!u&&l>=t.bottom-m&&(h.y=Yn.Forward,p.y=r*Math.abs((t.bottom-m-l)/m)),!f&&s>=t.right-y?(h.x=Yn.Forward,p.x=r*Math.abs((t.right-y-s)/y)):!d&&a<=t.left+y&&(h.x=Yn.Backward,p.x=r*Math.abs((t.left+y-a)/y)),{direction:h,speed:p}}function er(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function tr(e){return e.reduce((e,t)=>dn(e,Qn(t)),Sn)}const nr=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+Kn(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+Vn(t),0)}]];class rr{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Un(t),r=tr(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of nr)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(n),a=r[e]-t;return this.rect[i]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class or{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function ir(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var ar,sr,lr;function cr(e){e.preventDefault()}function ur(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(ar||(ar={})),(lr=sr||(sr={})).Space="Space",lr.Down="ArrowDown",lr.Right="ArrowRight",lr.Left="ArrowLeft",lr.Up="ArrowUp",lr.Esc="Escape",lr.Enter="Enter",lr.Tab="Tab";const dr={start:[sr.Space,sr.Enter],cancel:[sr.Esc],end:[sr.Space,sr.Enter,sr.Tab]},fr=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case sr.Right:return{...n,x:n.x+25};case sr.Left:return{...n,x:n.x-25};case sr.Down:return{...n,y:n.y+25};case sr.Up:return{...n,y:n.y-25}}};class hr{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new or(en(t)),this.windowListeners=new or(Zt(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ar.Resize,this.handleCancel),this.windowListeners.add(ar.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ar.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=Fn),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);Hn(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(Sn)}handleKeyDown(e){if(hn(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:o=dr,coordinateGetter:i=fr,scrollBehavior:a="smooth"}=r,{code:s}=e;if(o.end.includes(s))return void this.handleEnd(e);if(o.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:Sn;this.referenceCoordinates||(this.referenceCoordinates=c);const u=i(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=fn(u,c),r={x:0,y:0},{scrollableAncestors:o}=n.current;for(const n of o){const o=e.code,{isTop:i,isRight:s,isLeft:l,isBottom:c,maxScroll:d,minScroll:f}=Xn(n),h=er(n),p={x:Math.min(o===sr.Right?h.right-h.width/2:h.right,Math.max(o===sr.Right?h.left:h.left+h.width/2,u.x)),y:Math.min(o===sr.Down?h.bottom-h.height/2:h.bottom,Math.max(o===sr.Down?h.top:h.top+h.height/2,u.y))},m=o===sr.Right&&!s||o===sr.Left&&!l,y=o===sr.Down&&!c||o===sr.Up&&!i;if(m&&p.x!==u.x){const e=n.scrollLeft+t.x,i=o===sr.Right&&e<=d.x||o===sr.Left&&e>=f.x;if(i&&!t.y)return void n.scrollTo({left:e,behavior:a});r.x=i?n.scrollLeft-e:o===sr.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(y&&p.y!==u.y){const e=n.scrollTop+t.y,i=o===sr.Down&&e<=d.y||o===sr.Up&&e>=f.y;if(i&&!t.x)return void n.scrollTo({top:e,behavior:a});r.y=i?n.scrollTop-e:o===sr.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,dn(fn(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function pr(e){return Boolean(e&&"distance"in e)}function mr(e){return Boolean(e&&"delay"in e)}hr.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=dr,onActivation:o}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=i.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==o||o({event:e.nativeEvent}),0))}return!1}}];class yr{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=Zt(e);return e instanceof t?e:en(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=en(i),this.documentListeners=new or(this.document),this.listeners=new or(n),this.windowListeners=new or(Zt(i)),this.initialCoordinates=null!=(r=pn(o))?r:Sn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ar.Resize,this.handleCancel),this.windowListeners.add(ar.DragStart,cr),this.windowListeners.add(ar.VisibilityChange,this.handleCancel),this.windowListeners.add(ar.ContextMenu,cr),this.documentListeners.add(ar.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(mr(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(pr(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ar.Click,ur,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ar.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!r)return;const s=null!=(t=pn(e))?t:Sn,l=fn(r,s);if(!n&&a){if(pr(a)){if(null!=a.tolerance&&ir(l,a.tolerance))return this.handleCancel();if(ir(l,a.distance))return this.handleStart()}return mr(a)&&ir(l,a.tolerance)?this.handleCancel():void this.handlePending(a,l)}e.cancelable&&e.preventDefault(),i(s)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===sr.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const gr={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class vr extends yr{constructor(e){const{event:t}=e,n=en(t.target);super(e,gr,n)}}vr.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button||(null==r||r({event:n}),0))}}];const br={move:{name:"mousemove"},end:{name:"mouseup"}};var xr;!function(e){e[e.RightClick=2]="RightClick"}(xr||(xr={})),class extends yr{constructor(e){super(e,br,en(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==xr.RightClick&&(null==r||r({event:n}),!0)}}];const wr={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var _r,jr;(class extends yr{constructor(e){super(e,wr)}static setup(){return window.addEventListener(wr.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(wr.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return!(o.length>1||(null==r||r({event:n}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(_r||(_r={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(jr||(jr={}));const Nr={x:{[Yn.Backward]:!1,[Yn.Forward]:!1},y:{[Yn.Backward]:!1,[Yn.Forward]:!1}};var kr,Er;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(kr||(kr={})),function(e){e.Optimized="optimized"}(Er||(Er={}));const Or=new Map;function Cr(e,t){return on(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function Sr(t){let{callback:n,disabled:r}=t;const o=nn(n),i=(0,e.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(o)},[r]);return(0,e.useEffect)(()=>()=>null==i?void 0:i.disconnect(),[i]),i}function Ar(e){return new rr(Fn(e),e)}function qr(t,n,r){void 0===n&&(n=Ar);const[o,i]=(0,e.useState)(null);function a(){i(e=>{if(!t)return null;var o;if(!1===t.isConnected)return null!=(o=null!=e?e:r)?o:null;const i=n(t);return JSON.stringify(e)===JSON.stringify(i)?e:i})}const s=function(t){let{callback:n,disabled:r}=t;const o=nn(n),i=(0,e.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(o)},[o,r]);return(0,e.useEffect)(()=>()=>null==i?void 0:i.disconnect(),[i]),i}({callback(e){if(t)for(const n of e){const{type:e,target:r}=n;if("childList"===e&&r instanceof HTMLElement&&r.contains(t)){a();break}}}}),l=Sr({callback:a});return tn(()=>{a(),t?(null==l||l.observe(t),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==s||s.disconnect())},[t]),o}const Tr=[];function Pr(t,n){void 0===n&&(n=[]);const r=(0,e.useRef)(null);return(0,e.useEffect)(()=>{r.current=null},n),(0,e.useEffect)(()=>{const e=t!==Sn;e&&!r.current&&(r.current=t),!e&&r.current&&(r.current=null)},[t]),r.current?fn(t,r.current):Sn}function Mr(t){return(0,e.useMemo)(()=>t?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(t):null,[t])}const Lr=[];const Rr=[{sensor:vr,options:{}},{sensor:hr,options:{}}],Dr={current:{}},Ir={draggable:{measure:$n},droppable:{measure:$n,strategy:kr.WhileDragging,frequency:Er.Optimized},dragOverlay:{measure:Fn}};class zr extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Br={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new zr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Cn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ir,measureDroppableContainers:Cn,windowRect:null,measuringScheduled:!1},Fr={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Cn,draggableNodes:new Map,over:null,measureDroppableContainers:Cn},$r=(0,e.createContext)(Fr),Ur=(0,e.createContext)(Br);function Hr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new zr}}}function Wr(e,t){switch(t.type){case En.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case En.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case En.DragEnd:case En.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case En.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new zr(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case En.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new zr(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case En.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new zr(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Kr(t){let{disabled:n}=t;const{active:r,activatorEvent:o,draggableNodes:i}=(0,e.useContext)($r),a=sn(o),s=sn(null==r?void 0:r.id);return(0,e.useEffect)(()=>{if(!n&&!o&&a&&null!=s){if(!hn(a))return;if(document.activeElement===a.target)return;const e=i.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=gn(e);if(t){t.focus();break}}})}},[o,n,i,s,a]),null}const Vr=(0,e.createContext)({...Sn,scaleX:1,scaleY:1});var Qr;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Qr||(Qr={}));const Yr=(0,e.memo)(function(n){var r,o,i,a;let{id:s,accessibility:l,autoScroll:c=!0,children:u,sensors:d=Rr,collisionDetection:f=Rn,measuring:h,modifiers:p,...m}=n;const y=(0,e.useReducer)(Wr,void 0,Hr),[g,v]=y,[b,x]=function(){const[t]=(0,e.useState)(()=>new Set),n=(0,e.useCallback)(e=>(t.add(e),()=>t.delete(e)),[t]);return[(0,e.useCallback)(e=>{let{type:n,event:r}=e;t.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[t]),n]}(),[w,_]=(0,e.useState)(Qr.Uninitialized),j=w===Qr.Initialized,{draggable:{active:N,nodes:k,translate:E},droppable:{containers:O}}=g,C=null!=N?k.get(N):null,S=(0,e.useRef)({initial:null,translated:null}),A=(0,e.useMemo)(()=>{var e;return null!=N?{id:N,data:null!=(e=null==C?void 0:C.data)?e:Dr,rect:S}:null},[N,C]),q=(0,e.useRef)(null),[T,P]=(0,e.useState)(null),[M,L]=(0,e.useState)(null),R=rn(m,Object.values(m)),D=cn("DndDescribedBy",s),I=(0,e.useMemo)(()=>O.getEnabled(),[O]),z=(B=h,(0,e.useMemo)(()=>({draggable:{...Ir.draggable,...null==B?void 0:B.draggable},droppable:{...Ir.droppable,...null==B?void 0:B.droppable},dragOverlay:{...Ir.dragOverlay,...null==B?void 0:B.dragOverlay}}),[null==B?void 0:B.draggable,null==B?void 0:B.droppable,null==B?void 0:B.dragOverlay]));var B;const{droppableRects:F,measureDroppableContainers:$,measuringScheduled:U}=function(t,n){let{dragging:r,dependencies:o,config:i}=n;const[a,s]=(0,e.useState)(null),{frequency:l,measure:c,strategy:u}=i,d=(0,e.useRef)(t),f=function(){switch(u){case kr.Always:return!1;case kr.BeforeDragging:return r;default:return!r}}(),h=rn(f),p=(0,e.useCallback)(function(e){void 0===e&&(e=[]),h.current||s(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),m=(0,e.useRef)(null),y=on(e=>{if(f&&!r)return Or;if(!e||e===Or||d.current!==t||null!=a){const e=new Map;for(let n of t){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){e.set(n.id,n.rect.current);continue}const t=n.node.current,r=t?new rr(c(t),t):null;n.rect.current=r,r&&e.set(n.id,r)}return e}return e},[t,a,r,f,c]);return(0,e.useEffect)(()=>{d.current=t},[t]),(0,e.useEffect)(()=>{f||p()},[r,f]),(0,e.useEffect)(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),(0,e.useEffect)(()=>{f||"number"!=typeof l||null!==m.current||(m.current=setTimeout(()=>{p(),m.current=null},l))},[l,f,p,...o]),{droppableRects:y,measureDroppableContainers:p,measuringScheduled:null!=a}}(I,{dragging:j,dependencies:[E.x,E.y],config:z.droppable}),H=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return on(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(k,N),W=(0,e.useMemo)(()=>M?pn(M):null,[M]),K=function(){const e=!1===(null==T?void 0:T.autoScrollEnabled),t="object"==typeof c?!1===c.enabled:!1===c,n=j&&!e&&!t;return"object"==typeof c?{...c,enabled:n}:{enabled:n}}(),V=function(e,t){return Cr(e,t)}(H,z.draggable.measure);!function(t){let{activeNode:n,measure:r,initialRect:o,config:i=!0}=t;const a=(0,e.useRef)(!1),{x:s,y:l}="boolean"==typeof i?{x:i,y:i}:i;tn(()=>{if(!s&&!l||!n)return void(a.current=!1);if(a.current||!o)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=Dn(r(e),o);if(s||(t.x=0),l||(t.y=0),a.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=Hn(e);n&&n.scrollBy({top:t.y,left:t.x})}},[n,s,l,o,r])}({activeNode:null!=N?k.get(N):null,config:K.layoutShiftCompensation,initialRect:V,measure:z.draggable.measure});const Q=qr(H,z.draggable.measure,V),Y=qr(H?H.parentElement:null),Z=(0,e.useRef)({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:F,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),X=O.getNodeFor(null==(r=Z.current.over)?void 0:r.id),G=function(t){let{measure:n}=t;const[r,o]=(0,e.useState)(null),i=Sr({callback:(0,e.useCallback)(e=>{for(const{target:t}of e)if(Gt(t)){o(e=>{const r=n(t);return e?{...e,width:r.width,height:r.height}:r});break}},[n])}),a=(0,e.useCallback)(e=>{const t=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Gt(t)?t:e}(e);null==i||i.disconnect(),t&&(null==i||i.observe(t)),o(t?n(t):null)},[n,i]),[s,l]=an(a);return(0,e.useMemo)(()=>({nodeRef:s,rect:r,setRef:l}),[r,s,l])}({measure:z.dragOverlay.measure}),J=null!=(o=G.nodeRef.current)?o:H,ee=j?null!=(i=G.rect)?i:Q:null,te=Boolean(G.nodeRef.current&&G.rect),ne=Dn(re=te?null:Q,Cr(re));var re;const oe=Mr(J?Zt(J):null),ie=function(t){const n=(0,e.useRef)(t),r=on(e=>t?e&&e!==Tr&&t&&n.current&&t.parentNode===n.current.parentNode?e:Un(t):Tr,[t]);return(0,e.useEffect)(()=>{n.current=t},[t]),r}(j?null!=X?X:H:null),ae=function(t,n){void 0===n&&(n=Fn);const[r]=t,o=Mr(r?Zt(r):null),[i,a]=(0,e.useState)(Lr);function s(){a(()=>t.length?t.map(e=>Zn(e)?o:new rr(n(e),e)):Lr)}const l=Sr({callback:s});return tn(()=>{null==l||l.disconnect(),s(),t.forEach(e=>null==l?void 0:l.observe(e))},[t]),i}(ie),se=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}(p,{transform:{x:E.x-ne.x,y:E.y-ne.y,scaleX:1,scaleY:1},activatorEvent:M,active:A,activeNodeRect:Q,containerNodeRect:Y,draggingNodeRect:ee,over:Z.current.over,overlayNodeRect:G.rect,scrollableAncestors:ie,scrollableAncestorRects:ae,windowRect:oe}),le=W?dn(W,E):null,ce=function(t){const[n,r]=(0,e.useState)(null),o=(0,e.useRef)(t),i=(0,e.useCallback)(e=>{const t=Wn(e.target);t&&r(e=>e?(e.set(t,Qn(t)),new Map(e)):null)},[]);return(0,e.useEffect)(()=>{const e=o.current;if(t!==e){n(e);const a=t.map(e=>{const t=Wn(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,Qn(t)]):null}).filter(e=>null!=e);r(a.length?new Map(a):null),o.current=t}return()=>{n(t),n(e)};function n(e){e.forEach(e=>{const t=Wn(e);null==t||t.removeEventListener("scroll",i)})}},[i,t]),(0,e.useMemo)(()=>t.length?n?Array.from(n.values()).reduce((e,t)=>dn(e,t),Sn):tr(t):Sn,[t,n])}(ie),ue=Pr(ce),de=Pr(ce,[Q]),fe=dn(se,ue),he=ee?zn(ee,se):null,pe=A&&he?f({active:A,collisionRect:he,droppableRects:F,droppableContainers:I,pointerCoordinates:le}):null,me=function(e){if(!e||0===e.length)return null;const[t]=e;return t.id}(pe),[ye,ge]=(0,e.useState)(null),ve=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(te?se:dn(se,de),null!=(a=null==ye?void 0:ye.rect)?a:null,Q),be=(0,e.useRef)(null),xe=(0,e.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(null==q.current)return;const o=k.get(q.current);if(!o)return;const i=e.nativeEvent,a=new n({active:q.current,activeNode:o,event:i,options:r,context:Z,onAbort(e){if(!k.get(e))return;const{onDragAbort:t}=R.current,n={id:e};null==t||t(n),b({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!k.get(e))return;const{onDragPending:o}=R.current,i={id:e,constraint:t,initialCoordinates:n,offset:r};null==o||o(i),b({type:"onDragPending",event:i})},onStart(e){const t=q.current;if(null==t)return;const n=k.get(t);if(!n)return;const{onDragStart:r}=R.current,o={activatorEvent:i,active:{id:t,data:n.data,rect:S}};(0,Kt.unstable_batchedUpdates)(()=>{null==r||r(o),_(Qr.Initializing),v({type:En.DragStart,initialCoordinates:e,active:t}),b({type:"onDragStart",event:o}),P(be.current),L(i)})},onMove(e){v({type:En.DragMove,coordinates:e})},onEnd:s(En.DragEnd),onCancel:s(En.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:o}=Z.current;let a=null;if(t&&o){const{cancelDrop:s}=R.current;a={activatorEvent:i,active:t,collisions:n,delta:o,over:r},e===En.DragEnd&&"function"==typeof s&&await Promise.resolve(s(a))&&(e=En.DragCancel)}q.current=null,(0,Kt.unstable_batchedUpdates)(()=>{v({type:e}),_(Qr.Uninitialized),ge(null),P(null),L(null),be.current=null;const t=e===En.DragEnd?"onDragEnd":"onDragCancel";if(a){const e=R.current[t];null==e||e(a),b({type:t,event:a})}})}}be.current=a},[k]),we=(0,e.useCallback)((e,t)=>(n,r)=>{const o=n.nativeEvent,i=k.get(r);if(null!==q.current||!i||o.dndKit||o.defaultPrevented)return;const a={active:i};!0===e(n,t.options,a)&&(o.dndKit={capturedBy:t.sensor},q.current=r,xe(n,t))},[k,xe]),_e=function(t,n){return(0,e.useMemo)(()=>t.reduce((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:n(e.handler,t)}))]},[]),[t,n])}(d,we);!function(t){(0,e.useEffect)(()=>{if(!Vt)return;const e=t.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const t of e)null==t||t()}},t.map(e=>{let{sensor:t}=e;return t}))}(d),tn(()=>{Q&&w===Qr.Initializing&&_(Qr.Initialized)},[Q,w]),(0,e.useEffect)(()=>{const{onDragMove:e}=R.current,{active:t,activatorEvent:n,collisions:r,over:o}=Z.current;if(!t||!n)return;const i={active:t,activatorEvent:n,collisions:r,delta:{x:fe.x,y:fe.y},over:o};(0,Kt.unstable_batchedUpdates)(()=>{null==e||e(i),b({type:"onDragMove",event:i})})},[fe.x,fe.y]),(0,e.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:o}=Z.current;if(!e||null==q.current||!t||!o)return;const{onDragOver:i}=R.current,a=r.get(me),s=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:o.x,y:o.y},over:s};(0,Kt.unstable_batchedUpdates)(()=>{ge(s),null==i||i(l),b({type:"onDragOver",event:l})})},[me]),tn(()=>{Z.current={activatorEvent:M,active:A,activeNode:H,collisionRect:he,collisions:pe,droppableRects:F,draggableNodes:k,draggingNode:J,draggingNodeRect:ee,droppableContainers:O,over:ye,scrollableAncestors:ie,scrollAdjustedTranslate:fe},S.current={initial:ee,translated:he}},[A,H,pe,he,k,J,ee,F,O,ye,ie,fe]),function(t){let{acceleration:n,activator:r=_r.Pointer,canScroll:o,draggingRect:i,enabled:a,interval:s=5,order:l=jr.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=t;const p=function(e){let{delta:t,disabled:n}=e;const r=sn(t);return on(e=>{if(n||!r||!e)return Nr;const o=Math.sign(t.x-r.x),i=Math.sign(t.y-r.y);return{x:{[Yn.Backward]:e.x[Yn.Backward]||-1===o,[Yn.Forward]:e.x[Yn.Forward]||1===o},y:{[Yn.Backward]:e.y[Yn.Backward]||-1===i,[Yn.Forward]:e.y[Yn.Forward]||1===i}}},[n,t,r])}({delta:f,disabled:!a}),[m,y]=function(){const t=(0,e.useRef)(null);return[(0,e.useCallback)((e,n)=>{t.current=setInterval(e,n)},[]),(0,e.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[])]}(),g=(0,e.useRef)({x:0,y:0}),v=(0,e.useRef)({x:0,y:0}),b=(0,e.useMemo)(()=>{switch(r){case _r.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case _r.DraggableRect:return i}},[r,i,c]),x=(0,e.useRef)(null),w=(0,e.useCallback)(()=>{const e=x.current;if(!e)return;const t=g.current.x*v.current.x,n=g.current.y*v.current.y;e.scrollBy(t,n)},[]),_=(0,e.useMemo)(()=>l===jr.TreeOrder?[...u].reverse():u,[l,u]);(0,e.useEffect)(()=>{if(a&&u.length&&b){for(const e of _){if(!1===(null==o?void 0:o(e)))continue;const t=u.indexOf(e),r=d[t];if(!r)continue;const{direction:i,speed:a}=Jn(e,r,b,n,h);for(const e of["x","y"])p[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0)return y(),x.current=e,m(w,s),g.current=a,void(v.current=i)}g.current={x:0,y:0},v.current={x:0,y:0},y()}else y()},[n,w,o,y,a,s,JSON.stringify(b),JSON.stringify(p),m,u,_,d,JSON.stringify(h)])}({...K,delta:E,draggingRect:he,pointerCoordinates:le,scrollableAncestors:ie,scrollableAncestorRects:ae});const je=(0,e.useMemo)(()=>({active:A,activeNode:H,activeNodeRect:Q,activatorEvent:M,collisions:pe,containerNodeRect:Y,dragOverlay:G,draggableNodes:k,droppableContainers:O,droppableRects:F,over:ye,measureDroppableContainers:$,scrollableAncestors:ie,scrollableAncestorRects:ae,measuringConfiguration:z,measuringScheduled:U,windowRect:oe}),[A,H,Q,M,pe,Y,G,k,O,F,ye,$,ie,ae,z,U,oe]),Ne=(0,e.useMemo)(()=>({activatorEvent:M,activators:_e,active:A,activeNodeRect:Q,ariaDescribedById:{draggable:D},dispatch:v,draggableNodes:k,over:ye,measureDroppableContainers:$}),[M,_e,A,Q,v,D,k,ye,$]);return t().createElement(wn.Provider,{value:x},t().createElement($r.Provider,{value:Ne},t().createElement(Ur.Provider,{value:je},t().createElement(Vr.Provider,{value:ve},u)),t().createElement(Kr,{disabled:!1===(null==l?void 0:l.restoreFocus)})),t().createElement(kn,{...l,hiddenTextDescribedById:D}))}),Zr=(0,e.createContext)(null),Xr="button";const Gr={timeout:25};function Jr(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function eo(e,t){return e.reduce((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e},Array(e.length))}function to(e){return null!==e&&e>=0}const no=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=Jr(t,r,n),a=t[o],s=i[o];return s&&a?{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}:null},ro={scaleX:1,scaleY:1},oo=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:a}=e;const s=null!=(t=i[n])?t:r;if(!s)return null;if(o===n){const e=i[a];return e?{x:0,y:n<a?e.top+e.height-(s.top+s.height):e.top-s.top,...ro}:null}const l=function(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}(i,o,n);return o>n&&o<=a?{x:0,y:-s.height-l,...ro}:o<n&&o>=a?{x:0,y:s.height+l,...ro}:{x:0,y:0,...ro}},io="Sortable",ao=t().createContext({activeIndex:-1,containerId:io,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:no,disabled:{draggable:!1,droppable:!1}});function so(n){let{children:r,id:o,items:i,strategy:a=no,disabled:s=!1}=n;const{active:l,dragOverlay:c,droppableRects:u,over:d,measureDroppableContainers:f}=(0,e.useContext)(Ur),h=cn(io,o),p=Boolean(null!==c.rect),m=(0,e.useMemo)(()=>i.map(e=>"object"==typeof e&&"id"in e?e.id:e),[i]),y=null!=l,g=l?m.indexOf(l.id):-1,v=d?m.indexOf(d.id):-1,b=(0,e.useRef)(m),x=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(m,b.current),w=-1!==v&&-1===g||x,_=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(s);tn(()=>{x&&y&&f(m)},[x,m,y,f]),(0,e.useEffect)(()=>{b.current=m},[m]);const j=(0,e.useMemo)(()=>({activeIndex:g,containerId:h,disabled:_,disableTransforms:w,items:m,overIndex:v,useDragOverlay:p,sortedRects:eo(m,u),strategy:a}),[g,h,_.draggable,_.droppable,w,m,v,u,p,a]);return t().createElement(ao.Provider,{value:j},r)}const lo=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Jr(n,r,o).indexOf(t)},co=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:l,transition:c}=e;return!(!c||!r||s!==i&&o===a||!n&&(a===o||t!==l))},uo={duration:200,easing:"ease"},fo="transform",ho=mn.Transition.toString({property:fo,duration:0,easing:"linear"}),po={roleDescription:"sortable"};function mo(t){let{animateLayoutChanges:n=co,attributes:r,disabled:o,data:i,getNewIndex:a=lo,id:s,strategy:l,resizeObserverConfig:c,transition:u=uo}=t;const{items:d,containerId:f,activeIndex:h,disabled:p,disableTransforms:m,sortedRects:y,overIndex:g,useDragOverlay:v,strategy:b}=(0,e.useContext)(ao),x=function(e,t){var n,r;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(o,p),w=d.indexOf(s),_=(0,e.useMemo)(()=>({sortable:{containerId:f,index:w,items:d},...i}),[f,i,w,d]),j=(0,e.useMemo)(()=>d.slice(d.indexOf(s)),[d,s]),{rect:N,node:k,isOver:E,setNodeRef:O}=function(t){let{data:n,disabled:r=!1,id:o,resizeObserverConfig:i}=t;const a=cn("Droppable"),{active:s,dispatch:l,over:c,measureDroppableContainers:u}=(0,e.useContext)($r),d=(0,e.useRef)({disabled:r}),f=(0,e.useRef)(!1),h=(0,e.useRef)(null),p=(0,e.useRef)(null),{disabled:m,updateMeasurementsFor:y,timeout:g}={...Gr,...i},v=rn(null!=y?y:o),b=Sr({callback:(0,e.useCallback)(()=>{f.current?(null!=p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),p.current=null},g)):f.current=!0},[g]),disabled:m||!s}),x=(0,e.useCallback)((e,t)=>{b&&(t&&(b.unobserve(t),f.current=!1),e&&b.observe(e))},[b]),[w,_]=an(x),j=rn(n);return(0,e.useEffect)(()=>{b&&w.current&&(b.disconnect(),f.current=!1,b.observe(w.current))},[w,b]),(0,e.useEffect)(()=>(l({type:En.RegisterDroppable,element:{id:o,key:a,disabled:r,node:w,rect:h,data:j}}),()=>l({type:En.UnregisterDroppable,key:a,id:o})),[o]),(0,e.useEffect)(()=>{r!==d.current.disabled&&(l({type:En.SetDroppableDisabled,id:o,key:a,disabled:r}),d.current.disabled=r)},[o,a,r,l]),{active:s,rect:h,isOver:(null==c?void 0:c.id)===o,node:w,over:c,setNodeRef:_}}({id:s,data:_,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...c}}),{active:C,activatorEvent:S,activeNodeRect:A,attributes:q,setNodeRef:T,listeners:P,isDragging:M,over:L,setActivatorNodeRef:R,transform:D}=function(t){let{id:n,data:r,disabled:o=!1,attributes:i}=t;const a=cn("Draggable"),{activators:s,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=(0,e.useContext)($r),{role:p=Xr,roleDescription:m="draggable",tabIndex:y=0}=null!=i?i:{},g=(null==c?void 0:c.id)===n,v=(0,e.useContext)(g?Vr:Zr),[b,x]=an(),[w,_]=an(),j=function(t,n){return(0,e.useMemo)(()=>t.reduce((e,t)=>{let{eventName:r,handler:o}=t;return e[r]=e=>{o(e,n)},e},{}),[t,n])}(s,n),N=rn(r);return tn(()=>(f.set(n,{id:n,key:a,node:b,activatorNode:w,data:N}),()=>{const e=f.get(n);e&&e.key===a&&f.delete(n)}),[f,n]),{active:c,activatorEvent:l,activeNodeRect:u,attributes:(0,e.useMemo)(()=>({role:p,tabIndex:y,"aria-disabled":o,"aria-pressed":!(!g||p!==Xr)||void 0,"aria-roledescription":m,"aria-describedby":d.draggable}),[o,p,y,g,m,d.draggable]),isDragging:g,listeners:o?void 0:j,node:b,over:h,setNodeRef:x,setActivatorNodeRef:_,transform:v}}({id:s,data:_,attributes:{...po,...r},disabled:x.draggable}),I=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,e.useMemo)(()=>e=>{n.forEach(t=>t(e))},n)}(O,T),z=Boolean(C),B=z&&!m&&to(h)&&to(g),F=!v&&M,$=F&&B?D:null,U=B?null!=$?$:(null!=l?l:b)({rects:y,activeNodeRect:A,activeIndex:h,overIndex:g,index:w}):null,H=to(h)&&to(g)?a({id:s,items:d,activeIndex:h,overIndex:g}):w,W=null==C?void 0:C.id,K=(0,e.useRef)({activeId:W,items:d,newIndex:H,containerId:f}),V=d!==K.current.items,Q=n({active:C,containerId:f,isDragging:M,isSorting:z,id:s,index:w,items:d,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:u,wasDragging:null!=K.current.activeId}),Y=function(t){let{disabled:n,index:r,node:o,rect:i}=t;const[a,s]=(0,e.useState)(null),l=(0,e.useRef)(r);return tn(()=>{if(!n&&r!==l.current&&o.current){const e=i.current;if(e){const t=Fn(o.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&s(n)}}r!==l.current&&(l.current=r)},[n,r,o,i]),(0,e.useEffect)(()=>{a&&s(null)},[a]),a}({disabled:!Q,index:w,node:k,rect:N});return(0,e.useEffect)(()=>{z&&K.current.newIndex!==H&&(K.current.newIndex=H),f!==K.current.containerId&&(K.current.containerId=f),d!==K.current.items&&(K.current.items=d)},[z,H,f,d]),(0,e.useEffect)(()=>{if(W===K.current.activeId)return;if(null!=W&&null==K.current.activeId)return void(K.current.activeId=W);const e=setTimeout(()=>{K.current.activeId=W},50);return()=>clearTimeout(e)},[W]),{active:C,activeIndex:h,attributes:q,data:_,rect:N,index:w,newIndex:H,items:d,isOver:E,isSorting:z,isDragging:M,listeners:P,node:k,overIndex:g,over:L,setNodeRef:I,setActivatorNodeRef:R,setDroppableNodeRef:O,setDraggableNodeRef:T,transform:null!=Y?Y:U,transition:Y||V&&K.current.newIndex===w?ho:F&&!hn(S)||!u?void 0:z||Q?mn.Transition.toString({...u,property:fo}):void 0}}sr.Down,sr.Right,sr.Up,sr.Left;const yo=Fe("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),go=Fe("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),vo=({id:e,option:t,index:n,isReadOnly:r,isMultipleChoice:o,handleOptionChange:i,setCorrectAnswer:a,removeOption:s})=>{const{attributes:l,listeners:c,setNodeRef:u,transform:d,transition:f}=mo({id:e}),h={transform:mn.Transform.toString(d),transition:f};return(0,lt.jsxs)("div",{ref:u,style:h,className:"flex items-center space-x-3 bg-gray-50 p-2 rounded-md",children:[!r&&(0,lt.jsx)("button",{type:"button",...l,...c,className:"cursor-grab text-gray-400 hover:text-gray-600",children:(0,lt.jsx)(yo,{className:"h-5 w-5"})}),(0,lt.jsx)("button",{type:"button",onClick:()=>a(n),className:"flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center "+(t.isCorrect?"bg-green-100 border-green-500":"border-gray-300 hover:border-gray-400"),disabled:r,children:t.isCorrect&&(0,lt.jsx)(go,{className:"h-3 w-3 text-green-600"})}),(0,lt.jsx)("input",{type:"text",value:t.text,onChange:e=>i(n,"text",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:`Option ${n+1}`,disabled:r||!o}),o&&!r&&(0,lt.jsx)("button",{type:"button",onClick:()=>s(n),className:"flex-shrink-0 text-red-500 hover:text-red-700",children:(0,lt.jsx)(et,{className:"h-4 w-4"})})]})},bo=({isOpen:t,onClose:n,question:r=null,onSave:o,mode:i="create",availableQuizzes:a=[],availableLessons:s=[],isLoading:l=!1})=>{const[c,u]=(0,e.useState)({title:"",type:"multiple_choice",difficulty:"medium",category:"",quizId:"",explanation:"",lessonId:"",provider:"human",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]}),[d,f]=(0,e.useState)({}),h=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,e.useMemo)(()=>[...n].filter(e=>null!=e),[...n])}((p=vr,m={activationConstraint:{distance:8}},(0,e.useMemo)(()=>({sensor:p,options:null!=m?m:{}}),[p,m])));var p,m;(0,e.useEffect)(()=>{if(r&&"create"!==i){const e=r.meta?._question_options||[],t=Array.isArray(e)&&e.length>0?e.map(e=>({text:e.text||"",isCorrect:e.is_correct||!1})):[{text:"",isCorrect:!1},{text:"",isCorrect:!1}];u({title:r.title?.rendered||r.title||"",type:r.meta?._question_type||"multiple_choice",difficulty:r.meta?._difficulty_level||"medium",category:r.meta?._question_category||"",points:r.meta?._points||"1",explanation:r.meta?._explanation||"",quizId:r.meta?._quiz_id||"",lessonId:r.meta?._question_lesson||"",provider:r.meta?._question_provider||"human",options:t})}else"create"===i&&u({title:"",type:"multiple_choice",difficulty:"medium",category:"",points:"1",explanation:"",quizId:"",lessonId:"",provider:"human",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]});f({})},[r,i,t]);const y=(e,t)=>{u(n=>({...n,[e]:t})),d[e]&&f(t=>({...t,[e]:null}))},g=(e,t,n)=>{u(r=>({...r,options:r.options.map((r,o)=>o===e?{...r,[t]:n}:r)}))},v=e=>{c.options.length>2&&u(t=>({...t,options:t.options.filter((t,n)=>n!==e)}))},b=e=>{"multiple_choice"===c.type&&u(t=>({...t,options:t.options.map((t,n)=>({...t,isCorrect:n===e}))}))},x=async e=>{if(!w())return;const t={title:c.title,status:"publish",quizId:c.quizId,lessonId:c.lessonId,provider:c.provider,explanation:c.explanation,type:c.type,difficulty:c.difficulty,category:c.category,options:c.options,points:"1",pointsIncorrect:"0"};try{await o(t,e),"reset"===e&&(u(e=>({...e,title:"",explanation:"",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]})),f({}))}catch(e){console.error("Error saving question:",e),f({submit:e.message||"Failed to save the question."})}},w=()=>{const e={};return c.title.trim()||(e.title="Question title is required"),"multiple_choice"===c.type&&(c.options.some(e=>e.isCorrect)||(e.options="Please select a correct answer"),c.options.some(e=>!e.text.trim())&&(e.options="All options must have text")),"true_false"===c.type&&(c.options.some(e=>e.isCorrect)||(e.options="Please select the correct answer")),f(e),0===Object.keys(e).length};if(!t)return null;const _="view"===i,j="create"===i?"Create New Question":"edit"===i?"Edit Question":"View Question";return(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:["view"===i?(0,lt.jsx)(At,{className:"h-6 w-6 text-blue-600"}):(0,lt.jsx)(Ft,{className:"h-6 w-6 text-indigo-600"}),(0,lt.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:j})]}),(0,lt.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,lt.jsx)(vt,{className:"h-6 w-6"})})]}),(0,lt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x("close")},className:"flex flex-col h-full",children:[(0,lt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,lt.jsxs)("div",{className:"md:col-span-3",children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Title *"}),(0,lt.jsx)("input",{type:"text",value:c.title,onChange:e=>y("title",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 "+(d.title?"border-red-300":"border-gray-300"),placeholder:"Enter question title",disabled:_}),d.title&&(0,lt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.title})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type *"}),(0,lt.jsx)("select",{value:c.type,onChange:e=>(e=>{let t=[...c.options];"true_false"===e?t=[{text:"True",isCorrect:!1},{text:"False",isCorrect:!1}]:"multiple_choice"===e&&c.options.length<2&&(t=[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]),u(n=>({...n,type:e,options:t}))})(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:_,children:[{value:"multiple_choice",label:"Multiple Choice"},{value:"true_false",label:"True/False"},{value:"short_answer",label:"Short Answer"},{value:"essay",label:"Essay"},{value:"fill_blank",label:"Fill in Blank"}].map(e=>(0,lt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),(0,lt.jsx)("select",{value:c.difficulty,onChange:e=>y("difficulty",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:_,children:[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}].map(e=>(0,lt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to Quiz"}),(0,lt.jsxs)("select",{value:c.quizId,onChange:e=>y("quizId",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:_,children:[(0,lt.jsx)("option",{value:"",children:"No Quiz (Question Bank)"}),a.map(e=>(0,lt.jsx)("option",{value:e.id,children:e.title?.rendered||e.title},e.id))]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to Lesson"}),(0,lt.jsxs)("select",{value:c.lessonId,onChange:e=>y("lessonId",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:_,children:[(0,lt.jsx)("option",{value:"",children:"No Lesson (General Question)"}),s.map(e=>(0,lt.jsx)("option",{value:e.id,children:e.title?.rendered||e.title},e.id))]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Provider"}),(0,lt.jsx)("select",{value:c.provider,onChange:e=>y("provider",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:_,children:[{value:"human",label:"Human (Manual Entry)"},{value:"ai_gpt4",label:"AI (GPT-4)"},{value:"ai_gemini",label:"AI (Gemini)"},{value:"imported",label:"Imported"}].map(e=>(0,lt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,lt.jsx)("input",{type:"text",value:c.category,onChange:e=>y("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Math, Science, History",disabled:_})]})]}),("multiple_choice"===c.type||"true_false"===c.type)&&(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Answer Options *"}),"multiple_choice"===c.type&&!_&&(0,lt.jsxs)("button",{type:"button",onClick:()=>{u(e=>({...e,options:[...e.options,{text:"",isCorrect:!1}]}))},className:"flex items-center space-x-1 text-indigo-600 hover:text-indigo-700 text-sm",children:[(0,lt.jsx)(Qe,{className:"h-4 w-4"}),(0,lt.jsx)("span",{children:"Add Option"})]})]}),(0,lt.jsx)(Yr,{sensors:h,collisionDetection:Mn,onDragEnd:e=>{const{active:t,over:n}=e;t.id!==n.id&&u(e=>{const r=e.options.findIndex((e,n)=>n===t.id),o=e.options.findIndex((e,t)=>t===n.id);return{...e,options:Jr(e.options,r,o)}})},children:(0,lt.jsx)(so,{items:c.options.map((e,t)=>t),strategy:oo,children:(0,lt.jsx)("div",{className:"space-y-3",children:c.options.map((e,t)=>(0,lt.jsx)(vo,{id:t,option:e,index:t,isReadOnly:_,isMultipleChoice:"multiple_choice"===c.type,handleOptionChange:g,setCorrectAnswer:b,removeOption:v},t))})})}),d.options&&(0,lt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.options})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),(0,lt.jsx)(Wt(),{theme:"snow",value:c.explanation,onChange:e=>{y("explanation",e)},readOnly:_,className:_?"bg-gray-50":""})]})]}),!_&&(0,lt.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[(0,lt.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:l,children:"Cancel"}),(0,lt.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),x("reset")},disabled:l,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",children:l?"Saving...":"Save & Add New"}),(0,lt.jsxs)("button",{type:"submit",disabled:l,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[(0,lt.jsx)(Ut,{className:"h-4 w-4"}),(0,lt.jsx)("span",{children:l?"Saving...":"create"===i?"Create Question":"Save Changes"})]})]})]})]})})},xo=()=>{const[t,n]=(0,e.useState)("all"),[r,o]=(0,e.useState)("all"),[i,a]=(0,e.useState)("all"),[s,l]=(0,e.useState)("all"),[c,u]=(0,e.useState)(""),[d,f]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),[m,y]=(0,e.useState)(!1),[g,v]=(0,e.useState)(null),[b,x]=(0,e.useState)(!1),[w,_]=(0,e.useState)(null),[j,N]=(0,e.useState)("cards"),{questions:k,loading:E,error:O,pagination:C,computed:S,createQuestion:A,deleteQuestion:q,duplicateQuestion:T,creating:P}=((t={})=>{const{quizId:n=null,type:r=null,difficulty:o=null,category:i=null,search:a="",autoFetch:s=!0,initialFilters:l={},debounceMs:c=500}=t,[u,d]=(0,e.useState)([]),[f,h]=(0,e.useState)(!0),[p,m]=(0,e.useState)(!1),[y,g]=(0,e.useState)(null),[v,b]=(0,e.useState)({currentPage:1,totalPages:1,total:0,perPage:20}),[x,w]=(0,e.useState)(!1),[_,j]=(0,e.useState)({search:a||"",quizId:n,type:r,difficulty:o,category:i,status:"publish,draft,private",...l}),N=(0,e.useRef)(_),k=(0,e.useRef)(t),E=(0,e.useRef)(null),O=(0,e.useRef)(!0),C=(0,e.useRef)("");(0,e.useEffect)(()=>{N.current=_},[_]),(0,e.useEffect)(()=>{k.current=t},[t]),(0,e.useEffect)(()=>()=>{O.current=!1,E.current&&clearTimeout(E.current)},[]);const S=async(e,t={})=>{try{const n={headers:{"Content-Type":"application/json","X-WP-Nonce":Ze().nonce},credentials:"same-origin",...t},r=await fetch(e,n);if(!r.ok){const e=await r.text();throw new Error(`API Error ${r.status}: ${r.statusText} - ${e}`)}return r}catch(e){throw console.error("API Request Error:",e),e}},A=(0,e.useCallback)(async(e={})=>{const{reset:t=!1,page:n=1,additionalFilters:r={}}=e;try{t&&(h(!0),g(null));const e=Ze(),o=N.current,i=new URLSearchParams({page:n.toString(),per_page:"20",status:o.status||"publish,draft",orderby:"date",order:"desc",_embed:"true"});if(o.search&&i.append("search",o.search),o.quizId&&(i.append("meta_query[0][key]","_quiz_id"),i.append("meta_query[0][value]",o.quizId.toString()),i.append("meta_query[0][compare]","="),i.append("meta_query[0][type]","NUMERIC")),o.type){const e=o.quizId?1:0;i.append(`meta_query[${e}][key]`,"_question_type"),i.append(`meta_query[${e}][value]`,o.type),i.append(`meta_query[${e}][compare]`,"=")}if(o.difficulty){const e=(o.quizId?1:0)+(o.type?1:0);i.append(`meta_query[${e}][key]`,"_difficulty_level"),i.append(`meta_query[${e}][value]`,o.difficulty),i.append(`meta_query[${e}][compare]`,"=")}if(o.category){const e=(o.quizId?1:0)+(o.type?1:0)+(o.difficulty?1:0);i.append(`meta_query[${e}][key]`,"_question_category"),i.append(`meta_query[${e}][value]`,o.category),i.append(`meta_query[${e}][compare]`,"=")}[o.quizId,o.type,o.difficulty,o.category].filter(Boolean).length>1&&i.append("meta_query[relation]","AND"),Object.entries(r).forEach(([e,t])=>{null!=t&&""!==t&&i.append(e,t)});const a=`${e.endpoints.questions}?${i}`,s=`${a}-${n}-${t}`;if(s===C.current)return void console.log("🚫 Duplicate question request prevented:",a);C.current=s,console.log("🚀 Fetching questions:",a);const l=await S(a),c=await l.json();if(!O.current)return;const u=l.headers.get("X-WP-Total"),f=l.headers.get("X-WP-TotalPages"),p={currentPage:n,totalPages:f?parseInt(f,10):1,total:u?parseInt(u,10):c.length,perPage:20};b(p),w(n<p.totalPages),d(t||1===n?c:e=>{const t=new Set(e.map(e=>e.id)),n=c.filter(e=>!t.has(e.id));return[...e,...n]}),console.log("✅ Questions loaded:",c.length)}catch(e){console.error("❌ Error fetching questions:",e),O.current&&(g(e.message||"Failed to fetch questions"),(t||1===n)&&(d([]),b({currentPage:1,totalPages:1,total:0,perPage:20}),w(!1)))}finally{O.current&&h(!1)}},[]),q=(0,e.useCallback)((e={})=>{E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{O.current&&A({reset:!0,...e})},c)},[A,c]);(0,e.useEffect)(()=>{s&&(console.log("🎯 Initial question load"),A({reset:!0}))},[]),(0,e.useEffect)(()=>{j(e=>{const t={...e,search:a||"",quizId:n,type:r,difficulty:o,category:i};return JSON.stringify(t)!==JSON.stringify(e)?t:e})},[a,n,r,o,i]),(0,e.useEffect)(()=>{s&&(console.log("🔄 Question filters changed, debouncing fetch..."),q())},[_,q,s]);const T=(0,e.useCallback)(async e=>{try{m(!0),g(null);const t=Ze(),n=1;let r=0;"multiple_choice"===e.type&&e.options.length>1&&(r=1/(e.options.length-1));const o={title:e.title||"",content:e.explanation||"",status:e.status||"draft",meta:{_quiz_id:e.quizId||"",_question_lesson:e.lessonId||"",_question_provider:e.provider||"",_question_type:e.type||"multiple_choice",_difficulty_level:e.difficulty||"medium",_question_category:e.category||"",_explanation:e.explanation||"",_question_options:e.options||[],_points_correct:n.toString(),_points_incorrect:r.toFixed(4).toString()}};console.log("🚀 Creating question with NEW payload:",o);const i=await S(t.endpoints.questions,{method:"POST",body:JSON.stringify(o)}),a=await i.json();return d(e=>[a,...e]),b(e=>({...e,total:e.total+1})),console.log("✅ Question created:",a),a}catch(e){throw console.error("❌ Error creating question:",e),g(e.message||"Failed to create question"),e}finally{m(!1)}},[]),P=(0,e.useCallback)(async e=>{try{g(null);const t=Ze();console.log("🗑️ Deleting question:",e),await S(`${t.endpoints.questions}/${e}`,{method:"DELETE"}),d(t=>t.filter(t=>t.id!==e)),b(e=>({...e,total:Math.max(0,e.total-1)})),console.log("✅ Question deleted")}catch(e){throw console.error("❌ Error deleting question:",e),g(e.message||"Failed to delete question"),e}},[]),M=(0,e.useCallback)(async e=>{try{g(null);const t=u.find(t=>t.id===e);if(!t)throw new Error("Question not found");const n={title:`${t.title?.rendered||t.title} (Copy)`,content:t.content?.rendered||t.content||"",excerpt:t.excerpt?.rendered||t.excerpt||"",status:"draft",quizId:t.meta?._quiz_id,type:t.meta?._question_type,difficulty:t.meta?._difficulty_level,category:t.meta?._question_category,points:t.meta?._points,timeLimit:t.meta?._time_limit,options:t.meta?._question_options,correctAnswer:t.meta?._correct_answer,explanation:t.meta?._explanation,questionOrder:t.meta?._question_order,meta:t.meta};return console.log("📋 Duplicating question:",e),await T(n)}catch(e){throw console.error("❌ Error duplicating question:",e),g(e.message||"Failed to duplicate question"),e}},[u,T]),L=(0,e.useCallback)(()=>{x&&!f&&A({page:v.currentPage+1,reset:!1})},[x,f,v.currentPage,A]),R=(0,e.useCallback)(()=>{C.current="",A({reset:!0})},[A]),D=(0,e.useMemo)(()=>({totalQuestions:u.length,publishedQuestions:u.filter(e=>"publish"===e.status).length,draftQuestions:u.filter(e=>"draft"===e.status).length,privateQuestions:u.filter(e=>"private"===e.status).length,questionsByType:u.reduce((e,t)=>{const n=t.meta?._question_type||"multiple_choice";return e[n]=(e[n]||0)+1,e},{}),questionsByDifficulty:u.reduce((e,t)=>{const n=t.meta?._difficulty_level||"medium";return e[n]=(e[n]||0)+1,e},{}),questionsByCategory:u.reduce((e,t)=>{const n=t.meta?._question_category||"general";return e[n]=(e[n]||0)+1,e},{}),averagePoints:u.length>0?Math.round(u.reduce((e,t)=>e+parseInt(t.meta?._points||"1"),0)/u.length):1,totalPoints:u.reduce((e,t)=>e+parseInt(t.meta?._points||"1"),0),questionsWithTimeLimit:u.filter(e=>parseInt(e.meta?._time_limit||"0")>0).length,questionsWithExplanation:u.filter(e=>e.meta?._explanation&&""!==e.meta._explanation.trim()).length,multipleChoiceQuestions:u.filter(e=>"multiple_choice"===e.meta?._question_type).length,trueFalseQuestions:u.filter(e=>"true_false"===e.meta?._question_type).length,essayQuestions:u.filter(e=>"essay"===e.meta?._question_type).length}),[u]);return{questions:u,loading:f,creating:p,error:y,pagination:v,hasMore:x,filters:_,computed:D,createQuestion:T,deleteQuestion:P,duplicateQuestion:M,refreshQuestions:R,loadMoreQuestions:L,fetchQuestions:q}})({search:c,quizId:"all"!==t?t:null,type:"all"!==r?r:null,difficulty:"all"!==i?i:null,category:"all"!==s?s:null,autoFetch:!0}),{quizzes:M,loading:L}=zt({status:"publish,draft",perPage:100}),R=(0,e.useMemo)(()=>M.filter(e=>e.title&&(e.title.rendered||e.title)).map(e=>({...e,title:e.title.rendered||e.title})),[M]),D=(0,e.useMemo)(()=>["all","multiple_choice","true_false","short_answer","essay","fill_blank"],[]),I=(0,e.useMemo)(()=>["all","easy","medium","hard"],[]),z=(0,e.useMemo)(()=>["all","general","technical","behavioral","analytical","logical"],[]),B=(0,e.useMemo)(()=>{const e=k.reduce((e,t)=>{const n=t.meta?._question_type||"multiple_choice";return e[n]=(e[n]||0)+1,e},{}),t=k.reduce((e,t)=>e+parseInt(t.meta?._points||"1"),0),n=k.length>0?Math.round(t/k.length*10)/10:0,r=Math.floor(40*Math.random())+60;return[{label:"Total Questions",value:S.totalQuestions||k.length,icon:Ct,iconColor:"text-gray-400"},{label:"Published",value:S.publishedQuestions||k.filter(e=>"publish"===e.status).length,icon:At,iconColor:"text-green-400"},{label:"Draft",value:S.draftQuestions||k.filter(e=>"draft"===e.status).length,icon:qt,iconColor:"text-yellow-400"},{label:"Avg. Points",value:n>0?n:"--",icon:Rt,iconColor:"text-purple-400"},{label:"Success Rate",value:`${r}%`,icon:We,iconColor:"text-blue-400"},{label:"Multiple Choice",value:e.multiple_choice||0,icon:Dt,iconColor:"text-green-500"},{label:"Performance",value:S.performanceScore||"--",icon:He,iconColor:"text-indigo-400"}]},[k,S]),F=(0,e.useCallback)(e=>{n(e)},[]),$=(0,e.useCallback)(e=>{o(e)},[]),U=(0,e.useCallback)(e=>{a(e)},[]),H=(0,e.useCallback)(e=>{l(e)},[]),W=(0,e.useCallback)(e=>{u(e)},[]),K=(0,e.useCallback)(()=>{v(null),f(!0)},[]),V=(0,e.useCallback)(e=>{v(e),p(!0)},[]),Q=(0,e.useCallback)(e=>{v(e),y(!0)},[]),Y=(0,e.useCallback)(async(e,t)=>{try{g?(console.log("Edit question:",g.id,e),p(!1)):(await A(e),"close"===t&&f(!1)),v(null)}catch(e){throw console.error("Error saving question:",e),e}},[g,A]),Z=(0,e.useCallback)(e=>{_(e),x(!0)},[]),X=(0,e.useCallback)(async()=>{if(w)try{await q(w.id),x(!1),_(null)}catch(e){console.error("Error deleting question:",e)}},[w,q]),G=(0,e.useCallback)(async e=>{try{await T(e.id)}catch(e){console.error("Error duplicating question:",e)}},[T]),J=(0,e.useCallback)(()=>{f(!1),v(null)},[]),ee=(0,e.useCallback)(()=>{p(!1),v(null)},[]),te=((0,e.useCallback)(()=>{y(!1),v(null)},[]),e=>{switch(e){case"multiple_choice":return"Multiple Choice";case"true_false":return"True/False";case"short_answer":return"Short Answer";case"essay":return"Essay";case"fill_blank":return"Fill in Blank";default:return e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")}}),ne={icon:Ct,title:"No questions found",description:"all"!==t||"all"!==r||"all"!==i||"all"!==s||c?"No questions match your current filters.":"You haven't created any questions yet.",actionText:"Create First Question"};return O?(0,lt.jsxs)("div",{className:"text-center py-12",children:[(0,lt.jsx)("div",{className:"text-red-600 mb-4",children:"Error loading questions"}),(0,lt.jsx)("p",{className:"text-gray-600",children:O})]}):(0,lt.jsxs)("div",{className:"p-6",children:[(0,lt.jsx)(gt,{title:"Questions Manager",description:"Manage and organize your quiz questions",createButtonText:"Create Question",onCreateClick:K,statistics:B,items:k,loading:E,viewMode:j,onViewModeChange:N,filtersComponent:(0,lt.jsxs)("div",{className:"p-4",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Questions"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("input",{id:"search",type:"text",value:c,onChange:e=>W(e.target.value),placeholder:"Search by question text...",className:"block w-full pl-10 pr-3 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"}),(0,lt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,lt.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("label",{htmlFor:"quiz-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quiz"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsxs)("select",{id:"quiz-select",value:t,onChange:e=>F(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md appearance-none",disabled:L,children:[(0,lt.jsx)("option",{value:"all",children:"All Quizzes"}),R.map(e=>(0,lt.jsx)("option",{value:e.id,children:e.title},e.id))]}),(0,lt.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,lt.jsx)(It,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("label",{htmlFor:"type-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsxs)("select",{id:"type-select",value:r,onChange:e=>$(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md appearance-none",children:[(0,lt.jsx)("option",{value:"all",children:"All Types"}),D.slice(1).map(e=>(0,lt.jsx)("option",{value:e,children:te(e)},e))]}),(0,lt.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,lt.jsx)(It,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("label",{htmlFor:"difficulty-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsxs)("select",{id:"difficulty-select",value:i,onChange:e=>U(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md appearance-none",children:[(0,lt.jsx)("option",{value:"all",children:"All Levels"}),I.slice(1).map(e=>(0,lt.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,lt.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,lt.jsx)(It,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("label",{htmlFor:"category-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsxs)("select",{id:"category-select",value:s,onChange:e=>H(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md appearance-none",children:[(0,lt.jsx)("option",{value:"all",children:"All Categories"}),z.slice(1).map(e=>(0,lt.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,lt.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,lt.jsx)(It,{className:"h-5 w-5 text-gray-400"})})]})]})]}),("all"!==t||"all"!==r||"all"!==i||"all"!==s||c)&&(0,lt.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[(0,lt.jsx)("span",{className:"text-sm text-gray-500",children:"Active filters:"}),c&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:['Search: "',c,'"',(0,lt.jsx)("button",{onClick:()=>u(""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),"all"!==t&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[R.find(e=>e.id.toString()===t)?.title||"Quiz",(0,lt.jsx)("button",{onClick:()=>n("all"),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]}),"all"!==r&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[te(r),(0,lt.jsx)("button",{onClick:()=>o("all"),className:"ml-1 text-purple-600 hover:text-purple-800",children:"×"})]}),"all"!==i&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[i,(0,lt.jsx)("button",{onClick:()=>a("all"),className:"ml-1 text-yellow-600 hover:text-yellow-800",children:"×"})]}),"all"!==s&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[s,(0,lt.jsx)("button",{onClick:()=>l("all"),className:"ml-1 text-indigo-600 hover:text-indigo-800",children:"×"})]})]})]}),emptyState:ne,showStatistics:!0,showViewToggle:!0,showCreateButton:!0,showItemCount:!0,children:k.map(e=>(0,lt.jsx)($t,{question:e,viewMode:j,onEdit:V,onDelete:Z,onDuplicate:G,onClick:Q,quizzes:R,showQuiz:!0,showStats:!0},e.id))}),(0,lt.jsx)(bo,{isOpen:d,onClose:J,onSave:Y,mode:"create",availableQuizzes:R,isLoading:P}),(0,lt.jsx)(bo,{isOpen:h,onClose:()=>ee,onSave:Y,question:g,mode:"edit",availableQuizzes:R,isLoading:P}),(0,lt.jsx)(bo,{isOpen:m,onClose:()=>setIsModalOpen(!1),question:g,mode:"view",availableQuizzes:R}),(0,lt.jsx)(xt,{isOpen:b,onClose:()=>{x(!1),_(null)},onConfirm:X,title:"Delete Question",message:"Are you sure you want to delete this question? This action cannot be undone and will affect any quizzes that include this question."})]})},wo=({quiz:t,viewMode:n="cards",onEdit:r,onDelete:o,onDuplicate:i,onClick:a,courses:s=[],showCourse:l=!0,showStats:c=!0,className:u=""})=>{const d=parseInt(t.meta?._time_limit||"0"),f=parseInt(t.meta?._max_attempts||"0"),h=parseInt(t.meta?._passing_score||"70"),p="yes"===t.meta?._randomize_questions,m="yes"===t.meta?._show_results,y=t.meta?._course_id,g=t.meta?._quiz_category,v=t.meta?._difficulty_level||"medium",b=(0,e.useMemo)(()=>y&&s.length?s.find(e=>e.id.toString()===y.toString()||e.id===parseInt(y,10)):null,[y,s]),x={totalQuestions:Math.floor(20*Math.random())+5,totalAttempts:Math.floor(200*Math.random())+10,averageScore:Math.floor(30*Math.random())+70,completionRate:Math.floor(40*Math.random())+60,averageTime:Math.floor(25*Math.random())+5,passRate:Math.floor(40*Math.random())+60},w=e=>{switch(e){case"publish":return"text-green-600 bg-green-100";case"draft":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},_=e=>{switch(e){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},j=e=>e>=90?"text-green-600":e>=80?"text-blue-600":e>=70?"text-yellow-600":e>=60?"text-orange-600":"text-red-600",N=e=>{if(e<60)return`${e}m`;const t=Math.floor(e/60),n=e%60;return n>0?`${t}h ${n}m`:`${t}h`},k=e=>e?new Date(e).toLocaleDateString():null,E=[{label:"Edit",icon:Ge,onClick:r,color:"text-blue-600"},{label:"Preview",icon:Tt,onClick:e=>console.log("Preview quiz:",e),color:"text-green-600"},{label:"Duplicate",icon:Je,onClick:i,color:"text-purple-600"},{label:"Delete",icon:et,onClick:o,color:"text-red-600",divider:!0}].filter(e=>e.onClick);return(0,lt.jsx)(ct,{item:t,viewMode:n,actions:E,className:u,clickable:!!a,onClick:a,children:"cards"===n?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-indigo-600",children:[(0,lt.jsx)(Ct,{className:"h-4 w-4"}),(0,lt.jsx)("span",{children:"Quiz"})]}),g&&(0,lt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:g}),(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${_(v)}`,children:v})]}),(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${w(t.status)}`,children:"publish"===t.status?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(At,{className:"h-3 w-3 mr-1"}),"Published"]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(qt,{className:"h-3 w-3 mr-1"}),t.status]})})]}),(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:t.title?.rendered||t.title||"Untitled Quiz"}),t.excerpt?.rendered&&(0,lt.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:t.excerpt.rendered.replace(/<[^>]*>/g,"")}),l&&b&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600 mb-3",children:[(0,lt.jsx)($e,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{className:"truncate",children:["Course: ",b.title?.rendered||b.title]})]}),(0,lt.jsxs)("div",{className:"space-y-3",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-gray-600",children:[(0,lt.jsx)(Ct,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[x.totalQuestions," questions"]})]}),d>0&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-gray-600",children:[(0,lt.jsx)(rt,{className:"h-4 w-4"}),(0,lt.jsx)("span",{children:N(d)})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-gray-600",children:[(0,lt.jsx)(We,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[h,"% to pass"]})]}),f>0&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-gray-600",children:[(0,lt.jsx)(jt,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[f," attempts"]})]})]}),(0,lt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[p&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[(0,lt.jsx)(Rt,{className:"h-3 w-3 mr-1"}),"Randomized"]}),m&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,lt.jsx)(Dt,{className:"h-3 w-3 mr-1"}),"Shows Results"]})]}),c&&(0,lt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm pt-2 border-t border-gray-100",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-gray-500",children:[(0,lt.jsx)(it,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[x.totalAttempts," attempts"]})]}),(0,lt.jsxs)("div",{className:`flex items-center space-x-1 ${j(x.averageScore)}`,children:[(0,lt.jsx)(Ke,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[x.averageScore,"% avg"]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-1 text-gray-500",children:[(0,lt.jsx)(rt,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[x.averageTime,"m avg time"]})]}),(0,lt.jsxs)("div",{className:`flex items-center space-x-1 ${j(x.passRate)}`,children:[(0,lt.jsx)(He,{className:"h-4 w-4"}),(0,lt.jsxs)("span",{children:[x.passRate,"% pass"]})]})]}),(0,lt.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 pt-2 border-t border-gray-100",children:[(0,lt.jsxs)("span",{children:["Modified ",k(t.modified)]}),(0,lt.jsxs)("span",{children:["ID: ",t.id]})]})]})]}):(0,lt.jsxs)("div",{className:"flex items-center w-full",children:[(0,lt.jsx)("div",{className:"flex-shrink-0 mr-4",children:(0,lt.jsx)("div",{className:"h-10 w-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,lt.jsx)(Ct,{className:"h-5 w-5 text-indigo-600"})})}),(0,lt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:t.title?.rendered||t.title||"Untitled Quiz"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${_(v)}`,children:v}),c&&(0,lt.jsxs)("span",{className:`text-xs font-medium ${j(x.averageScore)}`,children:[x.averageScore,"%"]}),(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${w(t.status)}`,children:t.status})]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-500",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(Ct,{className:"h-3 w-3"}),(0,lt.jsxs)("span",{children:[x.totalQuestions,"q"]})]}),d>0&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(rt,{className:"h-3 w-3"}),(0,lt.jsx)("span",{children:N(d)})]}),l&&b&&(0,lt.jsx)("span",{className:"truncate",children:b.title?.rendered||b.title}),c&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(it,{className:"h-3 w-3"}),(0,lt.jsx)("span",{children:x.totalAttempts})]}),(0,lt.jsx)("span",{children:k(t.modified)})]})]})]})})},_o=()=>{const[t,n]=(0,e.useState)("all"),[r,o]=(0,e.useState)("all"),[i,a]=(0,e.useState)("all"),[s,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d,f]=(0,e.useState)(!1),[h,p]=(0,e.useState)(null),[m,y]=(0,e.useState)("cards"),{quizzes:g,loading:v,error:b,pagination:x,computed:w,createQuiz:_,deleteQuiz:j,duplicateQuiz:N,creating:k}=zt({search:s,courseId:"all"!==t?t:null,difficulty:"all"!==r?r:null,category:"all"!==i?i:null,autoFetch:!0}),{courses:E,loading:O}=Xe({status:"publish,draft",perPage:100}),C=(0,e.useMemo)(()=>E.filter(e=>e.title&&(e.title.rendered||e.title)).map(e=>({...e,title:e.title.rendered||e.title})),[E]),S=(0,e.useMemo)(()=>["all","easy","medium","hard"],[]),A=(0,e.useMemo)(()=>["all","assessment","practice","final_exam","checkpoint","review"],[]),q=(0,e.useMemo)(()=>{g.reduce((e,t)=>{const n=t.meta?._difficulty_level||"medium";return e[n]=(e[n]||0)+1,e},{});const e=g.reduce(e=>e+(Math.floor(20*Math.random())+5),0),t=g.length>0?Math.round(e/g.length):0,n=g.reduce(e=>e+Math.floor(100*Math.random())+10,0),r=Math.floor(30*Math.random())+70,o=Math.floor(40*Math.random())+60;return[{label:"Total Quizzes",value:w.totalQuizzes||g.length,icon:Ct,iconColor:"text-gray-400"},{label:"Published",value:w.publishedQuizzes||g.filter(e=>"publish"===e.status).length,icon:At,iconColor:"text-green-400"},{label:"Draft",value:w.draftQuizzes||g.filter(e=>"draft"===e.status).length,icon:qt,iconColor:"text-yellow-400"},{label:"Avg. Questions",value:t>0?t:"--",icon:jt,iconColor:"text-blue-400"},{label:"Total Attempts",value:w.totalAttempts||n,icon:it,iconColor:"text-purple-400"},{label:"Avg. Score",value:`${r}%`,icon:Ke,iconColor:"text-yellow-500"},{label:"Pass Rate",value:`${o}%`,icon:He,iconColor:"text-green-500"}]},[g,w]),T=(0,e.useCallback)(e=>{n(e)},[]),P=(0,e.useCallback)(e=>{o(e)},[]),M=(0,e.useCallback)(e=>{a(e)},[]),L=(0,e.useCallback)(e=>{l(e)},[]),R=((0,e.useCallback)(async e=>{try{const t=await _(e);return u(!1),t}catch(e){throw console.error("Error creating quiz:",e),e}},[_]),(0,e.useCallback)(e=>{p(e),f(!0)},[])),D=(0,e.useCallback)(async()=>{if(h)try{await j(h.id),f(!1),p(null)}catch(e){console.error("Error deleting quiz:",e)}},[h,j]),I=(0,e.useCallback)(async e=>{try{await N(e.id)}catch(e){console.error("Error duplicating quiz:",e)}},[N]),z=(0,e.useCallback)(e=>{console.log("Navigate to quiz details:",e.id)},[]),B=e=>{switch(e){case"assessment":return"Assessment";case"practice":return"Practice";case"final_exam":return"Final Exam";case"checkpoint":return"Checkpoint";case"review":return"Review";default:return e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")}},F={icon:Ct,title:"No quizzes found",description:"all"!==t||"all"!==r||"all"!==i||s?"No quizzes match your current filters.":"You haven't created any quizzes yet.",actionText:"Create First Quiz"};return b?(0,lt.jsxs)("div",{className:"text-center py-12",children:[(0,lt.jsx)("div",{className:"text-red-600 mb-4",children:"Error loading quizzes"}),(0,lt.jsx)("p",{className:"text-gray-600",children:b})]}):(0,lt.jsxs)("div",{className:"p-6",children:[(0,lt.jsx)(gt,{title:"Quizzes Manager",description:"Manage and organize your assessments and quizzes",createButtonText:"Create Quiz",onCreateClick:()=>u(!0),statistics:q,items:g,loading:v,viewMode:m,onViewModeChange:y,filtersComponent:(0,lt.jsxs)("div",{className:"p-4",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Quizzes"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("input",{id:"search",type:"text",value:s,onChange:e=>L(e.target.value),placeholder:"Search by title, description...",className:"block w-full pl-10 pr-3 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"}),(0,lt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,lt.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("label",{htmlFor:"course-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsxs)("select",{id:"course-select",value:t,onChange:e=>T(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md appearance-none",disabled:O,children:[(0,lt.jsx)("option",{value:"all",children:"All Courses"}),C.map(e=>(0,lt.jsx)("option",{value:e.id,children:e.title},e.id))]}),(0,lt.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,lt.jsx)(It,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("label",{htmlFor:"difficulty-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsxs)("select",{id:"difficulty-select",value:r,onChange:e=>P(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md appearance-none",children:[(0,lt.jsx)("option",{value:"all",children:"All Levels"}),S.slice(1).map(e=>(0,lt.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,lt.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,lt.jsx)(It,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("label",{htmlFor:"category-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsxs)("select",{id:"category-select",value:i,onChange:e=>M(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md appearance-none",children:[(0,lt.jsx)("option",{value:"all",children:"All Categories"}),A.slice(1).map(e=>(0,lt.jsx)("option",{value:e,children:B(e)},e))]}),(0,lt.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,lt.jsx)(It,{className:"h-5 w-5 text-gray-400"})})]})]})]}),("all"!==t||"all"!==r||"all"!==i||s)&&(0,lt.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[(0,lt.jsx)("span",{className:"text-sm text-gray-500",children:"Active filters:"}),s&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:['Search: "',s,'"',(0,lt.jsx)("button",{onClick:()=>l(""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]}),"all"!==t&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[C.find(e=>e.id.toString()===t)?.title||"Course",(0,lt.jsx)("button",{onClick:()=>n("all"),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]}),"all"!==r&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[r,(0,lt.jsx)("button",{onClick:()=>o("all"),className:"ml-1 text-yellow-600 hover:text-yellow-800",children:"×"})]}),"all"!==i&&(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[B(i),(0,lt.jsx)("button",{onClick:()=>a("all"),className:"ml-1 text-purple-600 hover:text-purple-800",children:"×"})]})]})]}),emptyState:F,showStatistics:!0,showViewToggle:!0,showCreateButton:!0,showItemCount:!0,children:g.map(e=>(0,lt.jsx)(wo,{quiz:e,viewMode:m,onEdit:e=>console.log("Edit quiz:",e),onDelete:R,onDuplicate:I,onClick:z,courses:C,showCourse:!0,showStats:!0},e.id))}),(0,lt.jsx)(xt,{isOpen:d,onClose:()=>{f(!1),p(null)},onConfirm:D,title:"Delete Quiz",message:`Are you sure you want to delete the quiz "${h?.title?.rendered||h?.title||"this quiz"}"? This action cannot be undone and will also delete all associated questions and results.`})]})},jo=Fe("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),No=Fe("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ko=Fe("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Eo=Fe("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Oo=Fe("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Co=Fe("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),So=Fe("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ao=Fe("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),qo=Fe("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),To=({user:e,viewMode:t="cards",onEnroll:n,onUnenroll:r,onUpdateRole:o,onView:i,showEnrollment:a=!0,showProgress:s=!0,courseId:l=null,className:c=""})=>{const u=e.roles?.[0]||"subscriber",d=e.enrollmentData?.isEnrolled||!1,f=e.enrollmentData?.progress||0,h=e.enrollmentData?.enrollmentDate,p=e.enrollmentData?.lastActivity,m=e.date_registered||e.registered,y=e.avatar_urls?.[96]||e.avatar_urls?.[48]||null,g=e.name?e.name.split(" ").map(e=>e.charAt(0)).join("").toUpperCase():e.username?.charAt(0).toUpperCase()||"U",v=e=>{switch(e){case"administrator":return"text-red-600 bg-red-100";case"editor":return"text-purple-600 bg-purple-100";case"author":return"text-blue-600 bg-blue-100";case"contributor":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},b=e=>e?new Date(e).toLocaleDateString():"N/A",x=(e=>{if(!e)return{status:"inactive",label:"Never",color:"text-gray-500"};const t=new Date(e),n=new Date,r=Math.floor((n-t)/864e5);return 0===r?{status:"today",label:"Today",color:"text-green-600"}:r<=7?{status:"recent",label:`${r}d ago`,color:"text-green-500"}:r<=30?{status:"moderate",label:`${r}d ago`,color:"text-yellow-500"}:{status:"inactive",label:`${r}d ago`,color:"text-red-500"}})(p),w=[{label:"View Details",icon:At,onClick:i,color:"text-blue-600"},...a&&l?[d?{label:"Unenroll",icon:Co,onClick:()=>r?.(e.id,l),color:"text-red-600"}:{label:"Enroll",icon:No,onClick:()=>n?.(e.id,l),color:"text-green-600"}]:[],{label:"Update Role",icon:So,onClick:()=>o?.(e.id),color:"text-purple-600"}].filter(e=>e.onClick);return(0,lt.jsx)(ct,{item:e,viewMode:t,actions:w,className:c,clickable:!!i,onClick:i?()=>i(e):void 0,children:"cards"===t?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,lt.jsx)("div",{className:"flex-shrink-0 mr-3",children:y?(0,lt.jsx)("img",{src:y,alt:e.name||e.username,className:"h-12 w-12 rounded-full object-cover"}):(0,lt.jsx)("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:(0,lt.jsx)("span",{className:"text-lg font-medium text-gray-600",children:g})})}),(0,lt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name||e.username||"Unknown User"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,lt.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${v(u)}`,children:[(0,lt.jsx)(ko,{className:"h-3 w-3 mr-1"}),u]}),a&&l&&(0,lt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(d?"text-green-600 bg-green-100":"text-gray-600 bg-gray-100"),children:d?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Dt,{className:"h-3 w-3 mr-1"}),"Enrolled"]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Ao,{className:"h-3 w-3 mr-1"}),"Not Enrolled"]})})]})]})]}),(0,lt.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,lt.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,lt.jsx)(qo,{className:"h-4 w-4 mr-2"}),(0,lt.jsx)("span",{className:"truncate",children:e.email||"No email"})]}),(0,lt.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,lt.jsx)(at,{className:"h-4 w-4 mr-2"}),(0,lt.jsxs)("span",{children:["Registered ",b(m)]})]}),(0,lt.jsxs)("div",{className:"flex items-center text-sm",children:[(0,lt.jsx)(jo,{className:"h-4 w-4 mr-2 text-gray-400"}),(0,lt.jsxs)("span",{className:x.color,children:["Last active: ",x.label]})]})]}),a&&l&&d&&(0,lt.jsxs)("div",{className:"space-y-3 mb-4 p-3 bg-blue-50 rounded-lg",children:[(0,lt.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Course Enrollment"}),(0,lt.jsxs)("div",{className:"flex items-center text-sm text-blue-700",children:[(0,lt.jsx)(at,{className:"h-3 w-3 mr-2"}),(0,lt.jsxs)("span",{children:["Enrolled ",b(h)]})]}),s&&(0,lt.jsxs)("div",{className:"space-y-1",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,lt.jsx)("span",{className:"text-blue-700",children:"Progress"}),(0,lt.jsxs)("span",{className:"font-medium text-blue-900",children:[f,"%"]})]}),(0,lt.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-2",children:(0,lt.jsx)("div",{className:`h-2 rounded-full transition-all duration-300 ${(e=>e>=80?"bg-green-500":e>=50?"bg-yellow-500":e>=20?"bg-orange-500":"bg-red-500")(f)}`,style:{width:`${f}%`}})})]})]}),(0,lt.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 pt-3 border-t border-gray-100",children:[(0,lt.jsxs)("span",{children:["ID: ",e.id]}),(0,lt.jsx)("span",{children:e.username})]})]}):(0,lt.jsxs)("div",{className:"flex items-center w-full",children:[(0,lt.jsx)("div",{className:"flex-shrink-0 mr-4",children:y?(0,lt.jsx)("img",{src:y,alt:e.name||e.username,className:"h-10 w-10 rounded-full object-cover"}):(0,lt.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:(0,lt.jsx)("span",{className:"text-sm font-medium text-gray-600",children:g})})}),(0,lt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name||e.username||"Unknown User"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,lt.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${v(u)}`,children:u}),a&&l&&(0,lt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(d?"text-green-600 bg-green-100":"text-gray-600 bg-gray-100"),children:d?"Enrolled":"Not Enrolled"})]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-500",children:[(0,lt.jsx)("span",{className:"truncate",children:e.email}),(0,lt.jsxs)("span",{children:["Registered ",b(m)]}),(0,lt.jsx)("span",{className:x.color,children:x.label}),s&&d&&(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)(He,{className:"h-3 w-3"}),(0,lt.jsxs)("span",{children:[f,"%"]})]})]})]})]})})},Po=()=>{const[t,n]=(0,e.useState)("all"),[r,o]=(0,e.useState)("all"),[i,a]=(0,e.useState)("all"),[s,l]=(0,e.useState)(""),[c,u]=(0,e.useState)("cards"),{users:d,loading:f,updating:h,error:p,pagination:m,computed:y,enrollUserInCourse:g,unenrollUserFromCourse:v,updateUserRole:b,refreshUsers:x}=((t={})=>{const{role:n=null,courseId:r=null,enrollmentStatus:o=null,search:i="",autoFetch:a=!0,initialFilters:s={},debounceMs:l=500}=t,[c,u]=(0,e.useState)([]),[d,f]=(0,e.useState)(!0),[h,p]=(0,e.useState)(!1),[m,y]=(0,e.useState)(null),[g,v]=(0,e.useState)({currentPage:1,totalPages:1,total:0,perPage:20}),[b,x]=(0,e.useState)(!1),[w,_]=(0,e.useState)({search:i||"",role:n,courseId:r,enrollmentStatus:o,orderBy:"registered",order:"desc",...s}),j=(0,e.useRef)(w),N=(0,e.useRef)(t),k=(0,e.useRef)(null),E=(0,e.useRef)(!0),O=(0,e.useRef)("");(0,e.useEffect)(()=>{j.current=w},[w]),(0,e.useEffect)(()=>{N.current=t},[t]),(0,e.useEffect)(()=>()=>{E.current=!1,k.current&&clearTimeout(k.current)},[]);const C=async(e,t={})=>{try{const n={headers:{"Content-Type":"application/json","X-WP-Nonce":Ze().nonce},credentials:"same-origin",...t},r=await fetch(e,n);if(!r.ok){const e=await r.text();throw new Error(`API Error ${r.status}: ${r.statusText} - ${e}`)}return r}catch(e){throw console.error("API Request Error:",e),e}},S=(0,e.useCallback)(async(e={})=>{const{reset:t=!1,page:n=1,additionalFilters:r={}}=e;try{t&&(f(!0),y(null));const e=Ze(),o=j.current,i=new URLSearchParams({page:n.toString(),per_page:"20",orderby:o.orderBy||"registered",order:o.order||"desc",context:"edit"});o.search&&i.append("search",o.search),o.role&&i.append("roles",o.role),Object.entries(r).forEach(([e,t])=>{null!=t&&""!==t&&i.append(e,t)});const a=`${e.endpoints.users}?${i}`,s=`${a}-${n}-${t}`;if(s===O.current)return void console.log("🚫 Duplicate user request prevented:",a);O.current=s,console.log("🚀 Fetching users:",a);const l=await C(a),c=await l.json();if(!E.current)return;const d=l.headers.get("X-WP-Total"),h=l.headers.get("X-WP-TotalPages"),p={currentPage:n,totalPages:h?parseInt(h,10):1,total:d?parseInt(d,10):c.length,perPage:20};v(p),x(n<p.totalPages);let m=c;o.courseId&&(m=await A(c,o.courseId)),u(t||1===n?m:e=>{const t=new Set(e.map(e=>e.id)),n=m.filter(e=>!t.has(e.id));return[...e,...n]}),console.log("✅ Users loaded:",m.length)}catch(e){console.error("❌ Error fetching users:",e),E.current&&(y(e.message||"Failed to fetch users"),(t||1===n)&&(u([]),v({currentPage:1,totalPages:1,total:0,perPage:20}),x(!1)))}finally{E.current&&f(!1)}},[]),A=async(e,t)=>{try{const n=Ze(),r=e.map(async e=>{try{const r=await C(`${n.endpoints.users}/${e.id}?context=edit`),o=await r.json(),i=`_enrolled_course_${t}`,a=o.meta&&o.meta[i];return{...e,enrollmentData:{isEnrolled:!!a,enrollmentDate:a?o.meta[`${i}_date`]:null,progress:o.meta[`_course_${t}_progress`]||0,lastActivity:o.meta[`_course_${t}_last_activity`]||null}}}catch(t){return console.warn(`Failed to get enrollment data for user ${e.id}:`,t),{...e,enrollmentData:{isEnrolled:!1,enrollmentDate:null,progress:0,lastActivity:null}}}});return await Promise.all(r)}catch(t){return console.error("Error enriching users with enrollment data:",t),e}},q=(0,e.useCallback)((e={})=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{E.current&&S({reset:!0,...e})},l)},[S,l]);(0,e.useEffect)(()=>{a&&(console.log("🎯 Initial user load"),S({reset:!0}))},[]),(0,e.useEffect)(()=>{_(e=>{const t={...e,search:i||"",role:n,courseId:r,enrollmentStatus:o};return JSON.stringify(t)!==JSON.stringify(e)?t:e})},[i,n,r,o]),(0,e.useEffect)(()=>{a&&(console.log("🔄 User filters changed, debouncing fetch..."),q())},[w,q,a]);const T=(0,e.useCallback)(async(e,t)=>{try{p(!0),y(null);const n=Ze(),r={[`_enrolled_course_${t}`]:!0,[`_enrolled_course_${t}_date`]:(new Date).toISOString(),[`_course_${t}_progress`]:0};console.log("📝 Enrolling user in course:",{userId:e,courseId:t});const o=await C(`${n.endpoints.users}/${e}`,{method:"POST",body:JSON.stringify({meta:r})}),i=await o.json();return u(n=>n.map(n=>n.id===e?{...n,enrollmentData:{...n.enrollmentData,isEnrolled:!0,enrollmentDate:r[`_enrolled_course_${t}_date`],progress:0}}:n)),console.log("✅ User enrolled successfully"),i}catch(e){throw console.error("❌ Error enrolling user:",e),y(e.message||"Failed to enroll user"),e}finally{p(!1)}},[]),P=(0,e.useCallback)(async(e,t)=>{try{p(!0),y(null);const n=Ze();console.log("❌ Unenrolling user from course:",{userId:e,courseId:t});const r=await C(`${n.endpoints.users}/${e}`,{method:"POST",body:JSON.stringify({meta:{[`_enrolled_course_${t}`]:null}})}),o=await r.json();return u(t=>t.map(t=>t.id===e?{...t,enrollmentData:{...t.enrollmentData,isEnrolled:!1,enrollmentDate:null,progress:0}}:t)),console.log("✅ User unenrolled successfully"),o}catch(e){throw console.error("❌ Error unenrolling user:",e),y(e.message||"Failed to unenroll user"),e}finally{p(!1)}},[]),M=(0,e.useCallback)(async(e,t)=>{try{p(!0),y(null);const n=Ze();console.log("👤 Updating user role:",{userId:e,newRole:t});const r=await C(`${n.endpoints.users}/${e}`,{method:"POST",body:JSON.stringify({roles:[t]})}),o=await r.json();return u(t=>t.map(t=>t.id===e?{...t,roles:o.roles}:t)),console.log("✅ User role updated successfully"),o}catch(e){throw console.error("❌ Error updating user role:",e),y(e.message||"Failed to update user role"),e}finally{p(!1)}},[]),L=(0,e.useCallback)(()=>{b&&!d&&S({page:g.currentPage+1,reset:!1})},[b,d,g.currentPage,S]),R=(0,e.useCallback)(()=>{O.current="",S({reset:!0})},[S]),D=(0,e.useMemo)(()=>({totalUsers:c.length,usersByRole:c.reduce((e,t)=>{const n=t.roles?.[0]||"subscriber";return e[n]=(e[n]||0)+1,e},{}),enrolledUsers:c.filter(e=>e.enrollmentData?.isEnrolled).length,unenrolledUsers:c.filter(e=>!e.enrollmentData?.isEnrolled).length,activeUsers:c.filter(e=>{if(!e.enrollmentData?.lastActivity)return!1;const t=new Date;return t.setDate(t.getDate()-30),new Date(e.enrollmentData.lastActivity)>t}).length,averageProgress:c.length>0?Math.round(c.reduce((e,t)=>e+(t.enrollmentData?.progress||0),0)/c.length):0,recentRegistrations:c.filter(e=>{const t=new Date;return t.setDate(t.getDate()-7),new Date(e.date_registered||e.registered)>t}).length}),[c]);return{users:c,loading:d,updating:h,error:m,pagination:g,hasMore:b,filters:w,computed:D,enrollUserInCourse:T,unenrollUserFromCourse:P,updateUserRole:M,refreshUsers:R,loadMoreUsers:L,fetchUsers:q}})({search:s,role:"all"!==t?t:null,courseId:"all"!==r?r:null,enrollmentStatus:"all"!==i?i:null,autoFetch:!0}),{courses:w}=Xe({status:"publish,draft",perPage:100,autoFetch:!0}),_=(0,e.useMemo)(()=>w.filter(e=>e.title&&(e.title.rendered||e.title)).map(e=>({...e,title:e.title.rendered||e.title})),[w]),j=(0,e.useMemo)(()=>["all","administrator","editor","author","contributor","subscriber"],[]),N=(0,e.useMemo)(()=>["all","enrolled","not_enrolled"],[]),k=(0,e.useMemo)(()=>{const e=y.totalUsers||0,t=y.enrolledUsers||0,n=y.activeUsers||0,r=y.averageProgress||0,o=y.recentRegistrations||0,i=y.usersByRole||{};return[{label:"Total Users",value:e,icon:it,iconColor:"text-blue-500"},{label:"Enrolled Users",value:t,icon:$e,iconColor:"text-green-500"},{label:"Active Users",value:n,icon:jo,iconColor:"text-purple-500"},{label:"Avg. Progress",value:`${r}%`,icon:He,iconColor:"text-yellow-500"},{label:"New This Week",value:o,icon:No,iconColor:"text-blue-400"},{label:"Administrators",value:i.administrator||0,icon:ko,iconColor:"text-red-500"}]},[y]),E=(0,e.useCallback)(e=>{n(e)},[]),O=(0,e.useCallback)(e=>{o(e)},[]),C=(0,e.useCallback)(e=>{a(e)},[]),S=(0,e.useCallback)(e=>{l(e.target.value)},[]),A=(0,e.useCallback)(e=>{console.log("View user details:",e.id)},[]),q=(0,e.useCallback)(async(e,t)=>{try{await g(e,t)}catch(e){console.error("Error enrolling user:",e)}},[g]),T=(0,e.useCallback)(async(e,t)=>{try{await v(e,t)}catch(e){console.error("Error unenrolling user:",e)}},[v]),P=(0,e.useCallback)(async(e,t)=>{try{await b(e,t)}catch(e){console.error("Error updating user role:",e)}},[b]),M=(0,e.useCallback)(()=>{const e=[["ID","Name","Email","Role","Registration Date","Enrollment Status","Progress"].join(","),...d.map(e=>[e.id,e.name||e.username,e.email,e.roles?.[0]||"subscriber",e.date_registered||e.registered,e.enrollmentData?.isEnrolled?"Enrolled":"Not Enrolled",e.enrollmentData?.progress||0].join(","))].join("\n"),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="users_export.csv",r.click(),window.URL.revokeObjectURL(n)},[d]),L=(0,e.useCallback)(()=>{l("")},[]),R=(0,e.useCallback)(()=>{n("all"),o("all"),a("all"),l("")},[]);return(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage users, enrollments, and permissions"})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(f||h)&&(0,lt.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),h?"Updating...":"Loading..."]}),(0,lt.jsxs)("button",{onClick:M,disabled:0===d.length,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,lt.jsx)(Eo,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),(0,lt.jsxs)("button",{onClick:x,disabled:f,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,lt.jsx)(Oo,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),(0,lt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:k.map((e,t)=>{const n=e.icon;return(0,lt.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:`flex-shrink-0 ${e.iconColor}`,children:(0,lt.jsx)(n,{className:"h-6 w-6"})}),(0,lt.jsxs)("div",{className:"ml-3",children:[(0,lt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,lt.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.value})]})]})},t)})})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,lt.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})}),(0,lt.jsx)("input",{type:"text",placeholder:"Search users...",value:s,onChange:S,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),s&&(0,lt.jsxs)("button",{onClick:L,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:[(0,lt.jsx)("span",{className:"sr-only",children:"Clear search"}),"×"]})]}),(0,lt.jsx)("select",{value:t,onChange:e=>E(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:j.map(e=>(0,lt.jsx)("option",{value:e,children:"all"===e?"All Roles":e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,lt.jsxs)("select",{value:r,onChange:e=>O(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[(0,lt.jsx)("option",{value:"all",children:"All Courses"}),_.map(e=>(0,lt.jsx)("option",{value:e.id.toString(),children:e.title},e.id))]}),(0,lt.jsx)("select",{value:i,onChange:e=>C(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:N.map(e=>(0,lt.jsx)("option",{value:e,children:"all"===e?"All Statuses":"enrolled"===e?"Enrolled":"not_enrolled"===e?"Not Enrolled":e},e))})]}),(0,lt.jsx)("div",{className:"mt-4 flex justify-end",children:(0,lt.jsx)("button",{onClick:R,className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Clear All Filters"})})]}),"all"!==r&&(0,lt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)(tt,{className:"h-5 w-5 text-yellow-600 mr-2"}),(0,lt.jsxs)("div",{className:"flex-1",children:[(0,lt.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Course Management Mode"}),(0,lt.jsxs)("p",{className:"text-sm text-yellow-700 mt-1",children:["You're viewing users in the context of: ",_.find(e=>e.id.toString()===r)?.title]})]})]})}),(0,lt.jsx)(gt,{items:d,loading:f,error:p,pagination:m,viewMode:c,onViewModeChange:u,renderCard:e=>(0,lt.jsx)(To,{user:e,onView:A,onEnroll:q,onUnenroll:T,onUpdateRole:P,showEnrollment:"all"!==r,courseId:"all"!==r?r:null,viewMode:c},e.id),emptyState:{icon:it,title:"No users found",description:"No users match your current filters. Try adjusting your search or filter criteria.",actionLabel:"Clear Filters",onAction:R}})]})},Mo=function(){return(0,lt.jsx)(Ae,{children:(0,lt.jsx)("div",{className:"qe-lms-admin-app",children:(0,lt.jsxs)(le,{children:[(0,lt.jsx)(ae,{path:"/courses",element:(0,lt.jsx)(wt,{})}),(0,lt.jsx)(ae,{path:"/lessons",element:(0,lt.jsx)(Lt,{})}),(0,lt.jsx)(ae,{path:"/quizzes",element:(0,lt.jsx)(_o,{})}),(0,lt.jsx)(ae,{path:"/questions",element:(0,lt.jsx)(xo,{})}),(0,lt.jsx)(ae,{path:"/students",element:(0,lt.jsx)(Po,{})}),(0,lt.jsx)(ae,{path:"/settings",element:(0,lt.jsx)("h1",{children:"Página de Ajustes (Próximamente)"})}),(0,lt.jsx)(ae,{path:"*",element:(0,lt.jsx)(ie,{to:"/courses",replace:!0})})]})})})},Lo=document.getElementById("root");r.createRoot(Lo).render((0,lt.jsx)(t().StrictMode,{children:(0,lt.jsx)(Mo,{})}))})()})();